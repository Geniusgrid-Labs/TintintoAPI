const a13_0x22f685=a13_0x4894;(function(_0x13549e,_0x3f07e1){const _0x2a08a3=a13_0x4894;const _0x4ab86f=_0x13549e();while(!![]){try{const _0x15c988=parseInt(_0x2a08a3(0x15e))/0x1+-parseInt(_0x2a08a3(0x159))/0x2*(-parseInt(_0x2a08a3(0x152))/0x3)+parseInt(_0x2a08a3(0x15d))/0x4+-parseInt(_0x2a08a3(0x14e))/0x5+parseInt(_0x2a08a3(0x164))/0x6+parseInt(_0x2a08a3(0x15c))/0x7+-parseInt(_0x2a08a3(0x163))/0x8;if(_0x15c988===_0x3f07e1){break;}else{_0x4ab86f['push'](_0x4ab86f['shift']());}}catch(_0x367c5a){_0x4ab86f['push'](_0x4ab86f['shift']());}}}(a13_0x20db,0x9eefe));require('dotenv')[a13_0x22f685(0x16f)]();const devicesModel=require(a13_0x22f685(0x15f));const {default:axios}=require(a13_0x22f685(0x177));const tasksModel=require(a13_0x22f685(0x14f));const {getData}=require('./utils/helper');const db=require(a13_0x22f685(0x170));const playedModel=require(a13_0x22f685(0x149));const {QueryTypes}=require(a13_0x22f685(0x179));const httpAxios=axios[a13_0x22f685(0x155)]({'baseURL':process[a13_0x22f685(0x156)][a13_0x22f685(0x16c)]});const getCountOfPlays=async _0x3128d4=>{const _0x5209e1=a13_0x22f685;return await Promise[_0x5209e1(0x178)](Array(0x4b)[_0x5209e1(0x17d)](0x1)?.[_0x5209e1(0x16a)]((_0x50f09e,_0x2c7922)=>{return new Promise(async _0x40bca3=>{const _0x2b53cf=a13_0x4894;const _0x2ecefc=_0x2c7922+0x1;const _0x2f4ced=await db[_0x2b53cf(0x16b)](_0x2b53cf(0x161)+_0x2ecefc+'\x20IN\x20(play_numbers)',{'replacements':[],'type':QueryTypes[_0x2b53cf(0x172)]});_0x40bca3({..._0x2f4ced[0x0],'number':_0x2ecefc});});}))[_0x5209e1(0x16d)](_0x313048=>{return _0x313048;})[_0x5209e1(0x15b)](_0x17a206=>{const _0x49c8e8=_0x5209e1;logger[_0x49c8e8(0x15a)](_0x17a206);return[];});};const checkResult=async(_0x3967f2,_0x3e718c,_0x29f620,_0x156799)=>{const _0x5d3be1=a13_0x22f685;const _0x511ec1=await totalPayout(_0x3e718c?.['id'],_0x3967f2);const {payout:_0x4573b3}=_0x511ec1?.[_0x5d3be1(0x157)];const _0x5e898c=Number(+_0x29f620?.[_0x5d3be1(0x160)]-+_0x4573b3)[_0x5d3be1(0x169)](0x2);const _0x5e7493=(Number(+_0x4573b3/+_0x29f620?.[_0x5d3be1(0x160)])*0x64||0x0)[_0x5d3be1(0x169)](0x2);logger['info'](_0x5e7493+_0x5d3be1(0x16e)+_0x3967f2);if(+_0x5e7493<=+_0x156799){return{..._0x511ec1,'draw_results':_0x3967f2,'margin':_0x5e898c,'marginRate':_0x5e7493};}return![];};function a13_0x20db(){const _0x35409d=['588538sFhMpO','./models/devices','collected','select\x20count(*)\x20as\x20count\x20from\x20tickets\x20where\x20','WITH\x20cte\x20as\x20(select\x20*,\x20\x0a\x20\x20IF(SUBSTRING_INDEX(play_numbers,\x22,\x22,1)\x20IN\x20(','26530304hvnlQg','6972348rIsrIw','Draw\x202-2-1\x20way\x20split\x20started\x20','length','select\x20count(*)\x20as\x20count,sum(stake)\x20as\x20stake,sum(amount_collected)\x20as\x20collected\x20from\x20tickets','*stake\x20\x0a\x20\x20\x20\x20\x20\x20WHEN\x20(perm1+perm2+perm3+perm4+perm5+perm6+perm7+perm8+perm9+perm10)=6\x20THEN\x2015*','toFixed','map','query','api','then','\x20:\x20','config','./utils/db','*stake\x20\x0a\x20\x20\x20\x20\x20\x20WHEN\x20(perm1+perm2+perm3+perm4+perm5+perm6+perm7+perm8+perm9+perm10)=5\x20THEN\x2010*','SELECT',')\x20AND\x20LENGTH(play_numbers)\x20-\x20LENGTH(REPLACE(play_numbers,\x20\x27,\x27,\x20\x27\x27))\x20+\x201>=7,1,0)\x20AS\x20perm7,\x0a\x20\x20IF(SUBSTRING_INDEX(SUBSTRING_INDEX(play_numbers,\x20\x27,\x27,\x208),\x20\x27,\x27,\x20-1)\x20IN\x20(','number',')\x20AND\x20LENGTH(play_numbers)\x20-\x20LENGTH(REPLACE(play_numbers,\x20\x27,\x27,\x20\x27\x27))\x20+\x201>=10,1,0)\x20AS\x20perm10\x0a\x20\x20from\x20tickets\x20where\x20play_type=?\x20having\x20(perm1+perm2+perm3+perm4+perm5+perm6+perm7+perm8+perm9+perm10)>1)\x20select\x20\x0a\x20\x20*,(\x0a\x20\x20\x20\x20\x20\x20CASE\x0a\x20\x20\x20\x20\x20\x20WHEN\x20(perm1+perm2+perm3+perm4+perm5+perm6+perm7+perm8+perm9+perm10)=2\x20THEN\x20','count','axios','all','sequelize',')\x20AND\x20LENGTH(play_numbers)\x20-\x20LENGTH(REPLACE(play_numbers,\x20\x27,\x27,\x20\x27\x27))\x20+\x201>=9,1,0)\x20AS\x20perm9,\x0a\x20\x20IF(SUBSTRING_INDEX(SUBSTRING_INDEX(play_numbers,\x20\x27,\x27,\x2010),\x20\x27,\x27,\x20-1)IN\x20(','),1,0)\x20AS\x20perm3,\x0a\x20\x20IF(SUBSTRING_INDEX(SUBSTRING_INDEX(play_numbers,\x20\x27,\x27,\x204),\x20\x27,\x27,\x20-1)\x20IN\x20(','*stake\x20\x0a\x20\x20\x20\x20\x20\x20WHEN\x20(perm1+perm2+perm3+perm4+perm5+perm6+perm7+perm8+perm9+perm10)=8\x20THEN\x2028*','fill','./models/played',')\x20AND\x20LENGTH(play_numbers)\x20-\x20LENGTH(REPLACE(play_numbers,\x20\x27,\x27,\x20\x27\x27))\x20+\x201>=4,1,0)\x20AS\x20perm4,\x0a\x20\x20IF(SUBSTRING_INDEX(SUBSTRING_INDEX(play_numbers,\x20\x27,\x27,\x205),\x20\x27,\x27,\x20-1)\x20IN\x20(','-1002146477299','SELECT\x20*\x20from\x20draws\x20where\x20id=397\x20order\x20by\x20id\x20DESC\x20limit\x200,1','*stake\x20\x0a\x20\x20\x20\x20\x20\x20WHEN\x20(perm1+perm2+perm3+perm4+perm5+perm6+perm7+perm8+perm9+perm10)=4\x20THEN\x206*','2887390Gtafiy','./models/tasks','multiplier','info','195309fPWrxm','*stake\x20\x0a\x20\x20\x20\x20\x20\x20WHEN\x20(perm1+perm2+perm3+perm4+perm5+perm6+perm7+perm8+perm9+perm10)=7\x20THEN\x2021*','sort','create','env','summary','*stake\x0a\x20\x20\x20\x20\x20\x20WHEN\x20(perm1+perm2+perm3+perm4+perm5+perm6+perm7+perm8+perm9+perm10)=3\x20THEN\x203*','30ZuDIJW','error','catch','8370005aOwcXX','2487664oPwmGZ'];a13_0x20db=function(){return _0x35409d;};return a13_0x20db();}const perm2Sql=(_0x3e1df6,_0x1b42f2)=>a13_0x22f685(0x162)+_0x3e1df6+'),1,0)\x20AS\x20perm1,\x0a\x20\x20IF(SUBSTRING_INDEX(SUBSTRING_INDEX(play_numbers,\x20\x27,\x27,\x202),\x20\x27,\x27,\x20-1)\x20IN\x20('+_0x3e1df6+'),1,0)\x20AS\x20perm2,\x0a\x20\x20IF(SUBSTRING_INDEX(SUBSTRING_INDEX(play_numbers,\x20\x27,\x27,\x203),\x20\x27,\x27,\x20-1)\x20IN\x20('+_0x3e1df6+a13_0x22f685(0x17b)+_0x3e1df6+a13_0x22f685(0x14a)+_0x3e1df6+')\x20AND\x20LENGTH(play_numbers)\x20-\x20LENGTH(REPLACE(play_numbers,\x20\x27,\x27,\x20\x27\x27))\x20+\x201>=5,1,0)\x20AS\x20perm5,\x0a\x20\x20IF(SUBSTRING_INDEX(SUBSTRING_INDEX(play_numbers,\x20\x27,\x27,\x206),\x20\x27,\x27,\x20-1)\x20IN\x20('+_0x3e1df6+')\x20AND\x20LENGTH(play_numbers)\x20-\x20LENGTH(REPLACE(play_numbers,\x20\x27,\x27,\x20\x27\x27))\x20+\x201>=6,1,0)\x20AS\x20perm6,\x0a\x20\x20IF(SUBSTRING_INDEX(SUBSTRING_INDEX(play_numbers,\x20\x27,\x27,\x207),\x20\x27,\x27,\x20-1)\x20IN\x20('+_0x3e1df6+a13_0x22f685(0x173)+_0x3e1df6+')\x20AND\x20LENGTH(play_numbers)\x20-\x20LENGTH(REPLACE(play_numbers,\x20\x27,\x27,\x20\x27\x27))\x20+\x201>=8,1,0)\x20AS\x20perm8,\x0a\x20\x20IF(SUBSTRING_INDEX(SUBSTRING_INDEX(play_numbers,\x20\x27,\x27,\x209),\x20\x27,\x27,\x20-1)\x20IN\x20('+_0x3e1df6+a13_0x22f685(0x17a)+_0x3e1df6+a13_0x22f685(0x175)+_0x1b42f2?.[a13_0x22f685(0x150)]+a13_0x22f685(0x158)+_0x1b42f2?.[a13_0x22f685(0x150)]+a13_0x22f685(0x14d)+_0x1b42f2?.[a13_0x22f685(0x150)]+a13_0x22f685(0x171)+_0x1b42f2?.['multiplier']+a13_0x22f685(0x168)+_0x1b42f2?.[a13_0x22f685(0x150)]+a13_0x22f685(0x153)+_0x1b42f2?.[a13_0x22f685(0x150)]+a13_0x22f685(0x17c)+_0x1b42f2?.['multiplier']+'*stake\x20\x0a\x20\x20\x20\x20\x20\x20WHEN\x20(perm1+perm2+perm3+perm4+perm5+perm6+perm7+perm8+perm9+perm10)=9\x20THEN\x2036*'+_0x1b42f2?.[a13_0x22f685(0x150)]+'*stake\x20\x0a\x20\x20\x20\x20\x20\x20WHEN\x20(perm1+perm2+perm3+perm4+perm5+perm6+perm7+perm8+perm9+perm10)=10\x20THEN\x2045*'+_0x1b42f2?.[a13_0x22f685(0x150)]+'*stake\x20\x0a\x20\x20\x20\x20\x20\x20ELSE\x200\x0a\x20\x20\x20\x20\x20\x20END\x0a\x20\x20)\x20as\x20payout\x0a\x20\x20from\x20cte;';function a13_0x4894(_0x5f459b,_0x1e6b4a){const _0x20dbcc=a13_0x20db();a13_0x4894=function(_0x489446,_0x465bf0){_0x489446=_0x489446-0x149;let _0x4b45fe=_0x20dbcc[_0x489446];return _0x4b45fe;};return a13_0x4894(_0x5f459b,_0x1e6b4a);}const split2n2n1Algorithm=async(_0x4e2fa9,_0x21af3a,_0x20033f={},_0x18077e=0x46)=>{const _0x54f130=a13_0x22f685;telegram(_0x54f130(0x165),_0x54f130(0x14b));const _0x2fb2ee=[];let _0x529023=[];const _0x19b24e=_0x21af3a[_0x54f130(0x154)]((_0x3c8aef,_0x167d69)=>_0x3c8aef[_0x54f130(0x176)]>_0x167d69['count']?0x1:-0x1);const _0x2de15e=_0x19b24e[_0x54f130(0x16a)](_0x55e12f=>_0x55e12f[_0x54f130(0x174)]);let _0x5c39c5=_0x2de15e['slice'](0x0,0x5);let _0x5905e1=0x5;while(_0x5905e1<_0x2de15e[_0x54f130(0x166)]){try{for(let _0x11ad2f=0x0;_0x11ad2f<0x5;_0x11ad2f++){const _0xe25a92=[..._0x5c39c5];_0xe25a92[_0x11ad2f]=_0x2de15e[_0x5905e1];_0x2fb2ee['push'](_0xe25a92);}}catch(_0x491a2d){}finally{_0x5905e1++;}}let _0x4c62fd=0x0,_0x1ea3a1=[];const _0x4d08a4=[];let _0x4a1c25=0x0;while(_0x4c62fd<_0x2fb2ee[_0x54f130(0x166)]){const _0x3b0820=_0x2fb2ee[_0x4c62fd];const _0x4503c4=await checkResult(_0x3b0820,_0x4e2fa9,_0x20033f,_0x18077e);if(_0x4503c4)_0x529023['push'](_0x4503c4);if(_0x4c62fd%0x64===0x0)telegram('Draw\x20run\x20random\x202\x20running\x20at\x20postion:\x20'+_0x4c62fd+'\x20',_0x54f130(0x14b));_0x4c62fd++;}logger[_0x54f130(0x151)](_0x4a1c25);return _0x529023;};((async()=>{const _0x541752=a13_0x22f685;let _0x38abe3=await getData(_0x541752(0x14c));let _0x521f5e=await db['query'](_0x541752(0x167),{'replacements':[],'type':QueryTypes[_0x541752(0x172)]});_0x521f5e=_0x521f5e[0x0];const _0x28a495=await getCountOfPlays(_0x38abe3?.['id']);const _0x36d411=await split2n2n1Algorithm(draw,_0x28a495,_0x521f5e,threshold);})());