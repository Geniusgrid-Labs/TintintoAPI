const a3_0x125980=a3_0x12c3;(function(_0x588fd1,_0x236493){const _0x5944fa=a3_0x12c3,_0x105a97=_0x588fd1();while(!![]){try{const _0x3f34c4=parseInt(_0x5944fa(0xbe))/0x1*(-parseInt(_0x5944fa(0xfe))/0x2)+-parseInt(_0x5944fa(0x78))/0x3+parseInt(_0x5944fa(0xdd))/0x4*(-parseInt(_0x5944fa(0x97))/0x5)+parseInt(_0x5944fa(0x112))/0x6+parseInt(_0x5944fa(0x72))/0x7+parseInt(_0x5944fa(0xf0))/0x8*(parseInt(_0x5944fa(0x108))/0x9)+parseInt(_0x5944fa(0xce))/0xa;if(_0x3f34c4===_0x236493)break;else _0x105a97['push'](_0x105a97['shift']());}catch(_0xb43bda){_0x105a97['push'](_0x105a97['shift']());}}}(a3_0x4d38,0xe80a8),require(a3_0x125980(0xfb))[a3_0x125980(0xc4)]());const net=require(a3_0x125980(0xe1)),Telegraf=require(a3_0x125980(0xae))[a3_0x125980(0xf7)],bot=new Telegraf(process[a3_0x125980(0xd2)][a3_0x125980(0xc1)]),{default:axios}=require(a3_0x125980(0x10d)),flatfile=require(a3_0x125980(0x9c)),http=require(a3_0x125980(0xbf)),express=require(a3_0x125980(0x7a)),cors=require(a3_0x125980(0xbd)),{Server}=require(a3_0x125980(0x93)),db=require(a3_0x125980(0xc7)),msisdnModel=require(a3_0x125980(0x7d)),{DBCheck}=require(a3_0x125980(0x75)),{features}=require(a3_0x125980(0xf2)),featuresModel=require(a3_0x125980(0x7b)),adminModel=require(a3_0x125980(0x8c)),devicesModel=require(a3_0x125980(0xb2));function a3_0x12c3(_0x28c98b,_0x2a4045){const _0x4d3811=a3_0x4d38();return a3_0x12c3=function(_0x12c3c8,_0x5241c0){_0x12c3c8=_0x12c3c8-0x6c;let _0xeac31a=_0x4d3811[_0x12c3c8];return _0xeac31a;},a3_0x12c3(_0x28c98b,_0x2a4045);}var app=express();app['use'](cors({'credentials':!![]})),app[a3_0x125980(0x7f)](function(_0x32ade9,_0x1cd7f2,_0x2ecdac){const _0x40384e=a3_0x125980;_0x1cd7f2[_0x40384e(0xd5)](_0x40384e(0x6e),'*'),_0x1cd7f2[_0x40384e(0xd5)](_0x40384e(0xd7),_0x40384e(0x10e)),_0x1cd7f2[_0x40384e(0xd5)](_0x40384e(0x92),_0x40384e(0xb6)),_0x2ecdac();});var http_=require(a3_0x125980(0xbf))[a3_0x125980(0x10f)](app),io=new Server(http_,{'cors':{'origin':'*'}});let socket_session=null;function a3_0x4d38(){const _0x2624d1=['List\x20of\x20numbers\x20\x0a\x0a','flat-file-db','Something\x20went\x20wrong\x20retry','selectedMobile','mobile','admin/login','admin/redis/','VF\x20Check\x20Number','device_id','\x20Device\x0a\x0aChoose\x20the\x20device\x20to\x20process\x20this\x20command\x0a','games','text','2161392607','766','disconnect','Client\x20disconnected','user/ussd/ticket/','command=*170#:4:1','message','telegraf','Which\x20games\x20fo\x20you\x20want\x20to\x20include\x20in\x20the\x20plays\x0aOptions\x20\x0a1.\x20A1\x0a2.\x20A2\x0a3.\x20P2\x0a4.\x20B\x0a\x0aeg\x201,2,3,4','random','launch','./models/devices','findOne','step','MTN\x20Pin\x20Change','Origin,\x20X-Requested-With,content-type,Accept','data','Choose\x20the\x20device\x20to\x20process\x20this\x20command\x0a','How\x20many\x20games\x20do\x20you\x20want\x20to\x20play\x20in\x20total\x0aeg\x201','number','count','ussdMenu','cors','136DPfPaG','http','reply','telegram_bot','Waiting\x20for\x20next\x20trigger','What\x20DB\x20key\x20or\x20data\x20are\x20we\x20working\x20with','config','What\x20are\x20you\x20looking\x20for\x20here','\x0aVF-MTN\x20transfer\x20\x0acommand=*110#:1:2:1:0531644806:0531644806:1:1:cash:9834','./db','Client\x20connected\x20to\x20the\x20WebSocket','command=*127#:1','Choose\x20a\x20number\x20and\x20proceed\x0a\x0a','confirmData','action','waiting','6366090pQeapH','confirm','Database\x20menu\x20\x0a\x0a\x20Choose\x20an\x20option\x0a1.\x20Get\x20data\x0a2.Set\x20Data\x0a3.\x20Remove\x20Data\x0a4.\x20Append\x20to\x20existing\x20\x0a0.\x20For\x20DB\x20menu','\x0a\x0a0.\x20Back','env','del','Bearer\x20','setHeader','sessId','Access-Control-Allow-Methods','admin/redis','VODAFONE','length','App\x20listening\x20at\x20https://%s:%s','msIsdn','764JWLyWL','session','post','from','net','send','\x20\x20|\x20','create','put','device_holder','address','command','auto','command=*170#:6:6:1:1388:1389:1389','holder','MTN','*766#','string','command=*170#:6:1:pincode','4192lrAfiZ','token','process','option','toLowerCase','findAll','inboundResponse','Telegraf','5927584357','floor','listen','dotenv','Cancelled\x20and\x20moving\x20to\x20the\x20next','log','22306aFenTp','YES','VF\x20Balance\x20Check','Access\x20granted\x20to\x20the\x20kingdom.\x0a\x0a','command=*110#:6:1:1:pincode','pin','device','Who\x20the\x20fuck\x20are\x20you?','emit','done','423SLLsIl','\x20|\x20','MTN\x20Balance\x20Check','command=*156#:1','ids','axios','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','createServer','Redis\x20menu\x20\x0a\x0a\x20Choose\x20an\x20option\x0a1.\x20Get\x20data\x0a2.Set\x20Data\x0a3.\x20Remove\x20Data\x0a4.\x20Append\x20to\x20existing\x20\x0a0.\x20For\x20redis\x20menu','subStep','6254220pyQomY','\x0aSetData\x20\x20\x0agetData:test.text:encoded','MTN\x20Check\x20Number','stringify','dataVales','MTN\x20transfer','dataValues','payload','chat\x20message','msisdn','Access-Control-Allow-Origin','How\x20much\x20do\x20you\x20want\x20to\x20spend\x20on\x20each\x20game\x0aeg.\x203,2,5','join','split','12261557QWrChw','undefinde','\x20--Device\x0a\x0aEnter\x20the\x20command\x20to\x20send\x20\x0a','./helper','Do\x20you\x20want\x20to\x20confirm\x20each\x20iteration?\x20\x0a1.\x20Yes\x0a0.\x20No\x0a','null','2952570nPlPFV','includes','express','./models/features','\x20\x20|\x20\x20','./models/msisdn','Command\x20sent\x20to\x20','use','ussdString','\x20\x0a\x0a','push','\x0a\x0a0.To\x20change\x20device','\x0aMTN-MTN\x20transfer\x20\x0acommand=*170#:1:1:0531644805:0531644805:1:cash:#:1389','pincode','parse','replace','vodafone','name','status','sessionId','./models/admin','Yes','port','network','stake','update','Access-Control-Allow-Headers','socket.io','\x20processing\x20\x0a0\x20To\x20change\x20device','Vodafone','233208444900','100WLOoRb','get','233531644806','map'];a3_0x4d38=function(){return _0x2624d1;};return a3_0x4d38();}app['get']('*',function(_0x224bcc,_0x35e82e){const _0x283c4a=a3_0x125980;_0x35e82e[_0x283c4a(0x8a)](0xc8)[_0x283c4a(0xe2)](_0x283c4a(0xc5));}),http_[a3_0x125980(0xfa)](0xbb8,function(){const _0x4bf8f4=a3_0x125980;var _0x481f27=http_['address']()[_0x4bf8f4(0xe7)],_0x3650bc=http_[_0x4bf8f4(0xe7)]()[_0x4bf8f4(0x8e)];console['log'](_0x4bf8f4(0xdb),_0x481f27,_0x3650bc);}),io['on']('connection',function(_0x7fbfee){const _0x5e15c4=a3_0x125980;console[_0x5e15c4(0xfd)](_0x5e15c4(0xc8)),socket_session=_0x7fbfee,_0x7fbfee['on'](_0x5e15c4(0xa9),()=>{const _0x4c4e5f=_0x5e15c4;console[_0x4c4e5f(0xfd)](_0x4c4e5f(0xaa));}),_0x7fbfee['on'](_0x5e15c4(0x6c),function(_0x245049){const _0x26cba5=_0x5e15c4;console[_0x26cba5(0xfd)]('Received\x20a\x20chat\x20message'),io[_0x26cba5(0x106)](_0x26cba5(0x6c),_0x245049);});}),DBCheck();const httpAxios=axios['create']({'baseURL':process['env']['api']}),randomGen=(_0x1d87cd,_0x1d7994)=>Math[a3_0x125980(0xf9)](Math[a3_0x125980(0xb0)]()*(_0x1d87cd-_0x1d7994+0x1))+_0x1d7994,sessionGen=()=>Array[a3_0x125980(0xe0)]({'length':0x3})[a3_0x125980(0x9a)](_0x36562e=>randomGen(0x3e8,0x270f))[a3_0x125980(0x70)](''),sleep=_0x561147=>new Promise(_0x17028c=>setTimeout(_0x17028c,_0x561147)),ussd={'shortCode':a3_0x125980(0xa8),'msIsdn':a3_0x125980(0x99),'text':a3_0x125980(0xed),'imsi':'','optional':'','ussdGwId':a3_0x125980(0x95),'language':a3_0x125980(0x77),'sessId':'2161392607','network':a3_0x125980(0xec),'messageType':0x1,'sessionId':a3_0x125980(0xa7),'msisdn':a3_0x125980(0x99),'ussdString':a3_0x125980(0xed),'serviceCode':''},vf={'shortCode':a3_0x125980(0xa8),'msIsdn':a3_0x125980(0x96),'text':'*766#','imsi':'','optional':'','ussdGwId':a3_0x125980(0x95),'language':a3_0x125980(0x77),'sessId':a3_0x125980(0xf8)},displayCommands=[a3_0x125980(0xc6),a3_0x125980(0x84),'\x0aSetData\x20\x20\x0awriteData:test.text=tes:encoded',a3_0x125980(0x113)],commandList=[{'name':a3_0x125980(0xa2),'command':a3_0x125980(0xc9)},{'name':a3_0x125980(0x114),'command':a3_0x125980(0x10b)},{'name':a3_0x125980(0x10a),'command':a3_0x125980(0xef)},{'name':a3_0x125980(0xb5),'command':a3_0x125980(0xea)},{'name':'MTN\x20Allow\x20Cash\x20Out','command':a3_0x125980(0xac)},{'name':a3_0x125980(0x117),'command':''},{'name':a3_0x125980(0x100),'command':a3_0x125980(0x102)},{'name':a3_0x125980(0x100),'command':a3_0x125980(0x102)}],logic=async _0x2f8b59=>{const _0x2957eb=a3_0x125980;let _0x54019b=await featuresModel[_0x2957eb(0xf5)]();_0x54019b=_0x54019b?.[_0x2957eb(0x9a)](_0x12b31f=>_0x12b31f[_0x2957eb(0x118)]);const {text:_0x5b1b99,chat:_0x38e69d}=_0x2f8b59?.[_0x2957eb(0x91)]?.[_0x2957eb(0xad)];if(![0x480fe8d9][_0x2957eb(0x79)](_0x38e69d?.['id'])){_0x2f8b59[_0x2957eb(0xc0)]('Fuck\x20off\x20intruder');return;}let _0x40effa=_0x2957eb(0x105),_0x5634db='',_0x4139ca=0x0,_0xb9bb69={};try{const _0x13963e=''+_0x38e69d?.['id'];if(_0x5b1b99==='#'){const _0x5b2d5a=await adminModel['findOne']({'where':{'name':_0x13963e}});if(_0x5b2d5a?.['dataValues']?.['id'])await adminModel['update']({'session':'{}','name':_0x13963e},{'where':{'name':_0x13963e}});else await adminModel[_0x2957eb(0xe4)]({'session':'{}','name':_0x13963e,'token':''});let _0x7b0578=await adminModel['findOne']({'where':{'name':_0x13963e}});if(_0x7b0578?.[_0x2957eb(0x118)]?.[_0x2957eb(0xf1)]){const _0x5e7db5=JSON[_0x2957eb(0x86)](_0x7b0578?.['dataValues'][_0x2957eb(0xde)]??'{}');_0x5e7db5[_0x2957eb(0xb4)]=0x2,_0x40effa=_0x2957eb(0x101)+_0x54019b?.[_0x2957eb(0x9a)](_0x1c79a3=>_0x1c79a3['id']+'.\x20'+_0x1c79a3[_0x2957eb(0x89)])[_0x2957eb(0x70)]('\x0a'),await adminModel['update']({'session':JSON[_0x2957eb(0x115)](_0x5e7db5)},{'where':{'name':_0x13963e}});}}else{const _0x4d3b96=await adminModel['findOne']({'where':{'name':_0x13963e}}),_0x39e1f7=JSON[_0x2957eb(0x86)](_0x4d3b96?.['dataValues']['session']??'{}');if(!_0x39e1f7?.[_0x2957eb(0xb4)])_0x40effa='Hello\x20'+_0x5b1b99+'\x0aGive\x20me\x20access\x20to\x20your\x20life.\x20If\x20you\x20know\x20you\x20know',_0x39e1f7[_0x2957eb(0xb4)]=0x1,_0x39e1f7['name']=_0x5b1b99;else{if(_0x39e1f7?.[_0x2957eb(0xb4)]===0x1){const _0x9a5a1e=_0x5b1b99[_0x2957eb(0x71)]('|'),_0x5d50fd=await httpAxios[_0x2957eb(0xdf)](_0x2957eb(0xa0),{'mobile':_0x9a5a1e[0x0],'password':_0x9a5a1e[0x1]});await adminModel['update']({'token':_0x5d50fd?.[_0x2957eb(0xb7)]?.[_0x2957eb(0xf1)]},{'where':{'name':_0x13963e}}),_0x39e1f7[_0x2957eb(0xb4)]=0x2,_0x40effa=_0x2957eb(0x101)+_0x54019b?.[_0x2957eb(0x9a)](_0x45e095=>_0x45e095['id']+'.\x20'+_0x45e095['name'])[_0x2957eb(0x70)]('\x0a');}else{if(_0x39e1f7?.[_0x2957eb(0xb4)]===0x2){let _0x23b854=await msisdnModel[_0x2957eb(0xf5)]();_0x23b854=_0x23b854?.['map'](_0x169355=>_0x169355[_0x2957eb(0x118)]);if(_0x5b1b99==='1')_0x39e1f7[_0x2957eb(0xf3)]=0x1,_0x40effa='Choose\x20a\x20number\x20and\x20proceed\x0a\x0a'+_0x23b854?.[_0x2957eb(0x9a)]((_0x31d61f,_0x5f1437)=>_0x5f1437+0x1+'.\x20'+_0x31d61f[_0x2957eb(0x9f)]+'\x20('+_0x31d61f['network']+')')[_0x2957eb(0x70)]('\x0a'),_0x39e1f7[_0x2957eb(0xcc)]=+_0x5b1b99,_0x39e1f7[_0x2957eb(0xb4)]=0x3;else{if(_0x5b1b99==='2')_0x40effa=_0x2957eb(0x9b)+_0x23b854?.[_0x2957eb(0x9a)](_0x4a7514=>_0x4a7514[_0x2957eb(0x9f)]+_0x2957eb(0x7c)+_0x4a7514['network'][_0x2957eb(0xf4)]()+_0x2957eb(0xe3)+_0x4a7514[_0x2957eb(0xeb)]+_0x2957eb(0x109)+_0x4a7514[_0x2957eb(0x103)])[_0x2957eb(0x70)]('\x0a');else{if(_0x5b1b99==='3')_0x39e1f7['step']=0x4,_0x40effa='Redis\x20menu\x20\x0a\x0a\x20Choose\x20an\x20option\x0a1.\x20Get\x20data\x0a2.Set\x20Data\x0a3.\x20Remove\x20Data\x0a0.\x20For\x20redis\x20menu';else{if(_0x5b1b99==='4')_0x39e1f7[_0x2957eb(0xb4)]=0x5,_0x40effa=_0x2957eb(0xd0);else{if(_0x5b1b99==='5')_0x39e1f7[_0x2957eb(0xb4)]=0x6,_0x40effa=_0x2957eb(0xca)+_0x23b854?.[_0x2957eb(0x9a)]((_0x2f3331,_0x22b799)=>_0x22b799+0x1+'.\x20'+_0x2f3331[_0x2957eb(0x9f)]+'\x20('+_0x2f3331['network']+')')[_0x2957eb(0x70)]('\x0a');else{if(_0x5b1b99==='6'){_0x39e1f7['step']=0x7,_0x39e1f7[_0x2957eb(0xe8)]={'step':0x1};let _0x167d16=await devicesModel['findAll']();_0x167d16=_0x167d16?.['map'](_0x2593a7=>_0x2593a7['dataValues']),_0x40effa=_0x2957eb(0xb8)+_0x167d16?.[_0x2957eb(0x9a)]((_0x4435e0,_0x5a84fa)=>_0x4435e0['id']+'.\x20'+_0x4435e0[_0x2957eb(0xe6)])[_0x2957eb(0x70)]('\x0a');}}}}}}}else{if(_0x39e1f7?.[_0x2957eb(0xb4)]===0x3){if(_0x39e1f7[_0x2957eb(0xf3)]===0x1){let _0x244e46=await msisdnModel['findAll']();_0x244e46=_0x244e46?.['map'](_0x4cc9f1=>_0x4cc9f1[_0x2957eb(0x118)]);const _0x3c4868=_0x244e46[+_0x5b1b99-0x1];let _0x458712=ussd;_0x3c4868?.['network']===_0x2957eb(0xd9)?(_0x458712=vf,_0x458712[_0x2957eb(0xdc)]=_0x3c4868?.[_0x2957eb(0x9f)],_0x458712['sessId']=sessionGen()):(_0x458712[_0x2957eb(0x6d)]=_0x3c4868?.['mobile'],_0x458712[_0x2957eb(0xdc)]=_0x3c4868?.[_0x2957eb(0x9f)],_0x458712['sessionId']=sessionGen());_0x39e1f7['payload']=_0x458712,_0x39e1f7['selectedMobile']=_0x3c4868;const _0x373ac9=await httpAxios[_0x2957eb(0xdf)](_0x2957eb(0xab)+(_0x39e1f7['selectedMobile']?.[_0x2957eb(0x8f)]===_0x2957eb(0xec)?'':'vodafone'),_0x458712);_0x40effa=_0x373ac9?.[_0x2957eb(0xb7)]?.[_0x2957eb(0xb7)]?.['inboundResponse']||_0x373ac9?.['data']?.[_0x2957eb(0xbc)],_0x39e1f7['option']=0x2;}else{if(_0x39e1f7['option']===0x2){if(_0x39e1f7[_0x2957eb(0x9e)]?.[_0x2957eb(0x8f)]==='MTN')_0x39e1f7[_0x2957eb(0x119)][_0x2957eb(0x80)]=_0x5b1b99;else _0x39e1f7['payload']['text']=_0x5b1b99;const _0x2be22f=_0x5b1b99[_0x2957eb(0x71)]('\x20');if(_0x2be22f['length']>0x1){let _0x30214f=0x0;while(_0x30214f<_0x2be22f['length']){if(_0x39e1f7[_0x2957eb(0x9e)]?.[_0x2957eb(0x8f)]===_0x2957eb(0xec))_0x39e1f7[_0x2957eb(0x119)][_0x2957eb(0x80)]=_0x2be22f[_0x30214f];else _0x39e1f7[_0x2957eb(0x119)][_0x2957eb(0xa6)]=_0x2be22f[_0x30214f];_0x30214f++;const _0x2c7a56=await httpAxios[_0x2957eb(0xdf)](_0x2957eb(0xab)+(_0x39e1f7[_0x2957eb(0x9e)]?.[_0x2957eb(0x8f)]===_0x2957eb(0xec)?'':_0x2957eb(0x88)),_0x39e1f7[_0x2957eb(0x119)]);_0x40effa=_0x2c7a56?.[_0x2957eb(0xb7)]?.[_0x2957eb(0xb7)]?.[_0x2957eb(0xf6)]||_0x2c7a56?.[_0x2957eb(0xb7)]?.['ussdMenu'],_0x40effa=_0x39e1f7[_0x2957eb(0x9e)]?.['mobile']+'\x0a\x0a'+_0x40effa;if(_0x40effa['includes']('1.\x20Confirm'))break;else _0x2f8b59[_0x2957eb(0xc0)](_0x40effa);await sleep(0x3e8);}}else{const _0x23c84e=await httpAxios['post']('user/ussd/ticket/'+(_0x39e1f7['selectedMobile']?.[_0x2957eb(0x8f)]==='MTN'?'':_0x2957eb(0x88)),_0x39e1f7['payload']);_0x40effa=_0x23c84e?.[_0x2957eb(0xb7)]?.[_0x2957eb(0xb7)]?.[_0x2957eb(0xf6)]||_0x23c84e?.[_0x2957eb(0xb7)]?.['ussdMenu'],_0x40effa=_0x39e1f7[_0x2957eb(0x9e)]?.[_0x2957eb(0x9f)]+'\x0a\x0a'+_0x40effa;}}}}else{if(_0x39e1f7?.[_0x2957eb(0xb4)]===0x4){if(_0x5b1b99==='0')_0x40effa='Redis\x20menu\x20\x0a\x0a\x20Choose\x20an\x20option\x0a1.\x20Get\x20data\x0a2.Set\x20Data\x0a3.\x20Remove\x20Data\x0a0.\x20For\x20redis\x20menu',delete _0x39e1f7[_0x2957eb(0x111)];else{if(!_0x39e1f7['subStep'])_0x40effa='What\x20key\x20are\x20we\x20working\x20with',_0x39e1f7[_0x2957eb(0x111)]=_0x5b1b99;else{let _0x46aa25=await adminModel[_0x2957eb(0xb3)]({'where':{'name':_0x13963e}}),_0x4e011d={},_0x3bfba1={'headers':{'Authorization':_0x2957eb(0xd4)+_0x46aa25?.[_0x2957eb(0x116)]?.['token']}};if(_0x39e1f7[_0x2957eb(0x111)]==='1')_0x4e011d=await httpAxios[_0x2957eb(0x98)](_0x2957eb(0xa1)+_0x5b1b99,_0x3bfba1);else{if(_0x39e1f7['subStep']==='2'){const _0x49d862=_0x5b1b99[_0x2957eb(0x71)]('=');_0x4e011d=await httpAxios[_0x2957eb(0xdf)](_0x2957eb(0xd8),{'key':_0x49d862[0x0],'value':_0x49d862[0x1]},_0x3bfba1);}else{if(_0x39e1f7[_0x2957eb(0x111)]==='3')_0x4e011d=await httpAxios['delete'](_0x2957eb(0xa1)+_0x5b1b99,_0x3bfba1);}}console[_0x2957eb(0xfd)](_0x4e011d),_0x40effa=_0x4e011d?.[_0x2957eb(0xb7)]??_0x2957eb(0x9d),_0x40effa=_0x40effa+_0x2957eb(0xd1),delete _0x39e1f7[_0x2957eb(0x111)];}}}else{if(_0x39e1f7?.['step']===0x5){if(_0x5b1b99==='0')_0x40effa=_0x2957eb(0x110),delete _0x39e1f7[_0x2957eb(0x111)];else{if(!_0x39e1f7['subStep'])_0x40effa=_0x2957eb(0xc3),_0x39e1f7[_0x2957eb(0x111)]=_0x5b1b99;else{if(_0x39e1f7['subStep']==='1')resp=db[_0x2957eb(0x98)](_0x5b1b99),_0x40effa=JSON['stringify'](resp,null,0x3);else{if(_0x39e1f7[_0x2957eb(0x111)]==='2'){const _0x5f2f0b=_0x5b1b99[_0x2957eb(0x71)]('=');try{const _0x2e34a6=JSON[_0x2957eb(0x86)](_0x5f2f0b[0x1]);resp=db[_0x2957eb(0xe5)](_0x5f2f0b[0x0],_0x2e34a6);}catch(_0x1c5e3d){resp=db['put'](_0x5f2f0b[0x0],_0x5f2f0b[0x1]);}resp=db['get'](_0x5f2f0b[0x0]),_0x40effa=JSON[_0x2957eb(0x115)](resp,null,0x3);}else{if(_0x39e1f7['subStep']==='3')db[_0x2957eb(0xd3)](_0x5b1b99),_0x40effa=_0x2957eb(0x107);else{if(_0x39e1f7[_0x2957eb(0x111)]==='4'){const _0x561735=_0x5b1b99[_0x2957eb(0x71)]('=');let _0x188653=db[_0x2957eb(0x98)](_0x561735[0x0]);if(_0x188653!==_0x2957eb(0x73))db[_0x2957eb(0xe5)](_0x561735[0x0],_0x561735[0x1]);else{if(typeof _0x188653===_0x2957eb(0xee))_0x188653+=_0x561735[0x1];else{if(typeof _0x188653==='object'){if(Array['isArray'](_0x188653))_0x188653['push'](_0x561735[0x1]);else _0x188653[_0x561735[0x1]]=_0x561735[0x2];db[_0x2957eb(0xe5)](_0x561735[0x0],_0x188653);}}}_0x40effa=_0x2957eb(0x107);}}}}_0x40effa+=_0x2957eb(0xd1),delete _0x39e1f7[_0x2957eb(0x111)];}}}else{if(_0x39e1f7?.[_0x2957eb(0xb4)]===0x6){if(!_0x39e1f7?.['auto']){_0x39e1f7['auto']={'done':0x0};let _0x56904c=await msisdnModel['findAll']();_0x56904c=_0x56904c?.['map'](_0x50fe2a=>_0x50fe2a[_0x2957eb(0x118)]);const _0x4f22d8=_0x56904c[+_0x5b1b99-0x1];_0x39e1f7[_0x2957eb(0xe9)][_0x2957eb(0xba)]=_0x4f22d8,_0x40effa=_0x2957eb(0xb9);}else{if(!_0x39e1f7?.['auto']?.['count'])_0x40effa=_0x2957eb(0x6f),_0x39e1f7[_0x2957eb(0xe9)][_0x2957eb(0xbb)]=+_0x5b1b99;else{if(!_0x39e1f7?.[_0x2957eb(0xe9)]?.[_0x2957eb(0x90)])_0x40effa=_0x2957eb(0xaf),_0x39e1f7[_0x2957eb(0xe9)]['stake']=_0x5b1b99[_0x2957eb(0x71)](',');else{if(!_0x39e1f7?.[_0x2957eb(0xe9)]?.[_0x2957eb(0xa5)])_0x40effa=_0x2957eb(0x76),_0x39e1f7[_0x2957eb(0xe9)][_0x2957eb(0xa5)]=_0x5b1b99;else{if(_0x5b1b99==='exit'){delete _0x39e1f7['auto'],_0x39e1f7[_0x2957eb(0xb4)]=0x1,_0x2f8b59[_0x2957eb(0xc0)]('1');return;}else{if(!_0x39e1f7?.[_0x2957eb(0xe9)]?.[_0x2957eb(0xcf)])_0x39e1f7[_0x2957eb(0xe9)]['confirm']=['1','yes',_0x2957eb(0x8d),_0x2957eb(0xff)][_0x2957eb(0x79)](_0x5b1b99)?0x1:0x0;if(_0x39e1f7?.['auto'][_0x2957eb(0xcb)]){_0x39e1f7['auto']['done']++;if(_0x5b1b99==='1'){_0x39e1f7['auto'][_0x2957eb(0xcb)][_0x39e1f7[_0x2957eb(0xe9)]['number']?.[_0x2957eb(0x8f)]===_0x2957eb(0xd9)?'text':_0x2957eb(0x80)]='1';const _0x1ceaa3=await httpAxios['post']('user/ussd/ticket/'+(_0x39e1f7[_0x2957eb(0xe9)][_0x2957eb(0xba)]?.[_0x2957eb(0x8f)]===_0x2957eb(0xec)?'':'vodafone'),_0x39e1f7?.[_0x2957eb(0xe9)][_0x2957eb(0xcb)]);_0x2f8b59[_0x2957eb(0xc0)](_0x1ceaa3?.['data']?.[_0x2957eb(0xb7)]?.[_0x2957eb(0xf6)]||_0x1ceaa3?.[_0x2957eb(0xb7)]?.[_0x2957eb(0xbc)]);}else _0x2f8b59[_0x2957eb(0xc0)](_0x2957eb(0xfc));delete _0x39e1f7?.[_0x2957eb(0xe9)][_0x2957eb(0xcb)],_0x39e1f7[_0x2957eb(0xe9)][_0x2957eb(0xcd)]=!![],await adminModel[_0x2957eb(0x91)]({'session':JSON[_0x2957eb(0x115)](_0x39e1f7)},{'where':{'name':_0x13963e}}),_0x40effa=_0x2957eb(0xc2);return;}_0x39e1f7?.[_0x2957eb(0xe9)]['waiting']&&delete _0x39e1f7['auto'][_0x2957eb(0xcd)];let _0x52f71f=!![];while(_0x39e1f7[_0x2957eb(0xe9)][_0x2957eb(0x107)]<+_0x39e1f7[_0x2957eb(0xe9)][_0x2957eb(0xbb)]&&_0x52f71f){let _0x48fcdd=ussd;_0x39e1f7['auto']?.[_0x2957eb(0xba)]?.[_0x2957eb(0x8f)]===_0x2957eb(0xd9)?(_0x48fcdd=vf,_0x48fcdd[_0x2957eb(0xdc)]=_0x39e1f7['auto']?.['number']?.['mobile'],_0x48fcdd[_0x2957eb(0xd6)]=sessionGen()):(_0x48fcdd['msisdn']=_0x39e1f7[_0x2957eb(0xe9)]?.[_0x2957eb(0xba)]?.['mobile'],_0x48fcdd[_0x2957eb(0xdc)]=_0x39e1f7[_0x2957eb(0xe9)]?.[_0x2957eb(0xba)]?.[_0x2957eb(0x9f)],_0x48fcdd[_0x2957eb(0x8b)]=sessionGen());let _0x5016fc=0x0,_0x1f79ce=null,_0x1365a8=_0x39e1f7[_0x2957eb(0xe9)]['number']?.[_0x2957eb(0x8f)]===_0x2957eb(0xd9)?_0x2957eb(0xa6):'ussdString';while(_0x5016fc<0x5){if(_0x5016fc===0x0)_0x48fcdd[_0x2957eb(0x80)]='1';else{if(_0x5016fc===0x1)_0x48fcdd[_0x1365a8]='1';else{if(_0x5016fc===0x2){const _0x2ba0b5=_0x39e1f7?.[_0x2957eb(0xe9)]?.[_0x2957eb(0xa5)]?.[_0x2957eb(0x71)](',');_0x1f79ce=Math['floor'](Math[_0x2957eb(0xb0)]()*(_0x2ba0b5['length']-0x0+0x1)+0x0),_0x48fcdd[_0x1365a8]=_0x2ba0b5?.[_0x1f79ce]??_0x2ba0b5[0x0],_0x1f79ce=+_0x48fcdd[_0x1365a8];}else{if(_0x5016fc===0x3){const _0x46cd72=[];let _0xd8311a=[0x0,0x1,0x2,0xa,0x1],_0x276a30=_0xd8311a[_0x1f79ce];if(_0x276a30===0xa)_0x276a30=Math['floor'](Math['random']()*(_0x276a30-0x3+0x1)+0x3);while(_0x46cd72[_0x2957eb(0xda)]!=_0x276a30){const _0x90e2a7=Math[_0x2957eb(0xf9)](Math['random']()*(0x4a-0x1+0x1)+0x1);if(!_0x46cd72[_0x2957eb(0x79)](_0x90e2a7))_0x46cd72[_0x2957eb(0x82)](_0x90e2a7);}_0x48fcdd[_0x1365a8]=_0x46cd72?.[_0x2957eb(0x70)](',');}else{if(_0x5016fc===0x4){const _0xda3a40=Math[_0x2957eb(0xf9)](Math[_0x2957eb(0xb0)]()*(_0x39e1f7?.[_0x2957eb(0xe9)]?.[_0x2957eb(0x90)][_0x2957eb(0xda)]-0x1-0x0+0x1)+0x0);_0x48fcdd[_0x1365a8]=_0x39e1f7?.['auto']?.[_0x2957eb(0x90)][_0xda3a40]??0x1;}}}}}let _0x275969=await httpAxios['post'](_0x2957eb(0xab)+(_0x39e1f7[_0x2957eb(0xe9)][_0x2957eb(0xba)]?.[_0x2957eb(0x8f)]===_0x2957eb(0xec)?'':_0x2957eb(0x88)),_0x48fcdd);_0x40effa=_0x275969?.[_0x2957eb(0xb7)]?.['data']?.[_0x2957eb(0xf6)]||_0x275969?.[_0x2957eb(0xb7)]?.[_0x2957eb(0xbc)],_0x5016fc===0x4&&(_0x39e1f7[_0x2957eb(0xe9)]['confirm']?(_0x39e1f7[_0x2957eb(0xe9)][_0x2957eb(0xcb)]=_0x48fcdd,_0x5016fc+=0x3e8,_0x52f71f=![]):(_0x39e1f7[_0x2957eb(0xe9)][_0x2957eb(0x107)]++,_0x48fcdd[_0x1365a8]=0x1,_0x2f8b59['reply'](_0x40effa),_0x275969=await httpAxios[_0x2957eb(0xdf)]('user/ussd/ticket/'+(_0x39e1f7['auto'][_0x2957eb(0xba)]?.[_0x2957eb(0x8f)]===_0x2957eb(0xec)?'':'vodafone'),_0x48fcdd),_0x40effa=_0x275969?.[_0x2957eb(0xb7)]?.[_0x2957eb(0xb7)]?.['inboundResponse']||_0x275969?.[_0x2957eb(0xb7)]?.[_0x2957eb(0xbc)],_0x2f8b59[_0x2957eb(0xc0)](_0x40effa),await sleep(0x2710))),await sleep(0xc8),_0x5016fc++;}}_0x39e1f7[_0x2957eb(0xe9)][_0x2957eb(0x107)]>=+_0x39e1f7[_0x2957eb(0xe9)][_0x2957eb(0xbb)]&&(delete _0x39e1f7[_0x2957eb(0xe9)],_0x39e1f7[_0x2957eb(0xb4)]=0x2,_0x40effa=_0x2957eb(0x101)+_0x54019b?.[_0x2957eb(0x9a)](_0x4f616f=>_0x4f616f['id']+'.\x20'+_0x4f616f['name'])[_0x2957eb(0x70)]('\x0a'));}}}}}}else{if(_0x39e1f7?.['step']===0x7){let _0xe12f8b=await devicesModel[_0x2957eb(0xf5)]();_0xe12f8b=_0xe12f8b?.[_0x2957eb(0x9a)](_0xe66ef5=>_0xe66ef5['dataValues']);let _0x36896e=await devicesModel['findByPk'](_0x5b1b99);_0x36896e=_0x36896e?.['dataValues'];if(_0x39e1f7?.[_0x2957eb(0xe8)]?.['step']===0x1)_0x39e1f7[_0x2957eb(0xe8)]['device']=_0x36896e,_0x39e1f7[_0x2957eb(0xe8)][_0x2957eb(0xb4)]=0x2,_0x40effa=_0x39e1f7[_0x2957eb(0xe8)][_0x2957eb(0x104)]?.['device_holder']+(_0x2957eb(0x74)+commandList?.[_0x2957eb(0x9a)]((_0x1bfa0d,_0x2cdca8)=>_0x2cdca8+0x1+'.\x20'+_0x1bfa0d?.[_0x2957eb(0x89)])[_0x2957eb(0x70)]('\x0a')+_0x2957eb(0x81)+displayCommands?.['join']('\x0a')+_0x2957eb(0x83));else{if(_0x39e1f7?.['command']?.['step']===0x2){if(_0x5b1b99==='0')_0x39e1f7['command'][_0x2957eb(0xb4)]=0x1,_0x40effa=_0x39e1f7['command'][_0x2957eb(0x104)]?.['device_holder']+_0x2957eb(0xa4)+_0xe12f8b?.[_0x2957eb(0x9a)]((_0x212c55,_0x3a790b)=>_0x212c55['id']+'.\x20'+_0x212c55[_0x2957eb(0xe6)])[_0x2957eb(0x70)]('\x0a')+'\x20';else{if(io){if(commandList?.[+_0x5b1b99]){let _0xefa4b2=commandList?.[+_0x5b1b99]?.[_0x2957eb(0xe8)][_0x2957eb(0x87)](_0x2957eb(0x85),_0x39e1f7['command']['device']?.[_0x2957eb(0x10c)]);io['emit'](_0x39e1f7['command'][_0x2957eb(0x104)]?.['id'],_0x39e1f7[_0x2957eb(0xe8)]['device']?.['device_id']+'='+_0xefa4b2);if(socket_session)socket_session[_0x2957eb(0x106)](_0x39e1f7[_0x2957eb(0xe8)][_0x2957eb(0x104)]?.['id'],_0x39e1f7[_0x2957eb(0xe8)][_0x2957eb(0x104)]?.[_0x2957eb(0xa3)]+'='+_0xefa4b2);_0x40effa='Command\x20sent\x20to\x20'+_0x39e1f7['command'][_0x2957eb(0x104)]?.[_0x2957eb(0xe6)]+_0x2957eb(0x94);}else{io[_0x2957eb(0x106)](_0x39e1f7[_0x2957eb(0xe8)][_0x2957eb(0x104)]?.['id'],_0x39e1f7[_0x2957eb(0xe8)]['device']?.[_0x2957eb(0xa3)]+'='+_0x5b1b99);if(socket_session)socket_session[_0x2957eb(0x106)](_0x39e1f7['command'][_0x2957eb(0x104)]?.['id'],_0x39e1f7[_0x2957eb(0xe8)]['device']?.[_0x2957eb(0xa3)]+'='+cmd);_0x40effa=_0x2957eb(0x7e)+_0x39e1f7[_0x2957eb(0xe8)][_0x2957eb(0x104)]?.['device_holder']+'\x20processing\x20\x0a0\x20To\x20change\x20device';}}else _0x40effa='Socket\x20is\x20null\x20and\x20should\x20be\x20restarted';}}}}}}}}}}}await adminModel[_0x2957eb(0x91)]({'session':JSON[_0x2957eb(0x115)](_0x39e1f7)},{'where':{'name':_0x13963e}});}}catch(_0x2b8ac2){console[_0x2957eb(0xfd)](_0x2b8ac2);}finally{_0x2f8b59[_0x2957eb(0xc0)](_0x40effa);}};bot['start'](async _0x1f40aa=>logic(_0x1f40aa)),bot['on'](a3_0x125980(0xa6),_0x51ce58=>logic(_0x51ce58)),bot[a3_0x125980(0xb1)]();