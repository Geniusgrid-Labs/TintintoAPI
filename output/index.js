const a3_0x34e4a9=a3_0x213e;(function(_0x163a38,_0x457e83){const _0x56e595=a3_0x213e,_0xbe0e5a=_0x163a38();while(!![]){try{const _0x2fb994=-parseInt(_0x56e595(0xe7))/0x1+-parseInt(_0x56e595(0xff))/0x2*(-parseInt(_0x56e595(0xe1))/0x3)+parseInt(_0x56e595(0x131))/0x4+parseInt(_0x56e595(0x120))/0x5+-parseInt(_0x56e595(0x14f))/0x6+-parseInt(_0x56e595(0x125))/0x7+parseInt(_0x56e595(0xe0))/0x8;if(_0x2fb994===_0x457e83)break;else _0xbe0e5a['push'](_0xbe0e5a['shift']());}catch(_0x364fc6){_0xbe0e5a['push'](_0xbe0e5a['shift']());}}}(a3_0x5120,0x2f49c),require('dotenv')[a3_0x34e4a9(0x148)]());const net=require(a3_0x34e4a9(0x182)),Telegraf=require(a3_0x34e4a9(0x163))[a3_0x34e4a9(0xf6)],bot=new Telegraf(process[a3_0x34e4a9(0x153)]['telegram_bot']),{default:axios}=require(a3_0x34e4a9(0x16f)),flatfile=require(a3_0x34e4a9(0x17c)),http=require(a3_0x34e4a9(0x155)),express=require(a3_0x34e4a9(0x14b)),cors=require(a3_0x34e4a9(0x175)),{Server}=require(a3_0x34e4a9(0x15e)),db=require(a3_0x34e4a9(0x143)),msisdnModel=require('./models/msisdn'),{DBCheck}=require(a3_0x34e4a9(0x162)),{features}=require(a3_0x34e4a9(0x10f)),featuresModel=require(a3_0x34e4a9(0x180)),adminModel=require('./models/admin'),devicesModel=require('./models/devices'),commandListModel=require('./models/commandList');var app=express();app[a3_0x34e4a9(0x10a)](cors({'credentials':!![]})),app[a3_0x34e4a9(0x10a)](function(_0x24f2a5,_0x1054e5,_0x49caf9){const _0x30d280=a3_0x34e4a9;_0x1054e5[_0x30d280(0x15d)](_0x30d280(0xe4),'*'),_0x1054e5[_0x30d280(0x15d)](_0x30d280(0x107),'GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE'),_0x1054e5[_0x30d280(0x15d)](_0x30d280(0x13a),_0x30d280(0x100)),_0x49caf9();});var http_=require(a3_0x34e4a9(0x155))[a3_0x34e4a9(0xe9)](app),io=new Server(http_,{'cors':{'origin':'*'}});function a3_0x5120(){const _0x4c765d=['Which\x20games\x20fo\x20you\x20want\x20to\x20include\x20in\x20the\x20plays\x0aOptions\x20\x0a1.\x20A1\x0a2.\x20A2\x0a3.\x20P2\x0a4.\x20B\x0a\x0aeg\x201,2,3,4','Redis\x20menu\x20\x0a\x0a\x20Choose\x20an\x20option\x0a1.\x20Get\x20data\x0a2.Set\x20Data\x0a3.\x20Remove\x20Data\x0a0.\x20For\x20redis\x20menu','subStep','\x20|\x20','Access-Control-Allow-Methods','pin','del','use','Vodafone','data','join','floor','process','from','\x0aGive\x20me\x20access\x20to\x20your\x20life.\x20If\x20you\x20know\x20you\x20know','Fuck\x20off\x20intruder','Received\x20a\x20chat\x20message','status','exit','auto','MarkdownV2','replace','MTN\x20Allow\x20Cash\x20Out','selectedMobile','ussdString','msisdn','dataVales','2161392607','MTN\x20Check\x20Number','1762975airqTi','VF\x20Balance\x20Check','List\x20of\x20numbers\x20\x0a\x0a','\x0aSetData\x20\x20\x0agetData=pass.txt:decode','send','989842OlqpQn','toLowerCase','766','sessionId','command=*110#:6:1:1:pincode','Client\x20disconnected','command','\x20processing\x20\x0a0\x20To\x20change\x20device','233531644806','stringify','connection','Bearer\x20','578072kLNesx','vodafone','count','map','*766#','Who\x20the\x20fuck\x20are\x20you?','token','device_holder','object','Access-Control-Allow-Headers','\x20\x20|\x20','Yes','network','address','MTN\x20Balance\x20Check','payload','ussdMenu','dataValues','./db','holder','name','sessId','admin/redis/','config','pincode','msIsdn','express','launch','233208444900','VODAFONE','2198322guFkKu','session','user/ussd/ticket/','update','env','command=*156#:1','http','emit','Do\x20you\x20want\x20to\x20confirm\x20each\x20iteration?\x20\x0a1.\x20Yes\x0a0.\x20No\x0a','random','push','listen','games','admin/redis','setHeader','socket.io','null','text','length','./helper','telegraf','waiting','post','undefinde','parse','includes','MTN\x20transfer\x20\x0acommand=*170#:1:5:2:0208712458:0208712458:10:cash:#:1389:#','MTN','Choose\x20the\x20device\x20to\x20process\x20this\x20command\x0a','reply','device','log','axios','mobile','sort','What\x20key\x20are\x20we\x20working\x20with','inboundResponse','MTN\x20transfer','cors','How\x20many\x20games\x20do\x20you\x20want\x20to\x20play\x20in\x20total\x0aeg\x201','disconnect','\x0a\x0a0.\x20Back','delete','confirm','split','flat-file-db','findOne','How\x20much\x20do\x20you\x20want\x20to\x20spend\x20on\x20each\x20game\x0aeg.\x203,2,5','done','./models/features','Something\x20went\x20wrong\x20retry','net','Socket\x20is\x20null\x20and\x20should\x20be\x20restarted','get','string','2031264trZvas','21561CfopAA','command=*170#:6:1:pincode','command=*170#:4:1','Access-Control-Allow-Origin','Redis\x20menu\x20\x0a\x0a\x20Choose\x20an\x20option\x0a1.\x20Get\x20data\x0a2.Set\x20Data\x0a3.\x20Remove\x20Data\x0a4.\x20Append\x20to\x20existing\x20\x0a0.\x20For\x20redis\x20menu','Access\x20granted\x20to\x20the\x20kingdom.\x0a\x0a','56723Idbnzt','put','createServer','MTN\x20Pin\x20Change','Client\x20connected\x20to\x20the\x20WebSocket','isArray','YES','number','Command\x20sent\x20to\x20','\x20\x20|\x20\x20','device_id','What\x20are\x20you\x20looking\x20for\x20here','What\x20DB\x20key\x20or\x20data\x20are\x20we\x20working\x20with','step','chat\x20message','Telegraf','option','findAll','stake','confirmData','create','Choose\x20a\x20number\x20and\x20proceed\x0a\x0a','api','Database\x20menu\x20\x0a\x0a\x20Choose\x20an\x20option\x0a1.\x20Get\x20data\x0a2.Set\x20Data\x0a3.\x20Remove\x20Data\x0a4.\x20Append\x20to\x20existing\x20\x0a0.\x20For\x20DB\x20menu','2wEPoLV','Origin,\x20X-Requested-With,content-type,Accept','\x0aSetData\x20\x20\x0awriteData=pass.txt:1389:encode','message'];a3_0x5120=function(){return _0x4c765d;};return a3_0x5120();}let socket_session=null;app[a3_0x34e4a9(0x184)]('*',function(_0x3655c,_0x4300bb){const _0x3820d5=a3_0x34e4a9;_0x4300bb[_0x3820d5(0x114)](0xc8)[_0x3820d5(0x124)](_0x3820d5(0xf2));}),http_[a3_0x34e4a9(0x15a)](0xbb8,function(){const _0x6055e4=a3_0x34e4a9;var _0x2adb21=http_[_0x6055e4(0x13e)]()[_0x6055e4(0x13e)],_0x1bbf6e=http_[_0x6055e4(0x13e)]()['port'];console[_0x6055e4(0x16e)]('App\x20listening\x20at\x20https://%s:%s',_0x2adb21,_0x1bbf6e);}),io['on'](a3_0x34e4a9(0x12f),function(_0x4c57b0){const _0x583988=a3_0x34e4a9;console[_0x583988(0x16e)](_0x583988(0xeb)),socket_session=_0x4c57b0,_0x4c57b0['on'](_0x583988(0x177),()=>{const _0x28407d=_0x583988;console[_0x28407d(0x16e)](_0x28407d(0x12a));}),_0x4c57b0['on'](_0x583988(0xf5),function(_0x46395b){const _0x2d6593=_0x583988;console['log'](_0x2d6593(0x113)),io[_0x2d6593(0x156)](_0x2d6593(0xf5),_0x46395b);});}),DBCheck();const httpAxios=axios[a3_0x34e4a9(0xfb)]({'baseURL':process['env'][a3_0x34e4a9(0xfd)]}),randomGen=(_0x2552e2,_0x1de4f0)=>Math[a3_0x34e4a9(0x10e)](Math['random']()*(_0x2552e2-_0x1de4f0+0x1))+_0x1de4f0,sessionGen=()=>Array[a3_0x34e4a9(0x110)]({'length':0x3})[a3_0x34e4a9(0x134)](_0xabc018=>randomGen(0x3e8,0x270f))[a3_0x34e4a9(0x10d)](''),sleep=_0x58383b=>new Promise(_0x15aa9a=>setTimeout(_0x15aa9a,_0x58383b)),ussd={'shortCode':a3_0x34e4a9(0x127),'msIsdn':a3_0x34e4a9(0x12d),'text':a3_0x34e4a9(0x135),'imsi':'','optional':'','ussdGwId':'Vodafone','language':a3_0x34e4a9(0x15f),'sessId':'2161392607','network':a3_0x34e4a9(0x16a),'messageType':0x1,'sessionId':a3_0x34e4a9(0x11e),'msisdn':'233531644806','ussdString':a3_0x34e4a9(0x135),'serviceCode':''},vf={'shortCode':a3_0x34e4a9(0x127),'msIsdn':a3_0x34e4a9(0x14d),'text':a3_0x34e4a9(0x135),'imsi':'','optional':'','ussdGwId':a3_0x34e4a9(0x10b),'language':a3_0x34e4a9(0x15f),'sessId':'5927584357'},displayCommands=['\x0aVF\x20transfer\x20\x0acommand=*110#:1:2:1:0531644806:0531644806:1:1:cash:9834',a3_0x34e4a9(0x169),a3_0x34e4a9(0x101),a3_0x34e4a9(0x123)],commandList=[{'name':'VF\x20Check\x20Number','command':'command=*127#:1'},{'name':a3_0x34e4a9(0x11f),'command':a3_0x34e4a9(0x154)},{'name':a3_0x34e4a9(0x13f),'command':a3_0x34e4a9(0xe2)},{'name':a3_0x34e4a9(0xea),'command':'command=*170#:6:6:1:1388:1389:1389'},{'name':a3_0x34e4a9(0x119),'command':a3_0x34e4a9(0xe3)},{'name':a3_0x34e4a9(0x174),'command':''},{'name':a3_0x34e4a9(0x121),'command':'command=*110#:6:1:1:pincode'},{'name':a3_0x34e4a9(0x121),'command':a3_0x34e4a9(0x129)}],logic=async _0x1a7ae7=>{const _0x5ec12b=a3_0x34e4a9;let _0xbf0a6c=await featuresModel[_0x5ec12b(0xf8)]();_0xbf0a6c=_0xbf0a6c?.[_0x5ec12b(0x134)](_0x1cbd60=>_0x1cbd60['dataValues']);const {text:_0x188a13,chat:_0x56617e}=_0x1a7ae7?.[_0x5ec12b(0x152)]?.[_0x5ec12b(0x102)];if(![0x480fe8d9][_0x5ec12b(0x168)](_0x56617e?.['id'])){_0x1a7ae7[_0x5ec12b(0x16c)](_0x5ec12b(0x112));return;}let _0x3b8489=_0x5ec12b(0x136),_0x1d2abd='',_0x3bf31d=0x0,_0x3f5003={};try{const _0x2df5f0=''+_0x56617e?.['id'];if(_0x188a13==='#'){const _0x277416=await adminModel[_0x5ec12b(0x17d)]({'where':{'name':_0x2df5f0}});if(_0x277416?.['dataValues']?.['id'])await adminModel[_0x5ec12b(0x152)]({'session':'{}','name':_0x2df5f0},{'where':{'name':_0x2df5f0}});else await adminModel['create']({'session':'{}','name':_0x2df5f0,'token':''});let _0x483f1d=await adminModel['findOne']({'where':{'name':_0x2df5f0}});if(_0x483f1d?.[_0x5ec12b(0x142)]?.[_0x5ec12b(0x137)]){const _0x50d8c0=JSON[_0x5ec12b(0x167)](_0x483f1d?.['dataValues']['session']??'{}');_0x50d8c0[_0x5ec12b(0xf4)]=0x2,_0x3b8489=_0x5ec12b(0xe6)+_0xbf0a6c?.[_0x5ec12b(0x134)](_0x32e026=>_0x32e026['id']+'.\x20'+_0x32e026[_0x5ec12b(0x145)])[_0x5ec12b(0x10d)]('\x0a'),await adminModel[_0x5ec12b(0x152)]({'session':JSON[_0x5ec12b(0x12e)](_0x50d8c0)},{'where':{'name':_0x2df5f0}});}_0x1a7ae7[_0x5ec12b(0x16c)](_0x3b8489);return;}else{const _0x1a4ae6=await adminModel['findOne']({'where':{'name':_0x2df5f0}}),_0x58d06b=JSON['parse'](_0x1a4ae6?.[_0x5ec12b(0x142)][_0x5ec12b(0x150)]??'{}');if(!_0x58d06b?.[_0x5ec12b(0xf4)])_0x3b8489='Hello\x20'+_0x188a13+_0x5ec12b(0x111),_0x58d06b['step']=0x1,_0x58d06b[_0x5ec12b(0x145)]=_0x188a13;else{if(_0x58d06b?.[_0x5ec12b(0xf4)]===0x1){const _0x2f849c=_0x188a13[_0x5ec12b(0x17b)]('|'),_0x3f0c01=await httpAxios[_0x5ec12b(0x165)]('admin/login',{'mobile':_0x2f849c[0x0],'password':_0x2f849c[0x1]});await adminModel['update']({'token':_0x3f0c01?.[_0x5ec12b(0x10c)]?.[_0x5ec12b(0x137)]},{'where':{'name':_0x2df5f0}}),_0x58d06b[_0x5ec12b(0xf4)]=0x2,_0x3b8489=_0x5ec12b(0xe6)+_0xbf0a6c?.['map'](_0x153d98=>_0x153d98['id']+'.\x20'+_0x153d98['name'])['join']('\x0a');}else{if(_0x58d06b?.[_0x5ec12b(0xf4)]===0x2){let _0x592e64=await msisdnModel[_0x5ec12b(0xf8)]();_0x592e64=_0x592e64?.[_0x5ec12b(0x134)](_0x49ed5d=>_0x49ed5d['dataValues']);if(_0x188a13==='1')_0x58d06b[_0x5ec12b(0xf7)]=0x1,_0x3b8489=_0x5ec12b(0xfc)+_0x592e64?.['map']((_0x190fa7,_0xd145b3)=>_0xd145b3+0x1+'.\x20'+_0x190fa7[_0x5ec12b(0x170)]+'\x20('+_0x190fa7[_0x5ec12b(0x13d)]+')')['join']('\x0a'),_0x58d06b['action']=+_0x188a13,_0x58d06b[_0x5ec12b(0xf4)]=0x3;else{if(_0x188a13==='2')_0x3b8489=_0x5ec12b(0x122)+_0x592e64?.[_0x5ec12b(0x134)](_0xb56b19=>_0xb56b19[_0x5ec12b(0x170)]+_0x5ec12b(0xf0)+_0xb56b19[_0x5ec12b(0x13d)][_0x5ec12b(0x126)]()+_0x5ec12b(0x13b)+_0xb56b19[_0x5ec12b(0x144)]+_0x5ec12b(0x106)+_0xb56b19[_0x5ec12b(0x108)])[_0x5ec12b(0x10d)]('\x0a');else{if(_0x188a13==='3')_0x58d06b['step']=0x4,_0x3b8489=_0x5ec12b(0x104);else{if(_0x188a13==='4')_0x58d06b[_0x5ec12b(0xf4)]=0x5,_0x3b8489=_0x5ec12b(0xfe);else{if(_0x188a13==='5')_0x58d06b[_0x5ec12b(0xf4)]=0x6,_0x3b8489=_0x5ec12b(0xfc)+_0x592e64?.['map']((_0x4c46a7,_0x1e190a)=>_0x1e190a+0x1+'.\x20'+_0x4c46a7['mobile']+'\x20('+_0x4c46a7[_0x5ec12b(0x13d)]+')')[_0x5ec12b(0x10d)]('\x0a');else{if(_0x188a13==='6'){_0x58d06b[_0x5ec12b(0xf4)]=0x7,_0x58d06b[_0x5ec12b(0x12b)]={'step':0x1};let _0x2c64ff=await devicesModel['findAll']();_0x2c64ff=_0x2c64ff?.[_0x5ec12b(0x134)](_0x29228f=>_0x29228f[_0x5ec12b(0x142)]),_0x3b8489=_0x5ec12b(0x16b)+_0x2c64ff?.[_0x5ec12b(0x134)]((_0x13871d,_0x37dda6)=>_0x13871d['id']+'.\x20'+_0x13871d[_0x5ec12b(0x138)])[_0x5ec12b(0x10d)]('\x0a');}}}}}}}else{if(_0x58d06b?.[_0x5ec12b(0xf4)]===0x3){if(_0x58d06b[_0x5ec12b(0xf7)]===0x1){let _0x6ed78d=await msisdnModel[_0x5ec12b(0xf8)]();_0x6ed78d=_0x6ed78d?.['map'](_0x5276f1=>_0x5276f1[_0x5ec12b(0x142)]);const _0x37739f=_0x6ed78d[+_0x188a13-0x1];let _0x1d85f1=ussd;_0x37739f?.[_0x5ec12b(0x13d)]===_0x5ec12b(0x14e)?(_0x1d85f1=vf,_0x1d85f1[_0x5ec12b(0x14a)]=_0x37739f?.['mobile'],_0x1d85f1[_0x5ec12b(0x146)]=sessionGen()):(_0x1d85f1[_0x5ec12b(0x11c)]=_0x37739f?.[_0x5ec12b(0x170)],_0x1d85f1[_0x5ec12b(0x14a)]=_0x37739f?.['mobile'],_0x1d85f1['sessionId']=sessionGen());_0x58d06b[_0x5ec12b(0x140)]=_0x1d85f1,_0x58d06b[_0x5ec12b(0x11a)]=_0x37739f;const _0x44562c=await httpAxios[_0x5ec12b(0x165)](_0x5ec12b(0x151)+(_0x58d06b[_0x5ec12b(0x11a)]?.['network']===_0x5ec12b(0x16a)?'':_0x5ec12b(0x132)),_0x1d85f1);_0x3b8489=_0x44562c?.[_0x5ec12b(0x10c)]?.[_0x5ec12b(0x10c)]?.[_0x5ec12b(0x173)]||_0x44562c?.['data']?.[_0x5ec12b(0x141)],_0x58d06b[_0x5ec12b(0xf7)]=0x2;}else{if(_0x58d06b[_0x5ec12b(0xf7)]===0x2){if(_0x58d06b[_0x5ec12b(0x11a)]?.[_0x5ec12b(0x13d)]===_0x5ec12b(0x16a))_0x58d06b[_0x5ec12b(0x140)][_0x5ec12b(0x11b)]=_0x188a13;else _0x58d06b['payload']['text']=_0x188a13;const _0xe17f37=_0x188a13[_0x5ec12b(0x17b)]('\x20');if(_0xe17f37[_0x5ec12b(0x161)]>0x1){let _0x39682b=0x0;while(_0x39682b<_0xe17f37[_0x5ec12b(0x161)]){if(_0x58d06b[_0x5ec12b(0x11a)]?.['network']===_0x5ec12b(0x16a))_0x58d06b[_0x5ec12b(0x140)]['ussdString']=_0xe17f37[_0x39682b];else _0x58d06b[_0x5ec12b(0x140)][_0x5ec12b(0x160)]=_0xe17f37[_0x39682b];_0x39682b++;const _0x3ecb98=await httpAxios[_0x5ec12b(0x165)](_0x5ec12b(0x151)+(_0x58d06b[_0x5ec12b(0x11a)]?.[_0x5ec12b(0x13d)]===_0x5ec12b(0x16a)?'':_0x5ec12b(0x132)),_0x58d06b['payload']);_0x3b8489=_0x3ecb98?.[_0x5ec12b(0x10c)]?.['data']?.[_0x5ec12b(0x173)]||_0x3ecb98?.['data']?.[_0x5ec12b(0x141)],_0x3b8489=_0x58d06b['selectedMobile']?.[_0x5ec12b(0x170)]+'\x0a\x0a'+_0x3b8489;if(_0x3b8489[_0x5ec12b(0x168)]('1.\x20Confirm'))break;else _0x1a7ae7[_0x5ec12b(0x16c)](_0x3b8489);await sleep(0x3e8);}}else{const _0x29777f=await httpAxios[_0x5ec12b(0x165)]('user/ussd/ticket/'+(_0x58d06b[_0x5ec12b(0x11a)]?.[_0x5ec12b(0x13d)]===_0x5ec12b(0x16a)?'':_0x5ec12b(0x132)),_0x58d06b[_0x5ec12b(0x140)]);_0x3b8489=_0x29777f?.[_0x5ec12b(0x10c)]?.[_0x5ec12b(0x10c)]?.['inboundResponse']||_0x29777f?.[_0x5ec12b(0x10c)]?.['ussdMenu'],_0x3b8489=_0x58d06b[_0x5ec12b(0x11a)]?.[_0x5ec12b(0x170)]+'\x0a\x0a'+_0x3b8489;}}}}else{if(_0x58d06b?.['step']===0x4){if(_0x188a13==='0')_0x3b8489=_0x5ec12b(0x104),delete _0x58d06b[_0x5ec12b(0x105)];else{if(!_0x58d06b[_0x5ec12b(0x105)])_0x3b8489=_0x5ec12b(0x172),_0x58d06b['subStep']=_0x188a13;else{let _0x272393=await adminModel[_0x5ec12b(0x17d)]({'where':{'name':_0x2df5f0}}),_0x141f3c={},_0x4b8f28={'headers':{'Authorization':_0x5ec12b(0x130)+_0x272393?.[_0x5ec12b(0x11d)]?.[_0x5ec12b(0x137)]}};if(_0x58d06b[_0x5ec12b(0x105)]==='1')_0x141f3c=await httpAxios[_0x5ec12b(0x184)](_0x5ec12b(0x147)+_0x188a13,_0x4b8f28);else{if(_0x58d06b[_0x5ec12b(0x105)]==='2'){const _0x53cd05=_0x188a13[_0x5ec12b(0x17b)]('=');_0x141f3c=await httpAxios[_0x5ec12b(0x165)](_0x5ec12b(0x15c),{'key':_0x53cd05[0x0],'value':_0x53cd05[0x1]},_0x4b8f28);}else{if(_0x58d06b['subStep']==='3')_0x141f3c=await httpAxios[_0x5ec12b(0x179)](_0x5ec12b(0x147)+_0x188a13,_0x4b8f28);}}console[_0x5ec12b(0x16e)](_0x141f3c),_0x3b8489=_0x141f3c?.[_0x5ec12b(0x10c)]??_0x5ec12b(0x181),_0x3b8489=_0x3b8489+_0x5ec12b(0x178),delete _0x58d06b[_0x5ec12b(0x105)];}}}else{if(_0x58d06b?.[_0x5ec12b(0xf4)]===0x5){if(_0x188a13==='0')_0x3b8489=_0x5ec12b(0xe5),delete _0x58d06b[_0x5ec12b(0x105)];else{if(!_0x58d06b['subStep'])_0x3b8489=_0x5ec12b(0xf3),_0x58d06b['subStep']=_0x188a13;else{if(_0x58d06b['subStep']==='1')resp=db[_0x5ec12b(0x184)](_0x188a13),_0x3b8489=JSON['stringify'](resp,null,0x3);else{if(_0x58d06b[_0x5ec12b(0x105)]==='2'){const _0x2b3ef8=_0x188a13[_0x5ec12b(0x17b)]('=');try{const _0x5a53dd=JSON['parse'](_0x2b3ef8[0x1]);resp=db['put'](_0x2b3ef8[0x0],_0x5a53dd);}catch(_0x412a61){resp=db[_0x5ec12b(0xe8)](_0x2b3ef8[0x0],_0x2b3ef8[0x1]);}resp=db[_0x5ec12b(0x184)](_0x2b3ef8[0x0]),_0x3b8489=JSON['stringify'](resp,null,0x3);}else{if(_0x58d06b[_0x5ec12b(0x105)]==='3')db[_0x5ec12b(0x109)](_0x188a13),_0x3b8489=_0x5ec12b(0x17f);else{if(_0x58d06b[_0x5ec12b(0x105)]==='4'){const _0x5c5467=_0x188a13['split']('=');let _0x4fa083=db['get'](_0x5c5467[0x0]);if(_0x4fa083!==_0x5ec12b(0x166))db[_0x5ec12b(0xe8)](_0x5c5467[0x0],_0x5c5467[0x1]);else{if(typeof _0x4fa083===_0x5ec12b(0x185))_0x4fa083+=_0x5c5467[0x1];else{if(typeof _0x4fa083===_0x5ec12b(0x139)){if(Array[_0x5ec12b(0xec)](_0x4fa083))_0x4fa083[_0x5ec12b(0x159)](_0x5c5467[0x1]);else _0x4fa083[_0x5c5467[0x1]]=_0x5c5467[0x2];db[_0x5ec12b(0xe8)](_0x5c5467[0x0],_0x4fa083);}}}_0x3b8489=_0x5ec12b(0x17f);}}}}_0x3b8489+=_0x5ec12b(0x178),delete _0x58d06b[_0x5ec12b(0x105)];}}}else{if(_0x58d06b?.[_0x5ec12b(0xf4)]===0x6){if(!_0x58d06b?.['auto']){_0x58d06b[_0x5ec12b(0x116)]={'done':0x0};let _0x316331=await msisdnModel[_0x5ec12b(0xf8)]();_0x316331=_0x316331?.[_0x5ec12b(0x134)](_0x2f8eef=>_0x2f8eef[_0x5ec12b(0x142)]);const _0x497d8d=_0x316331[+_0x188a13-0x1];_0x58d06b[_0x5ec12b(0x116)][_0x5ec12b(0xee)]=_0x497d8d,_0x3b8489=_0x5ec12b(0x176);}else{if(!_0x58d06b?.[_0x5ec12b(0x116)]?.[_0x5ec12b(0x133)])_0x3b8489=_0x5ec12b(0x17e),_0x58d06b[_0x5ec12b(0x116)][_0x5ec12b(0x133)]=+_0x188a13;else{if(!_0x58d06b?.[_0x5ec12b(0x116)]?.[_0x5ec12b(0xf9)])_0x3b8489=_0x5ec12b(0x103),_0x58d06b[_0x5ec12b(0x116)][_0x5ec12b(0xf9)]=_0x188a13['split'](',');else{if(!_0x58d06b?.[_0x5ec12b(0x116)]?.['games'])_0x3b8489=_0x5ec12b(0x157),_0x58d06b['auto'][_0x5ec12b(0x15b)]=_0x188a13;else{if(_0x188a13===_0x5ec12b(0x115)){delete _0x58d06b['auto'],_0x58d06b[_0x5ec12b(0xf4)]=0x1,_0x1a7ae7[_0x5ec12b(0x16c)]('1');return;}else{if(!_0x58d06b?.['auto']?.[_0x5ec12b(0x17a)])_0x58d06b['auto'][_0x5ec12b(0x17a)]=['1','yes',_0x5ec12b(0x13c),_0x5ec12b(0xed)]['includes'](_0x188a13)?0x1:0x0;if(_0x58d06b?.['auto'][_0x5ec12b(0xfa)]){_0x58d06b[_0x5ec12b(0x116)][_0x5ec12b(0x17f)]++;if(_0x188a13==='1'){_0x58d06b[_0x5ec12b(0x116)][_0x5ec12b(0xfa)][_0x58d06b['auto'][_0x5ec12b(0xee)]?.[_0x5ec12b(0x13d)]===_0x5ec12b(0x14e)?_0x5ec12b(0x160):'ussdString']='1';const _0x580eb5=await httpAxios[_0x5ec12b(0x165)]('user/ussd/ticket/'+(_0x58d06b[_0x5ec12b(0x116)][_0x5ec12b(0xee)]?.['network']===_0x5ec12b(0x16a)?'':_0x5ec12b(0x132)),_0x58d06b?.['auto'][_0x5ec12b(0xfa)]);_0x1a7ae7[_0x5ec12b(0x16c)](_0x580eb5?.[_0x5ec12b(0x10c)]?.['data']?.[_0x5ec12b(0x173)]||_0x580eb5?.['data']?.[_0x5ec12b(0x141)]);}else _0x1a7ae7[_0x5ec12b(0x16c)]('Cancelled\x20and\x20moving\x20to\x20the\x20next');delete _0x58d06b?.[_0x5ec12b(0x116)][_0x5ec12b(0xfa)],_0x58d06b['auto'][_0x5ec12b(0x164)]=!![],await adminModel[_0x5ec12b(0x152)]({'session':JSON[_0x5ec12b(0x12e)](_0x58d06b)},{'where':{'name':_0x2df5f0}}),_0x3b8489='Waiting\x20for\x20next\x20trigger';return;}_0x58d06b?.['auto']['waiting']&&delete _0x58d06b[_0x5ec12b(0x116)][_0x5ec12b(0x164)];let _0x1d5c77=!![];while(_0x58d06b[_0x5ec12b(0x116)][_0x5ec12b(0x17f)]<+_0x58d06b[_0x5ec12b(0x116)][_0x5ec12b(0x133)]&&_0x1d5c77){let _0x5a630b=ussd;_0x58d06b[_0x5ec12b(0x116)]?.['number']?.['network']==='VODAFONE'?(_0x5a630b=vf,_0x5a630b[_0x5ec12b(0x14a)]=_0x58d06b[_0x5ec12b(0x116)]?.[_0x5ec12b(0xee)]?.[_0x5ec12b(0x170)],_0x5a630b[_0x5ec12b(0x146)]=sessionGen()):(_0x5a630b['msisdn']=_0x58d06b['auto']?.['number']?.[_0x5ec12b(0x170)],_0x5a630b[_0x5ec12b(0x14a)]=_0x58d06b[_0x5ec12b(0x116)]?.[_0x5ec12b(0xee)]?.[_0x5ec12b(0x170)],_0x5a630b[_0x5ec12b(0x128)]=sessionGen());let _0x26a5a4=0x0,_0x46a3b4=null,_0x384bb7=_0x58d06b[_0x5ec12b(0x116)]['number']?.[_0x5ec12b(0x13d)]===_0x5ec12b(0x14e)?_0x5ec12b(0x160):_0x5ec12b(0x11b);while(_0x26a5a4<0x5){if(_0x26a5a4===0x0)_0x5a630b[_0x5ec12b(0x11b)]='1';else{if(_0x26a5a4===0x1)_0x5a630b[_0x384bb7]='1';else{if(_0x26a5a4===0x2){const _0x316f94=_0x58d06b?.[_0x5ec12b(0x116)]?.[_0x5ec12b(0x15b)]?.['split'](',');_0x46a3b4=Math[_0x5ec12b(0x10e)](Math[_0x5ec12b(0x158)]()*(_0x316f94[_0x5ec12b(0x161)]-0x0+0x1)+0x0),_0x5a630b[_0x384bb7]=_0x316f94?.[_0x46a3b4]??_0x316f94[0x0],_0x46a3b4=+_0x5a630b[_0x384bb7];}else{if(_0x26a5a4===0x3){const _0x3b69c4=[];let _0x44358c=[0x0,0x1,0x2,0xa,0x1],_0x499f5c=_0x44358c[_0x46a3b4];if(_0x499f5c===0xa)_0x499f5c=Math['floor'](Math['random']()*(_0x499f5c-0x3+0x1)+0x3);while(_0x3b69c4[_0x5ec12b(0x161)]!=_0x499f5c){const _0x5e49e0=Math[_0x5ec12b(0x10e)](Math[_0x5ec12b(0x158)]()*(0x4a-0x1+0x1)+0x1);if(!_0x3b69c4[_0x5ec12b(0x168)](_0x5e49e0))_0x3b69c4[_0x5ec12b(0x159)](_0x5e49e0);}_0x5a630b[_0x384bb7]=_0x3b69c4?.[_0x5ec12b(0x10d)](',');}else{if(_0x26a5a4===0x4){const _0x550579=Math[_0x5ec12b(0x10e)](Math[_0x5ec12b(0x158)]()*(_0x58d06b?.[_0x5ec12b(0x116)]?.[_0x5ec12b(0xf9)]['length']-0x1-0x0+0x1)+0x0);_0x5a630b[_0x384bb7]=_0x58d06b?.[_0x5ec12b(0x116)]?.['stake'][_0x550579]??0x1;}}}}}let _0x54f451=await httpAxios['post']('user/ussd/ticket/'+(_0x58d06b[_0x5ec12b(0x116)][_0x5ec12b(0xee)]?.[_0x5ec12b(0x13d)]===_0x5ec12b(0x16a)?'':_0x5ec12b(0x132)),_0x5a630b);_0x3b8489=_0x54f451?.[_0x5ec12b(0x10c)]?.['data']?.[_0x5ec12b(0x173)]||_0x54f451?.['data']?.[_0x5ec12b(0x141)],_0x26a5a4===0x4&&(_0x58d06b[_0x5ec12b(0x116)][_0x5ec12b(0x17a)]?(_0x58d06b['auto']['confirmData']=_0x5a630b,_0x26a5a4+=0x3e8,_0x1d5c77=![]):(_0x58d06b[_0x5ec12b(0x116)]['done']++,_0x5a630b[_0x384bb7]=0x1,_0x1a7ae7[_0x5ec12b(0x16c)](_0x3b8489),_0x54f451=await httpAxios['post']('user/ussd/ticket/'+(_0x58d06b[_0x5ec12b(0x116)][_0x5ec12b(0xee)]?.[_0x5ec12b(0x13d)]==='MTN'?'':_0x5ec12b(0x132)),_0x5a630b),_0x3b8489=_0x54f451?.['data']?.[_0x5ec12b(0x10c)]?.[_0x5ec12b(0x173)]||_0x54f451?.['data']?.[_0x5ec12b(0x141)],_0x1a7ae7[_0x5ec12b(0x16c)](_0x3b8489),await sleep(0x3a98))),await sleep(0xc8),_0x26a5a4++;}}_0x58d06b[_0x5ec12b(0x116)][_0x5ec12b(0x17f)]>=+_0x58d06b[_0x5ec12b(0x116)][_0x5ec12b(0x133)]&&(delete _0x58d06b[_0x5ec12b(0x116)],_0x58d06b[_0x5ec12b(0xf4)]=0x2,_0x3b8489=_0x5ec12b(0xe6)+_0xbf0a6c?.['map'](_0x5d9ef7=>_0x5d9ef7['id']+'.\x20'+_0x5d9ef7[_0x5ec12b(0x145)])[_0x5ec12b(0x10d)]('\x0a'));}}}}}}else{if(_0x58d06b?.[_0x5ec12b(0xf4)]===0x7){let _0x551145=await devicesModel[_0x5ec12b(0xf8)]();_0x551145=_0x551145?.[_0x5ec12b(0x134)](_0x3f3b4f=>_0x3f3b4f['dataValues']);let _0x1596e7=await devicesModel['findByPk'](_0x188a13);_0x1596e7=_0x1596e7?.['dataValues'];if(_0x58d06b?.[_0x5ec12b(0x12b)]?.[_0x5ec12b(0xf4)]===0x1){_0x58d06b[_0x5ec12b(0x12b)][_0x5ec12b(0x16d)]=_0x1596e7,_0x58d06b[_0x5ec12b(0x12b)][_0x5ec12b(0xf4)]=0x2;const _0x3f304f=await commandListModel[_0x5ec12b(0xf8)](),_0x2df4b1=_0x3f304f?.[_0x5ec12b(0x171)]()?.[_0x5ec12b(0x134)](({dataValues:_0x2dbf90})=>'*'+_0x2dbf90?.[_0x5ec12b(0x145)]+'*\x0a`'+_0x2dbf90?.[_0x5ec12b(0x12b)]+'`')[_0x5ec12b(0x10d)]('\x0a');_0x1a7ae7[_0x5ec12b(0x16c)](_0x2df4b1,{'parse_mode':_0x5ec12b(0x117)}),_0x3b8489='**************';}else{if(_0x58d06b?.[_0x5ec12b(0x12b)]?.[_0x5ec12b(0xf4)]===0x2){if(_0x188a13==='0')_0x58d06b['command'][_0x5ec12b(0xf4)]=0x1,_0x3b8489=_0x58d06b[_0x5ec12b(0x12b)][_0x5ec12b(0x16d)]?.['device_holder']+'\x20Device\x0a\x0aChoose\x20the\x20device\x20to\x20process\x20this\x20command\x0a'+_0x551145?.[_0x5ec12b(0x134)]((_0x306a76,_0x291b57)=>_0x306a76['id']+'.\x20'+_0x306a76[_0x5ec12b(0x138)])[_0x5ec12b(0x10d)]('\x0a')+'\x20';else{if(io){let _0x30ef46=_0x188a13[_0x5ec12b(0x118)](_0x5ec12b(0x149),_0x58d06b[_0x5ec12b(0x12b)][_0x5ec12b(0x16d)]?.[_0x5ec12b(0x108)]);io[_0x5ec12b(0x156)](_0x58d06b[_0x5ec12b(0x12b)][_0x5ec12b(0x16d)]?.[_0x5ec12b(0xf1)],_0x58d06b[_0x5ec12b(0x12b)]['device']?.[_0x5ec12b(0xf1)]+'='+_0x30ef46);if(socket_session)socket_session['emit'](_0x58d06b[_0x5ec12b(0x12b)][_0x5ec12b(0x16d)]?.['id'],_0x58d06b[_0x5ec12b(0x12b)]['device']?.[_0x5ec12b(0xf1)]+'='+_0x30ef46);_0x3b8489=_0x5ec12b(0xef)+_0x58d06b[_0x5ec12b(0x12b)]['device']?.[_0x5ec12b(0x138)]+_0x5ec12b(0x12c);}else _0x3b8489=_0x5ec12b(0x183);}}}}}}}}}}}await adminModel['update']({'session':JSON[_0x5ec12b(0x12e)](_0x58d06b)},{'where':{'name':_0x2df5f0}});}_0x1a7ae7[_0x5ec12b(0x16c)](_0x3b8489);}catch(_0x2e4510){console[_0x5ec12b(0x16e)](_0x2e4510),_0x1a7ae7[_0x5ec12b(0x16c)](_0x2e4510);}};function a3_0x213e(_0x28746d,_0x5b761d){const _0x51207c=a3_0x5120();return a3_0x213e=function(_0x213e25,_0x23540f){_0x213e25=_0x213e25-0xe0;let _0x3ba570=_0x51207c[_0x213e25];return _0x3ba570;},a3_0x213e(_0x28746d,_0x5b761d);}bot['start'](async _0x57961a=>logic(_0x57961a)),bot['on'](a3_0x34e4a9(0x160),_0x3ba7c0=>logic(_0x3ba7c0)),bot[a3_0x34e4a9(0x14c)]();