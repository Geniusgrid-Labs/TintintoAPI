const a0_0x3214b6=a0_0x2ddc;(function(_0x403147,_0x1b6c96){const _0x5ca49f=a0_0x2ddc;const _0x370d56=_0x403147();while(!![]){try{const _0x3a54aa=-parseInt(_0x5ca49f(0x133))/0x1*(parseInt(_0x5ca49f(0x136))/0x2)+-parseInt(_0x5ca49f(0x12c))/0x3*(parseInt(_0x5ca49f(0x114))/0x4)+parseInt(_0x5ca49f(0x11b))/0x5+-parseInt(_0x5ca49f(0x132))/0x6+parseInt(_0x5ca49f(0x10d))/0x7+parseInt(_0x5ca49f(0x110))/0x8*(-parseInt(_0x5ca49f(0x128))/0x9)+parseInt(_0x5ca49f(0x115))/0xa*(parseInt(_0x5ca49f(0x11e))/0xb);if(_0x3a54aa===_0x1b6c96){break;}else{_0x370d56['push'](_0x370d56['shift']());}}catch(_0x393fc0){_0x370d56['push'](_0x370d56['shift']());}}}(a0_0xd5ca,0x40780));require('dotenv')['config']();const cron=require(a0_0x3214b6(0x11a));const compression=require(a0_0x3214b6(0x122));const express=require(a0_0x3214b6(0x113));const cors=require(a0_0x3214b6(0x10f));const morgan=require('morgan');const bodyParser=require(a0_0x3214b6(0x119));const routes=require(a0_0x3214b6(0x138));const {default:axios}=require(a0_0x3214b6(0x11c));const {clearCheckerRedis,autoGenGames,simulateGames,checkStats}=require('./services');const tasksModel=require(a0_0x3214b6(0x124));const db=require(a0_0x3214b6(0x127));const app=express();const PORT=process['env'][a0_0x3214b6(0x117)]||0xbb8;app['use'](compression());const corsOptions={'origin':'*','methods':a0_0x3214b6(0x10e),'allowedHeaders':[a0_0x3214b6(0x131),a0_0x3214b6(0x10b)]};app[a0_0x3214b6(0x121)](cors(corsOptions));app[a0_0x3214b6(0x121)](function(_0x3c825c,_0x5996b5,_0x2a9f09){const _0x5f4063=a0_0x3214b6;_0x5996b5[_0x5f4063(0x111)]('Access-Control-Allow-Origin','*');_0x5996b5[_0x5f4063(0x111)]('Access-Control-Allow-Methods',_0x5f4063(0x116));_0x5996b5[_0x5f4063(0x111)](_0x5f4063(0x10c),_0x5f4063(0x129));_0x2a9f09();});app[a0_0x3214b6(0x121)](express[a0_0x3214b6(0x135)]());function a0_0x2ddc(_0x8b2e0e,_0x41f7f8){const _0xd5ca9a=a0_0xd5ca();a0_0x2ddc=function(_0x2ddc70,_0x22a43b){_0x2ddc70=_0x2ddc70-0x10b;let _0x35ca01=_0xd5ca9a[_0x2ddc70];return _0x35ca01;};return a0_0x2ddc(_0x8b2e0e,_0x41f7f8);}app[a0_0x3214b6(0x121)](bodyParser[a0_0x3214b6(0x135)]({'type':a0_0x3214b6(0x130)}));app[a0_0x3214b6(0x121)]('/api/v1.0',routes);function a0_0xd5ca(){const _0x4dd88a=['schedule','send','application/*+json','Content-Type','2588616RkwkRd','333918UDUwUu','45\x2017\x20*\x20*\x20SUN','json','2metxkk','15\x2020\x20*\x20*\x20*','./routes','Authorization','Access-Control-Allow-Headers','1836310KuFZKu','GET,HEAD,PUT,PATCH,POST,DELETE','cors','976312YwmnnO','setHeader','18:30','express','8zCPKOR','8423860pHFDBC','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','PORT','*/30\x2020-23\x20*\x20*\x20*','body-parser','node-cron','2595910MPcPXK','axios','get','11MrhfkG','---running\x20a\x20task\x20every\x20minute','query','use','compression','status','./models/tasks','log','Server\x20is\x20running\x20on\x20http://localhost:','./utils/db','36JKrchV','Origin,\x20X-Requested-With,content-type,Accept','59\x2018\x20*\x20*\x20MON,TUE,WED,THU,FRI,SAT','Unauthorized\x20request','159486WfkdLC','54\x2017\x20*\x20*\x20SUN'];a0_0xd5ca=function(){return _0x4dd88a;};return a0_0xd5ca();}app[a0_0x3214b6(0x11d)]('*',(_0x11f72b,_0x316ab3,_0x28d931)=>{const _0x2459db=a0_0x3214b6;_0x316ab3[_0x2459db(0x123)](0xc8)[_0x2459db(0x12f)](_0x2459db(0x12b));});cron[a0_0x3214b6(0x12e)](a0_0x3214b6(0x137),()=>{const _0x57b80f=a0_0x3214b6;console[_0x57b80f(0x125)](_0x57b80f(0x11f));clearCheckerRedis();});cron['schedule']('45\x2018\x20*\x20*\x20MON,TUE,WED,THU,FRI,SAT',()=>{autoGenGames();});cron[a0_0x3214b6(0x12e)](a0_0x3214b6(0x12a),async()=>{const _0x3d677f=a0_0x3214b6;await db[_0x3d677f(0x120)]('delete\x20from\x20tasks');});cron['schedule'](a0_0x3214b6(0x134),()=>{const _0x26d250=a0_0x3214b6;autoGenGames(_0x26d250(0x112));});cron[a0_0x3214b6(0x12e)](a0_0x3214b6(0x12d),async()=>{const _0x19e2e7=a0_0x3214b6;await db[_0x19e2e7(0x120)]('delete\x20from\x20tasks');});cron[a0_0x3214b6(0x12e)]('*/5\x2018-19\x20*\x20*\x20*',()=>{checkStats();});cron[a0_0x3214b6(0x12e)](a0_0x3214b6(0x118),()=>{checkStats();});app['listen'](PORT,()=>{const _0x3ff9ba=a0_0x3214b6;console['log'](_0x3ff9ba(0x126)+PORT);});