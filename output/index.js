const a3_0x40b410=a3_0x480c;function a3_0x480c(_0x29714f,_0x13b941){const _0x249c1f=a3_0x249c();return a3_0x480c=function(_0x480c42,_0x3ffe3d){_0x480c42=_0x480c42-0xca;let _0x3542ea=_0x249c1f[_0x480c42];return _0x3542ea;},a3_0x480c(_0x29714f,_0x13b941);}function a3_0x249c(){const _0x3bf4f7=['findAll','Choose\x20a\x20number\x20and\x20proceed\x0a\x0a','2161392607','games','port','233531644806','command','dotenv','./models/msisdn','6711aazlkP','object','command=*127#:1','exit','device_holder','done','Who\x20the\x20fuck\x20are\x20you?','26574UNpBgD','App\x20listening\x20at\x20https://%s:%s','Fuck\x20off\x20intruder','Client\x20connected\x20to\x20the\x20WebSocket','text','\x20\x20|\x20\x20','step','admin/login','233208444900','\x0aSetData\x20\x20\x0agetData=pass.txt:decode','use','dataVales','api','command=*170#:6:6:1:1388:1389:1389','MTN\x20transfer','socket.io','message','log','Redis\x20menu\x20\x0a\x0a\x20Choose\x20an\x20option\x0a1.\x20Get\x20data\x0a2.Set\x20Data\x0a3.\x20Remove\x20Data\x0a0.\x20For\x20redis\x20menu','createServer','flat-file-db','MTN\x20Check\x20Number','toLowerCase','findByPk','*766#','confirmData','stringify','data','option','command=*110#:6:1:1:pincode','chat\x20message','telegram_bot','findOne','Do\x20you\x20want\x20to\x20confirm\x20each\x20iteration?\x20\x0a1.\x20Yes\x0a0.\x20No\x0a','isArray','inboundResponse','http','number','MTN\x20Pin\x20Change','ussdMenu','update','map','waiting','msisdn','Access\x20granted\x20to\x20the\x20kingdom.\x0a\x0a','msIsdn','env','Socket\x20is\x20null\x20and\x20should\x20be\x20restarted','null','put','floor','What\x20DB\x20key\x20or\x20data\x20are\x20we\x20working\x20with','MTN\x20Balance\x20Check','address','confirm','token','Access-Control-Allow-Origin','telegraf','Client\x20disconnected','\x0a0.To\x20change\x20device','VODAFONE','What\x20are\x20you\x20looking\x20for\x20here','parse','device_id','Vodafone','\x20\x20|\x20','VF\x20Check\x20Number','dataValues','user/ussd/ticket/','\x20processing\x20\x0a0\x20To\x20change\x20device','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','command=*170#:4:1','1158PKBlZO','device','Which\x20games\x20fo\x20you\x20want\x20to\x20include\x20in\x20the\x20plays\x0aOptions\x20\x0a1.\x20A1\x0a2.\x20A2\x0a3.\x20P2\x0a4.\x20B\x0a\x0aeg\x201,2,3,4','Choose\x20the\x20device\x20to\x20process\x20this\x20command\x0a','selectedMobile','MTN\x20Allow\x20Cash\x20Out','push','holder','\x20Device\x0a\x0aChoose\x20the\x20device\x20to\x20process\x20this\x20command\x0a','Origin,\x20X-Requested-With,content-type,Accept','post','status','network','460637gDLoSZ','process','Access-Control-Allow-Methods','\x0a\x0a0.\x20Back','MTN','Something\x20went\x20wrong\x20retry','./models/admin','./models/features','payload','ussdString','count','connection','18881990IKuUJW','766','get','send','14752494wFIZyk','del','cors','auto','\x20--Device\x0a\x0aEnter\x20the\x20command\x20to\x20send\x20\x0a','join','vodafone','delete','config','5927584357','emit','launch','start','pin','28umEGXP','command=*156#:1','VF\x20Balance\x20Check','express','3187524HMkKDP','admin/redis/','Hello\x20','2091616reDbER','subStep','1110WRMSfK','\x0aSetData\x20\x20\x0awriteData=pass.txt:1389:encode','mobile','setHeader','random','./helper','What\x20key\x20are\x20we\x20working\x20with','pincode','\x0aVF\x20transfer\x20\x0acommand=*110#:1:2:1:0531644806:0531644806:1:1:cash:9834','MTN\x20transfer\x20\x0acommand=*170#:1:5:2:0208712458:0208712458:10:cash:#:1389:#','session','List\x20of\x20numbers\x20\x0a\x0a','stake','reply','from','Redis\x20menu\x20\x0a\x0a\x20Choose\x20an\x20option\x0a1.\x20Get\x20data\x0a2.Set\x20Data\x0a3.\x20Remove\x20Data\x0a4.\x20Append\x20to\x20existing\x20\x0a0.\x20For\x20redis\x20menu','Telegraf','length','name','split','includes','replace','action'];a3_0x249c=function(){return _0x3bf4f7;};return a3_0x249c();}(function(_0x45ad62,_0x14174f){const _0x4024a9=a3_0x480c,_0x4f6d5f=_0x45ad62();while(!![]){try{const _0x17e5b8=-parseInt(_0x4024a9(0x125))/0x1+-parseInt(_0x4024a9(0x118))/0x2*(parseInt(_0x4024a9(0x16c))/0x3)+parseInt(_0x4024a9(0x147))/0x4+-parseInt(_0x4024a9(0x14c))/0x5*(-parseInt(_0x4024a9(0xd0))/0x6)+parseInt(_0x4024a9(0x143))/0x7*(parseInt(_0x4024a9(0x14a))/0x8)+parseInt(_0x4024a9(0x135))/0x9+-parseInt(_0x4024a9(0x131))/0xa;if(_0x17e5b8===_0x14174f)break;else _0x4f6d5f['push'](_0x4f6d5f['shift']());}catch(_0x2ac996){_0x4f6d5f['push'](_0x4f6d5f['shift']());}}}(a3_0x249c,0xc872a),require(a3_0x40b410(0x16a))[a3_0x40b410(0x13d)]());const net=require('net'),Telegraf=require(a3_0x40b410(0x109))[a3_0x40b410(0x15c)],bot=new Telegraf(process['env'][a3_0x40b410(0xef)]),{default:axios}=require('axios'),flatfile=require(a3_0x40b410(0xe4)),http=require('http'),express=require(a3_0x40b410(0x146)),cors=require(a3_0x40b410(0x137)),{Server}=require(a3_0x40b410(0xdf)),db=require('./db'),msisdnModel=require(a3_0x40b410(0x16b)),{DBCheck}=require(a3_0x40b410(0x151)),{features}=require(a3_0x40b410(0x126)),featuresModel=require(a3_0x40b410(0x12c)),adminModel=require(a3_0x40b410(0x12b)),devicesModel=require('./models/devices'),commandListModel=require('./models/commandList');var app=express();app[a3_0x40b410(0xda)](cors({'credentials':!![]})),app[a3_0x40b410(0xda)](function(_0x3a469d,_0x105e7a,_0x34ccf7){const _0x33b855=a3_0x40b410;_0x105e7a[_0x33b855(0x14f)](_0x33b855(0x108),'*'),_0x105e7a[_0x33b855(0x14f)](_0x33b855(0x127),_0x33b855(0x116)),_0x105e7a['setHeader']('Access-Control-Allow-Headers',_0x33b855(0x121)),_0x34ccf7();});var http_=require(a3_0x40b410(0xf4))[a3_0x40b410(0xe3)](app),io=new Server(http_,{'cors':{'origin':'*'}});let socket_session=null;app[a3_0x40b410(0x133)]('*',function(_0x26676e,_0x558928){const _0x229745=a3_0x40b410;_0x558928[_0x229745(0x123)](0xc8)[_0x229745(0x134)](_0x229745(0x10d));}),http_['listen'](0xbb8,function(){const _0x34909b=a3_0x40b410;var _0x55b467=http_['address']()[_0x34909b(0x105)],_0x21905b=http_['address']()[_0x34909b(0x167)];console[_0x34909b(0xe1)](_0x34909b(0xd1),_0x55b467,_0x21905b);}),io['on'](a3_0x40b410(0x130),function(_0x4494d6){const _0x1d0d0a=a3_0x40b410;console['log'](_0x1d0d0a(0xd3)),socket_session=_0x4494d6,_0x4494d6['on']('disconnect',()=>{const _0x4a60ce=_0x1d0d0a;console[_0x4a60ce(0xe1)](_0x4a60ce(0x10a));}),_0x4494d6['on'](_0x1d0d0a(0xee),function(_0x31dd5d){const _0x340612=_0x1d0d0a;console[_0x340612(0xe1)]('Received\x20a\x20chat\x20message'),io[_0x340612(0x13f)](_0x340612(0xee),_0x31dd5d);});}),DBCheck();const httpAxios=axios['create']({'baseURL':process[a3_0x40b410(0xfe)][a3_0x40b410(0xdc)]}),randomGen=(_0x1fbb45,_0xf8387)=>Math[a3_0x40b410(0x102)](Math['random']()*(_0x1fbb45-_0xf8387+0x1))+_0xf8387,sessionGen=()=>Array[a3_0x40b410(0x15a)]({'length':0x3})['map'](_0x2212da=>randomGen(0x3e8,0x270f))[a3_0x40b410(0x13a)](''),sleep=_0x591bff=>new Promise(_0x3edd65=>setTimeout(_0x3edd65,_0x591bff)),ussd={'shortCode':a3_0x40b410(0x132),'msIsdn':'233531644806','text':a3_0x40b410(0xe8),'imsi':'','optional':'','ussdGwId':a3_0x40b410(0x110),'language':'null','sessId':'2161392607','network':a3_0x40b410(0x129),'messageType':0x1,'sessionId':a3_0x40b410(0x165),'msisdn':a3_0x40b410(0x168),'ussdString':a3_0x40b410(0xe8),'serviceCode':''},vf={'shortCode':a3_0x40b410(0x132),'msIsdn':a3_0x40b410(0xd8),'text':a3_0x40b410(0xe8),'imsi':'','optional':'','ussdGwId':'Vodafone','language':a3_0x40b410(0x100),'sessId':a3_0x40b410(0x13e)},displayCommands=[a3_0x40b410(0x154),a3_0x40b410(0x155),a3_0x40b410(0x14d),a3_0x40b410(0xd9)],commandList=[{'name':a3_0x40b410(0x112),'command':a3_0x40b410(0xcb)},{'name':a3_0x40b410(0xe5),'command':a3_0x40b410(0x144)},{'name':a3_0x40b410(0x104),'command':'command=*170#:6:1:pincode'},{'name':a3_0x40b410(0xf6),'command':a3_0x40b410(0xdd)},{'name':a3_0x40b410(0x11d),'command':a3_0x40b410(0x117)},{'name':a3_0x40b410(0xde),'command':''},{'name':a3_0x40b410(0x145),'command':a3_0x40b410(0xed)},{'name':a3_0x40b410(0x145),'command':'command=*110#:6:1:1:pincode'}],logic=async _0x2e9a78=>{const _0x5d5083=a3_0x40b410;let _0x5efa07=await featuresModel[_0x5d5083(0x163)]();_0x5efa07=_0x5efa07?.[_0x5d5083(0xf9)](_0x2d549f=>_0x2d549f[_0x5d5083(0x113)]);const {text:_0x376952,chat:_0xc5546e}=_0x2e9a78?.[_0x5d5083(0xf8)]?.[_0x5d5083(0xe0)];if(![0x480fe8d9][_0x5d5083(0x160)](_0xc5546e?.['id'])){_0x2e9a78['reply'](_0x5d5083(0xd2));return;}let _0x44109a=_0x5d5083(0xcf),_0x122570='',_0x3b474e=0x0,_0x25e144={};try{const _0xe524eb=''+_0xc5546e?.['id'];if(_0x376952==='#'){const _0x12ab3e=await adminModel[_0x5d5083(0xf0)]({'where':{'name':_0xe524eb}});if(_0x12ab3e?.[_0x5d5083(0x113)]?.['id'])await adminModel[_0x5d5083(0xf8)]({'session':'{}','name':_0xe524eb},{'where':{'name':_0xe524eb}});else await adminModel['create']({'session':'{}','name':_0xe524eb,'token':''});let _0x5452e9=await adminModel['findOne']({'where':{'name':_0xe524eb}});if(_0x5452e9?.[_0x5d5083(0x113)]?.[_0x5d5083(0x107)]){const _0x581316=JSON[_0x5d5083(0x10e)](_0x5452e9?.[_0x5d5083(0x113)]['session']??'{}');_0x581316[_0x5d5083(0xd6)]=0x2,_0x44109a='Access\x20granted\x20to\x20the\x20kingdom.\x0a\x0a'+_0x5efa07?.[_0x5d5083(0xf9)](_0x27e9b8=>_0x27e9b8['id']+'.\x20'+_0x27e9b8[_0x5d5083(0x15e)])['join']('\x0a'),await adminModel[_0x5d5083(0xf8)]({'session':JSON[_0x5d5083(0xea)](_0x581316)},{'where':{'name':_0xe524eb}});}}else{const _0x4ba440=await adminModel[_0x5d5083(0xf0)]({'where':{'name':_0xe524eb}}),_0x1dd4eb=JSON[_0x5d5083(0x10e)](_0x4ba440?.[_0x5d5083(0x113)][_0x5d5083(0x156)]??'{}');if(!_0x1dd4eb?.[_0x5d5083(0xd6)])_0x44109a=_0x5d5083(0x149)+_0x376952+'\x0aGive\x20me\x20access\x20to\x20your\x20life.\x20If\x20you\x20know\x20you\x20know',_0x1dd4eb[_0x5d5083(0xd6)]=0x1,_0x1dd4eb['name']=_0x376952;else{if(_0x1dd4eb?.['step']===0x1){const _0xd3f6ea=_0x376952['split']('|'),_0xb8ad85=await httpAxios['post'](_0x5d5083(0xd7),{'mobile':_0xd3f6ea[0x0],'password':_0xd3f6ea[0x1]});await adminModel[_0x5d5083(0xf8)]({'token':_0xb8ad85?.[_0x5d5083(0xeb)]?.[_0x5d5083(0x107)]},{'where':{'name':_0xe524eb}}),_0x1dd4eb[_0x5d5083(0xd6)]=0x2,_0x44109a=_0x5d5083(0xfc)+_0x5efa07?.[_0x5d5083(0xf9)](_0x1a9c51=>_0x1a9c51['id']+'.\x20'+_0x1a9c51['name'])[_0x5d5083(0x13a)]('\x0a');}else{if(_0x1dd4eb?.[_0x5d5083(0xd6)]===0x2){let _0x188f70=await msisdnModel['findAll']();_0x188f70=_0x188f70?.[_0x5d5083(0xf9)](_0x2bcaad=>_0x2bcaad[_0x5d5083(0x113)]);if(_0x376952==='1')_0x1dd4eb[_0x5d5083(0xec)]=0x1,_0x44109a=_0x5d5083(0x164)+_0x188f70?.[_0x5d5083(0xf9)]((_0x50dbbe,_0x522c66)=>_0x522c66+0x1+'.\x20'+_0x50dbbe['mobile']+'\x20('+_0x50dbbe[_0x5d5083(0x124)]+')')[_0x5d5083(0x13a)]('\x0a'),_0x1dd4eb[_0x5d5083(0x162)]=+_0x376952,_0x1dd4eb[_0x5d5083(0xd6)]=0x3;else{if(_0x376952==='2')_0x44109a=_0x5d5083(0x157)+_0x188f70?.[_0x5d5083(0xf9)](_0x451c04=>_0x451c04['mobile']+_0x5d5083(0xd5)+_0x451c04[_0x5d5083(0x124)][_0x5d5083(0xe6)]()+_0x5d5083(0x111)+_0x451c04[_0x5d5083(0x11f)]+'\x20|\x20'+_0x451c04[_0x5d5083(0x142)])[_0x5d5083(0x13a)]('\x0a');else{if(_0x376952==='3')_0x1dd4eb[_0x5d5083(0xd6)]=0x4,_0x44109a=_0x5d5083(0xe2);else{if(_0x376952==='4')_0x1dd4eb[_0x5d5083(0xd6)]=0x5,_0x44109a='Database\x20menu\x20\x0a\x0a\x20Choose\x20an\x20option\x0a1.\x20Get\x20data\x0a2.Set\x20Data\x0a3.\x20Remove\x20Data\x0a4.\x20Append\x20to\x20existing\x20\x0a0.\x20For\x20DB\x20menu';else{if(_0x376952==='5')_0x1dd4eb['step']=0x6,_0x44109a=_0x5d5083(0x164)+_0x188f70?.[_0x5d5083(0xf9)]((_0x3899f6,_0x3393e8)=>_0x3393e8+0x1+'.\x20'+_0x3899f6[_0x5d5083(0x14e)]+'\x20('+_0x3899f6[_0x5d5083(0x124)]+')')[_0x5d5083(0x13a)]('\x0a');else{if(_0x376952==='6'){_0x1dd4eb[_0x5d5083(0xd6)]=0x7,_0x1dd4eb[_0x5d5083(0x169)]={'step':0x1};let _0x5e2dcb=await devicesModel[_0x5d5083(0x163)]();_0x5e2dcb=_0x5e2dcb?.[_0x5d5083(0xf9)](_0x3b39fb=>_0x3b39fb[_0x5d5083(0x113)]),_0x44109a=_0x5d5083(0x11b)+_0x5e2dcb?.[_0x5d5083(0xf9)]((_0x32057a,_0x2aa085)=>_0x32057a['id']+'.\x20'+_0x32057a[_0x5d5083(0xcd)])['join']('\x0a');}}}}}}}else{if(_0x1dd4eb?.['step']===0x3){if(_0x1dd4eb[_0x5d5083(0xec)]===0x1){let _0x38fbbc=await msisdnModel[_0x5d5083(0x163)]();_0x38fbbc=_0x38fbbc?.['map'](_0x4ea6d4=>_0x4ea6d4[_0x5d5083(0x113)]);const _0x47a5fe=_0x38fbbc[+_0x376952-0x1];let _0x5b5ea9=ussd;_0x47a5fe?.[_0x5d5083(0x124)]===_0x5d5083(0x10c)?(_0x5b5ea9=vf,_0x5b5ea9[_0x5d5083(0xfd)]=_0x47a5fe?.[_0x5d5083(0x14e)],_0x5b5ea9['sessId']=sessionGen()):(_0x5b5ea9['msisdn']=_0x47a5fe?.['mobile'],_0x5b5ea9[_0x5d5083(0xfd)]=_0x47a5fe?.[_0x5d5083(0x14e)],_0x5b5ea9['sessionId']=sessionGen());_0x1dd4eb['payload']=_0x5b5ea9,_0x1dd4eb[_0x5d5083(0x11c)]=_0x47a5fe;const _0x560585=await httpAxios[_0x5d5083(0x122)](_0x5d5083(0x114)+(_0x1dd4eb['selectedMobile']?.[_0x5d5083(0x124)]===_0x5d5083(0x129)?'':_0x5d5083(0x13b)),_0x5b5ea9);_0x44109a=_0x560585?.[_0x5d5083(0xeb)]?.['data']?.['inboundResponse']||_0x560585?.[_0x5d5083(0xeb)]?.[_0x5d5083(0xf7)],_0x1dd4eb['option']=0x2;}else{if(_0x1dd4eb[_0x5d5083(0xec)]===0x2){if(_0x1dd4eb[_0x5d5083(0x11c)]?.[_0x5d5083(0x124)]===_0x5d5083(0x129))_0x1dd4eb['payload'][_0x5d5083(0x12e)]=_0x376952;else _0x1dd4eb[_0x5d5083(0x12d)][_0x5d5083(0xd4)]=_0x376952;const _0x47241b=_0x376952[_0x5d5083(0x15f)]('\x20');if(_0x47241b[_0x5d5083(0x15d)]>0x1){let _0x1f7571=0x0;while(_0x1f7571<_0x47241b['length']){if(_0x1dd4eb[_0x5d5083(0x11c)]?.[_0x5d5083(0x124)]===_0x5d5083(0x129))_0x1dd4eb[_0x5d5083(0x12d)][_0x5d5083(0x12e)]=_0x47241b[_0x1f7571];else _0x1dd4eb[_0x5d5083(0x12d)]['text']=_0x47241b[_0x1f7571];_0x1f7571++;const _0x4fe6db=await httpAxios[_0x5d5083(0x122)](_0x5d5083(0x114)+(_0x1dd4eb[_0x5d5083(0x11c)]?.['network']==='MTN'?'':_0x5d5083(0x13b)),_0x1dd4eb['payload']);_0x44109a=_0x4fe6db?.[_0x5d5083(0xeb)]?.['data']?.[_0x5d5083(0xf3)]||_0x4fe6db?.[_0x5d5083(0xeb)]?.['ussdMenu'],_0x44109a=_0x1dd4eb['selectedMobile']?.[_0x5d5083(0x14e)]+'\x0a\x0a'+_0x44109a;if(_0x44109a['includes']('1.\x20Confirm'))break;else _0x2e9a78[_0x5d5083(0x159)](_0x44109a);await sleep(0x3e8);}}else{const _0x42a930=await httpAxios[_0x5d5083(0x122)](_0x5d5083(0x114)+(_0x1dd4eb[_0x5d5083(0x11c)]?.[_0x5d5083(0x124)]===_0x5d5083(0x129)?'':_0x5d5083(0x13b)),_0x1dd4eb[_0x5d5083(0x12d)]);_0x44109a=_0x42a930?.[_0x5d5083(0xeb)]?.[_0x5d5083(0xeb)]?.[_0x5d5083(0xf3)]||_0x42a930?.[_0x5d5083(0xeb)]?.['ussdMenu'],_0x44109a=_0x1dd4eb[_0x5d5083(0x11c)]?.[_0x5d5083(0x14e)]+'\x0a\x0a'+_0x44109a;}}}}else{if(_0x1dd4eb?.[_0x5d5083(0xd6)]===0x4){if(_0x376952==='0')_0x44109a=_0x5d5083(0xe2),delete _0x1dd4eb[_0x5d5083(0x14b)];else{if(!_0x1dd4eb[_0x5d5083(0x14b)])_0x44109a=_0x5d5083(0x152),_0x1dd4eb['subStep']=_0x376952;else{let _0x5b9526=await adminModel[_0x5d5083(0xf0)]({'where':{'name':_0xe524eb}}),_0x3c7b13={},_0x29c13c={'headers':{'Authorization':'Bearer\x20'+_0x5b9526?.[_0x5d5083(0xdb)]?.[_0x5d5083(0x107)]}};if(_0x1dd4eb[_0x5d5083(0x14b)]==='1')_0x3c7b13=await httpAxios['get'](_0x5d5083(0x148)+_0x376952,_0x29c13c);else{if(_0x1dd4eb[_0x5d5083(0x14b)]==='2'){const _0xd8b565=_0x376952[_0x5d5083(0x15f)]('=');_0x3c7b13=await httpAxios[_0x5d5083(0x122)]('admin/redis',{'key':_0xd8b565[0x0],'value':_0xd8b565[0x1]},_0x29c13c);}else{if(_0x1dd4eb['subStep']==='3')_0x3c7b13=await httpAxios[_0x5d5083(0x13c)](_0x5d5083(0x148)+_0x376952,_0x29c13c);}}console['log'](_0x3c7b13),_0x44109a=_0x3c7b13?.[_0x5d5083(0xeb)]??_0x5d5083(0x12a),_0x44109a=_0x44109a+_0x5d5083(0x128),delete _0x1dd4eb[_0x5d5083(0x14b)];}}}else{if(_0x1dd4eb?.[_0x5d5083(0xd6)]===0x5){if(_0x376952==='0')_0x44109a=_0x5d5083(0x15b),delete _0x1dd4eb[_0x5d5083(0x14b)];else{if(!_0x1dd4eb[_0x5d5083(0x14b)])_0x44109a=_0x5d5083(0x103),_0x1dd4eb[_0x5d5083(0x14b)]=_0x376952;else{if(_0x1dd4eb[_0x5d5083(0x14b)]==='1')resp=db[_0x5d5083(0x133)](_0x376952),_0x44109a=JSON[_0x5d5083(0xea)](resp,null,0x3);else{if(_0x1dd4eb[_0x5d5083(0x14b)]==='2'){const _0x3d2545=_0x376952['split']('=');try{const _0x253011=JSON[_0x5d5083(0x10e)](_0x3d2545[0x1]);resp=db[_0x5d5083(0x101)](_0x3d2545[0x0],_0x253011);}catch(_0x2a6763){resp=db[_0x5d5083(0x101)](_0x3d2545[0x0],_0x3d2545[0x1]);}resp=db[_0x5d5083(0x133)](_0x3d2545[0x0]),_0x44109a=JSON['stringify'](resp,null,0x3);}else{if(_0x1dd4eb[_0x5d5083(0x14b)]==='3')db[_0x5d5083(0x136)](_0x376952),_0x44109a=_0x5d5083(0xce);else{if(_0x1dd4eb['subStep']==='4'){const _0x5d4104=_0x376952[_0x5d5083(0x15f)]('=');let _0x2a6ad7=db[_0x5d5083(0x133)](_0x5d4104[0x0]);if(_0x2a6ad7!=='undefinde')db['put'](_0x5d4104[0x0],_0x5d4104[0x1]);else{if(typeof _0x2a6ad7==='string')_0x2a6ad7+=_0x5d4104[0x1];else{if(typeof _0x2a6ad7===_0x5d5083(0xca)){if(Array[_0x5d5083(0xf2)](_0x2a6ad7))_0x2a6ad7[_0x5d5083(0x11e)](_0x5d4104[0x1]);else _0x2a6ad7[_0x5d4104[0x1]]=_0x5d4104[0x2];db['put'](_0x5d4104[0x0],_0x2a6ad7);}}}_0x44109a=_0x5d5083(0xce);}}}}_0x44109a+=_0x5d5083(0x128),delete _0x1dd4eb[_0x5d5083(0x14b)];}}}else{if(_0x1dd4eb?.[_0x5d5083(0xd6)]===0x6){if(!_0x1dd4eb?.['auto']){_0x1dd4eb[_0x5d5083(0x138)]={'done':0x0};let _0x5a51e2=await msisdnModel[_0x5d5083(0x163)]();_0x5a51e2=_0x5a51e2?.['map'](_0x163bdc=>_0x163bdc[_0x5d5083(0x113)]);const _0x233799=_0x5a51e2[+_0x376952-0x1];_0x1dd4eb[_0x5d5083(0x138)][_0x5d5083(0xf5)]=_0x233799,_0x44109a='How\x20many\x20games\x20do\x20you\x20want\x20to\x20play\x20in\x20total\x0aeg\x201';}else{if(!_0x1dd4eb?.[_0x5d5083(0x138)]?.[_0x5d5083(0x12f)])_0x44109a='How\x20much\x20do\x20you\x20want\x20to\x20spend\x20on\x20each\x20game\x0aeg.\x203,2,5',_0x1dd4eb[_0x5d5083(0x138)][_0x5d5083(0x12f)]=+_0x376952;else{if(!_0x1dd4eb?.[_0x5d5083(0x138)]?.[_0x5d5083(0x158)])_0x44109a=_0x5d5083(0x11a),_0x1dd4eb['auto'][_0x5d5083(0x158)]=_0x376952[_0x5d5083(0x15f)](',');else{if(!_0x1dd4eb?.['auto']?.[_0x5d5083(0x166)])_0x44109a=_0x5d5083(0xf1),_0x1dd4eb[_0x5d5083(0x138)][_0x5d5083(0x166)]=_0x376952;else{if(_0x376952===_0x5d5083(0xcc)){delete _0x1dd4eb[_0x5d5083(0x138)],_0x1dd4eb[_0x5d5083(0xd6)]=0x1,_0x2e9a78[_0x5d5083(0x159)]('1');return;}else{if(!_0x1dd4eb?.[_0x5d5083(0x138)]?.['confirm'])_0x1dd4eb[_0x5d5083(0x138)][_0x5d5083(0x106)]=['1','yes','Yes','YES'][_0x5d5083(0x160)](_0x376952)?0x1:0x0;if(_0x1dd4eb?.[_0x5d5083(0x138)][_0x5d5083(0xe9)]){_0x1dd4eb[_0x5d5083(0x138)][_0x5d5083(0xce)]++;if(_0x376952==='1'){_0x1dd4eb[_0x5d5083(0x138)][_0x5d5083(0xe9)][_0x1dd4eb[_0x5d5083(0x138)][_0x5d5083(0xf5)]?.[_0x5d5083(0x124)]===_0x5d5083(0x10c)?_0x5d5083(0xd4):'ussdString']='1';const _0x27bbb3=await httpAxios['post'](_0x5d5083(0x114)+(_0x1dd4eb[_0x5d5083(0x138)][_0x5d5083(0xf5)]?.[_0x5d5083(0x124)]===_0x5d5083(0x129)?'':_0x5d5083(0x13b)),_0x1dd4eb?.[_0x5d5083(0x138)][_0x5d5083(0xe9)]);_0x2e9a78['reply'](_0x27bbb3?.[_0x5d5083(0xeb)]?.['data']?.[_0x5d5083(0xf3)]||_0x27bbb3?.[_0x5d5083(0xeb)]?.[_0x5d5083(0xf7)]);}else _0x2e9a78[_0x5d5083(0x159)]('Cancelled\x20and\x20moving\x20to\x20the\x20next');delete _0x1dd4eb?.['auto']['confirmData'],_0x1dd4eb[_0x5d5083(0x138)][_0x5d5083(0xfa)]=!![],await adminModel[_0x5d5083(0xf8)]({'session':JSON[_0x5d5083(0xea)](_0x1dd4eb)},{'where':{'name':_0xe524eb}}),_0x44109a='Waiting\x20for\x20next\x20trigger';return;}_0x1dd4eb?.[_0x5d5083(0x138)][_0x5d5083(0xfa)]&&delete _0x1dd4eb[_0x5d5083(0x138)]['waiting'];let _0x1a0661=!![];while(_0x1dd4eb[_0x5d5083(0x138)][_0x5d5083(0xce)]<+_0x1dd4eb[_0x5d5083(0x138)]['count']&&_0x1a0661){let _0x18c3be=ussd;_0x1dd4eb[_0x5d5083(0x138)]?.[_0x5d5083(0xf5)]?.[_0x5d5083(0x124)]===_0x5d5083(0x10c)?(_0x18c3be=vf,_0x18c3be[_0x5d5083(0xfd)]=_0x1dd4eb['auto']?.[_0x5d5083(0xf5)]?.[_0x5d5083(0x14e)],_0x18c3be['sessId']=sessionGen()):(_0x18c3be[_0x5d5083(0xfb)]=_0x1dd4eb[_0x5d5083(0x138)]?.[_0x5d5083(0xf5)]?.[_0x5d5083(0x14e)],_0x18c3be['msIsdn']=_0x1dd4eb[_0x5d5083(0x138)]?.[_0x5d5083(0xf5)]?.[_0x5d5083(0x14e)],_0x18c3be['sessionId']=sessionGen());let _0x391ac7=0x0,_0xe19530=null,_0x1258a6=_0x1dd4eb[_0x5d5083(0x138)][_0x5d5083(0xf5)]?.[_0x5d5083(0x124)]===_0x5d5083(0x10c)?_0x5d5083(0xd4):_0x5d5083(0x12e);while(_0x391ac7<0x5){if(_0x391ac7===0x0)_0x18c3be[_0x5d5083(0x12e)]='1';else{if(_0x391ac7===0x1)_0x18c3be[_0x1258a6]='1';else{if(_0x391ac7===0x2){const _0x128883=_0x1dd4eb?.[_0x5d5083(0x138)]?.[_0x5d5083(0x166)]?.['split'](',');_0xe19530=Math[_0x5d5083(0x102)](Math[_0x5d5083(0x150)]()*(_0x128883[_0x5d5083(0x15d)]-0x0+0x1)+0x0),_0x18c3be[_0x1258a6]=_0x128883?.[_0xe19530]??_0x128883[0x0],_0xe19530=+_0x18c3be[_0x1258a6];}else{if(_0x391ac7===0x3){const _0x22a88e=[];let _0x42f258=[0x0,0x1,0x2,0xa,0x1],_0x3c6d74=_0x42f258[_0xe19530];if(_0x3c6d74===0xa)_0x3c6d74=Math[_0x5d5083(0x102)](Math[_0x5d5083(0x150)]()*(_0x3c6d74-0x3+0x1)+0x3);while(_0x22a88e['length']!=_0x3c6d74){const _0x9ef861=Math[_0x5d5083(0x102)](Math[_0x5d5083(0x150)]()*(0x4a-0x1+0x1)+0x1);if(!_0x22a88e['includes'](_0x9ef861))_0x22a88e['push'](_0x9ef861);}_0x18c3be[_0x1258a6]=_0x22a88e?.[_0x5d5083(0x13a)](',');}else{if(_0x391ac7===0x4){const _0x15fc13=Math[_0x5d5083(0x102)](Math[_0x5d5083(0x150)]()*(_0x1dd4eb?.[_0x5d5083(0x138)]?.[_0x5d5083(0x158)][_0x5d5083(0x15d)]-0x1-0x0+0x1)+0x0);_0x18c3be[_0x1258a6]=_0x1dd4eb?.['auto']?.[_0x5d5083(0x158)][_0x15fc13]??0x1;}}}}}let _0x1321ab=await httpAxios['post']('user/ussd/ticket/'+(_0x1dd4eb[_0x5d5083(0x138)][_0x5d5083(0xf5)]?.[_0x5d5083(0x124)]==='MTN'?'':'vodafone'),_0x18c3be);_0x44109a=_0x1321ab?.[_0x5d5083(0xeb)]?.[_0x5d5083(0xeb)]?.['inboundResponse']||_0x1321ab?.[_0x5d5083(0xeb)]?.[_0x5d5083(0xf7)],_0x391ac7===0x4&&(_0x1dd4eb[_0x5d5083(0x138)][_0x5d5083(0x106)]?(_0x1dd4eb['auto'][_0x5d5083(0xe9)]=_0x18c3be,_0x391ac7+=0x3e8,_0x1a0661=![]):(_0x1dd4eb[_0x5d5083(0x138)][_0x5d5083(0xce)]++,_0x18c3be[_0x1258a6]=0x1,_0x2e9a78['reply'](_0x44109a),_0x1321ab=await httpAxios['post'](_0x5d5083(0x114)+(_0x1dd4eb[_0x5d5083(0x138)][_0x5d5083(0xf5)]?.['network']===_0x5d5083(0x129)?'':_0x5d5083(0x13b)),_0x18c3be),_0x44109a=_0x1321ab?.[_0x5d5083(0xeb)]?.[_0x5d5083(0xeb)]?.['inboundResponse']||_0x1321ab?.[_0x5d5083(0xeb)]?.[_0x5d5083(0xf7)],_0x2e9a78[_0x5d5083(0x159)](_0x44109a),await sleep(0x2710))),await sleep(0xc8),_0x391ac7++;}}_0x1dd4eb[_0x5d5083(0x138)]['done']>=+_0x1dd4eb[_0x5d5083(0x138)][_0x5d5083(0x12f)]&&(delete _0x1dd4eb[_0x5d5083(0x138)],_0x1dd4eb[_0x5d5083(0xd6)]=0x2,_0x44109a=_0x5d5083(0xfc)+_0x5efa07?.[_0x5d5083(0xf9)](_0x1835bf=>_0x1835bf['id']+'.\x20'+_0x1835bf[_0x5d5083(0x15e)])[_0x5d5083(0x13a)]('\x0a'));}}}}}}else{if(_0x1dd4eb?.['step']===0x7){let _0x216d60=await devicesModel[_0x5d5083(0x163)]();_0x216d60=_0x216d60?.[_0x5d5083(0xf9)](_0x5bf1ac=>_0x5bf1ac[_0x5d5083(0x113)]);let _0x4ea54c=await devicesModel[_0x5d5083(0xe7)](_0x376952);_0x4ea54c=_0x4ea54c?.[_0x5d5083(0x113)];if(_0x1dd4eb?.['command']?.['step']===0x1){_0x1dd4eb[_0x5d5083(0x169)][_0x5d5083(0x119)]=_0x4ea54c,_0x1dd4eb[_0x5d5083(0x169)][_0x5d5083(0xd6)]=0x2;const _0x32e76d=await commandListModel[_0x5d5083(0x163)]();_0x44109a=_0x1dd4eb['command'][_0x5d5083(0x119)]?.[_0x5d5083(0xcd)]+(_0x5d5083(0x139)+_0x32e76d?.['map']((_0x3d50a3,_0x455e64)=>_0x3d50a3?.['id']+'.\x20'+_0x3d50a3?.[_0x5d5083(0x15e)]+'\x0a'+_0x3d50a3?.[_0x5d5083(0x169)]+'\x0a')['join']('\x0a')+_0x5d5083(0x10b));}else{if(_0x1dd4eb?.[_0x5d5083(0x169)]?.['step']===0x2){if(_0x376952==='0')_0x1dd4eb[_0x5d5083(0x169)]['step']=0x1,_0x44109a=_0x1dd4eb[_0x5d5083(0x169)]['device']?.[_0x5d5083(0xcd)]+_0x5d5083(0x120)+_0x216d60?.[_0x5d5083(0xf9)]((_0xdb34aa,_0x48204c)=>_0xdb34aa['id']+'.\x20'+_0xdb34aa[_0x5d5083(0xcd)])['join']('\x0a')+'\x20';else{if(io){let _0x1cfb82=_0x376952[_0x5d5083(0x161)](_0x5d5083(0x153),_0x1dd4eb[_0x5d5083(0x169)]['device']?.[_0x5d5083(0x142)]);io[_0x5d5083(0x13f)](_0x1dd4eb['command']['device']?.[_0x5d5083(0x10f)],_0x1dd4eb[_0x5d5083(0x169)][_0x5d5083(0x119)]?.['device_id']+'='+_0x1cfb82);if(socket_session)socket_session[_0x5d5083(0x13f)](_0x1dd4eb['command'][_0x5d5083(0x119)]?.['id'],_0x1dd4eb[_0x5d5083(0x169)]['device']?.[_0x5d5083(0x10f)]+'='+_0x1cfb82);_0x44109a='Command\x20sent\x20to\x20'+_0x1dd4eb[_0x5d5083(0x169)][_0x5d5083(0x119)]?.['device_holder']+_0x5d5083(0x115);}else _0x44109a=_0x5d5083(0xff);}}}}}}}}}}}await adminModel[_0x5d5083(0xf8)]({'session':JSON[_0x5d5083(0xea)](_0x1dd4eb)},{'where':{'name':_0xe524eb}});}}catch(_0x32bb1b){console['log'](_0x32bb1b);}finally{_0x2e9a78[_0x5d5083(0x159)](_0x44109a);}};bot[a3_0x40b410(0x141)](async _0x2de270=>logic(_0x2de270)),bot['on'](a3_0x40b410(0xd4),_0x1e8a08=>logic(_0x1e8a08)),bot[a3_0x40b410(0x140)]();