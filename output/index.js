const a3_0x1d95fa=a3_0x2ecc;function a3_0x8d7e(){const _0x495202=['flat-file-db','Received\x20a\x20chat\x20message','http','session','express','toLowerCase','./db','Cancelled\x20and\x20moving\x20to\x20the\x20next','waiting','How\x20much\x20do\x20you\x20want\x20to\x20spend\x20on\x20each\x20game\x0aeg.\x203,2,5','random','command=*110#:6:1:1:pincode','2161392607','Client\x20disconnected','dataValues','length','List\x20of\x20numbers\x20\x0a\x0a','split','./models/msisdn','process','7047448UBllqh','App\x20listening\x20at\x20https://%s:%s','confirm','map','admin/redis/','command=*170#:6:1:pincode','get','Who\x20the\x20fuck\x20are\x20you?','1263260tbbIow','Access-Control-Allow-Headers','socket.io','233208444900','device_holder','log','text','step','device','option','object','ussdString','What\x20DB\x20key\x20or\x20data\x20are\x20we\x20working\x20with','setHeader','YES','Command\x20sent\x20to\x20','findOne','selectedMobile','message','use','10NXjYXp','sessId','stringify','Vodafone','number','\x20\x0a\x0a','What\x20are\x20you\x20looking\x20for\x20here','VODAFONE','5927584357','send','command=*170#:4:1','command=*127#:1','16623660uNHZOi','dataVales','\x0a\x0a0.To\x20change\x20device','Fuck\x20off\x20intruder','\x20\x20|\x20','env','telegram_bot','sessionId','address','./models/features','null','1419657MiHPiu','MTN\x20Balance\x20Check','undefinde','command=*156#:1','Bearer\x20','network','862169fkAeMq','command=*170#:6:6:1:1388:1389:1389','net','vodafone','update','Yes','delete','42KmzWxT','join','reply','cors','How\x20many\x20games\x20do\x20you\x20want\x20to\x20play\x20in\x20total\x0aeg\x201','Telegraf','pincode','699246dfBAal','\x0aSetData\x20\x20\x0agetData:test.text:encoded','MTN\x20Pin\x20Change','Choose\x20a\x20number\x20and\x20proceed\x0a\x0a','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','action','*766#','msisdn','port','floor','done','payload','launch','Access\x20granted\x20to\x20the\x20kingdom.\x0a\x0a','./models/devices','push','admin/redis','VF\x20Balance\x20Check','emit','inboundResponse','count','Do\x20you\x20want\x20to\x20confirm\x20each\x20iteration?\x20\x0a1.\x20Yes\x0a0.\x20No\x0a','token','data','Choose\x20the\x20device\x20to\x20process\x20this\x20command\x0a','post','auto','name','parse','chat\x20message','status','start','ids','MTN\x20transfer','Waiting\x20for\x20next\x20trigger','put','config','\x20Device\x0a\x0aChoose\x20the\x20device\x20to\x20process\x20this\x20command\x0a','Redis\x20menu\x20\x0a\x0a\x20Choose\x20an\x20option\x0a1.\x20Get\x20data\x0a2.Set\x20Data\x0a3.\x20Remove\x20Data\x0a0.\x20For\x20redis\x20menu','stake','MTN','Origin,\x20X-Requested-With,content-type,Accept','MTN\x20Allow\x20Cash\x20Out','233531644806','games','msIsdn','9fyFEAM','mobile','pin','listen','What\x20key\x20are\x20we\x20working\x20with','ussdMenu','subStep','\x20--Device\x0a\x0aEnter\x20the\x20command\x20to\x20send\x20\x0a','findByPk','includes','dotenv','\x20processing\x20\x0a0\x20To\x20change\x20device','connection','axios','device_id','Socket\x20is\x20null\x20and\x20should\x20be\x20restarted','admin/login','user/ussd/ticket/','./helper','./models/admin','766','findAll','confirmData','\x0aVF-MTN\x20transfer\x20\x0acommand=*110#:1:2:1:0531644806:0531644806:1:1:cash:9834','\x0a\x0a0.\x20Back','1288226IHcTQi','Redis\x20menu\x20\x0a\x0a\x20Choose\x20an\x20option\x0a1.\x20Get\x20data\x0a2.Set\x20Data\x0a3.\x20Remove\x20Data\x0a4.\x20Append\x20to\x20existing\x20\x0a0.\x20For\x20redis\x20menu','command'];a3_0x8d7e=function(){return _0x495202;};return a3_0x8d7e();}(function(_0x45f543,_0x8e77e9){const _0x4dc05a=a3_0x2ecc,_0x839ce8=_0x45f543();while(!![]){try{const _0x331525=parseInt(_0x4dc05a(0x247))/0x1+parseInt(_0x4dc05a(0x1e9))/0x2+parseInt(_0x4dc05a(0x233))/0x3+-parseInt(_0x4dc05a(0x208))/0x4*(-parseInt(_0x4dc05a(0x21c))/0x5)+parseInt(_0x4dc05a(0x240))/0x6*(-parseInt(_0x4dc05a(0x239))/0x7)+parseInt(_0x4dc05a(0x200))/0x8*(parseInt(_0x4dc05a(0x275))/0x9)+-parseInt(_0x4dc05a(0x228))/0xa;if(_0x331525===_0x8e77e9)break;else _0x839ce8['push'](_0x839ce8['shift']());}catch(_0x3fbab6){_0x839ce8['push'](_0x839ce8['shift']());}}}(a3_0x8d7e,0xc46fc),require(a3_0x1d95fa(0x1da))[a3_0x1d95fa(0x26b)]());const net=require(a3_0x1d95fa(0x23b)),Telegraf=require('telegraf')[a3_0x1d95fa(0x245)],bot=new Telegraf(process[a3_0x1d95fa(0x22d)][a3_0x1d95fa(0x22e)]),{default:axios}=require(a3_0x1d95fa(0x1dd)),flatfile=require(a3_0x1d95fa(0x1ec)),http=require('http'),express=require(a3_0x1d95fa(0x1f0)),cors=require(a3_0x1d95fa(0x243)),{Server}=require(a3_0x1d95fa(0x20a)),db=require(a3_0x1d95fa(0x1f2)),msisdnModel=require(a3_0x1d95fa(0x1fe)),{DBCheck}=require(a3_0x1d95fa(0x1e2)),{features}=require(a3_0x1d95fa(0x1ff)),featuresModel=require(a3_0x1d95fa(0x231)),adminModel=require(a3_0x1d95fa(0x1e3)),devicesModel=require(a3_0x1d95fa(0x255));var app=express();app['use'](cors({'credentials':!![]})),app[a3_0x1d95fa(0x21b)](function(_0x21fd9c,_0x45ffee,_0x73ed14){const _0xf5e8b2=a3_0x1d95fa;_0x45ffee[_0xf5e8b2(0x215)]('Access-Control-Allow-Origin','*'),_0x45ffee[_0xf5e8b2(0x215)]('Access-Control-Allow-Methods',_0xf5e8b2(0x24b)),_0x45ffee[_0xf5e8b2(0x215)](_0xf5e8b2(0x209),_0xf5e8b2(0x270)),_0x73ed14();});function a3_0x2ecc(_0x447414,_0x2d461b){const _0x8d7edd=a3_0x8d7e();return a3_0x2ecc=function(_0x2ecc6b,_0x51d96b){_0x2ecc6b=_0x2ecc6b-0x1d6;let _0x4c9f6d=_0x8d7edd[_0x2ecc6b];return _0x4c9f6d;},a3_0x2ecc(_0x447414,_0x2d461b);}var http_=require(a3_0x1d95fa(0x1ee))['createServer'](app),io=new Server(http_,{'cors':{'origin':'*'}});let socket_session=null;app['get']('*',function(_0x28703d,_0x1a3f72){const _0x3cd987=a3_0x1d95fa;_0x1a3f72[_0x3cd987(0x265)](0xc8)[_0x3cd987(0x225)](_0x3cd987(0x222));}),http_[a3_0x1d95fa(0x278)](0xbb8,function(){const _0x170c1b=a3_0x1d95fa;var _0x432b82=http_[_0x170c1b(0x230)]()[_0x170c1b(0x230)],_0x10efbf=http_[_0x170c1b(0x230)]()[_0x170c1b(0x24f)];console['log'](_0x170c1b(0x201),_0x432b82,_0x10efbf);}),io['on'](a3_0x1d95fa(0x1dc),function(_0x5e39ff){const _0x299352=a3_0x1d95fa;console[_0x299352(0x20d)]('Client\x20connected\x20to\x20the\x20WebSocket'),socket_session=_0x5e39ff,_0x5e39ff['on']('disconnect',()=>{const _0x555b5c=_0x299352;console[_0x555b5c(0x20d)](_0x555b5c(0x1f9));}),_0x5e39ff['on']('chat\x20message',function(_0xc78f8e){const _0x54385a=_0x299352;console['log'](_0x54385a(0x1ed)),io[_0x54385a(0x259)](_0x54385a(0x264),_0xc78f8e);});}),DBCheck();const httpAxios=axios['create']({'baseURL':process[a3_0x1d95fa(0x22d)]['api']}),randomGen=(_0x553782,_0x36984d)=>Math[a3_0x1d95fa(0x250)](Math['random']()*(_0x553782-_0x36984d+0x1))+_0x36984d,sessionGen=()=>Array['from']({'length':0x3})[a3_0x1d95fa(0x203)](_0x427e6e=>randomGen(0x3e8,0x270f))['join'](''),sleep=_0xe70fe8=>new Promise(_0x3d409e=>setTimeout(_0x3d409e,_0xe70fe8)),ussd={'shortCode':a3_0x1d95fa(0x1e4),'msIsdn':a3_0x1d95fa(0x272),'text':'*766#','imsi':'','optional':'','ussdGwId':'Vodafone','language':a3_0x1d95fa(0x232),'sessId':a3_0x1d95fa(0x1f8),'network':a3_0x1d95fa(0x26f),'messageType':0x1,'sessionId':a3_0x1d95fa(0x1f8),'msisdn':'233531644806','ussdString':a3_0x1d95fa(0x24d),'serviceCode':''},vf={'shortCode':a3_0x1d95fa(0x1e4),'msIsdn':a3_0x1d95fa(0x20b),'text':a3_0x1d95fa(0x24d),'imsi':'','optional':'','ussdGwId':a3_0x1d95fa(0x21f),'language':a3_0x1d95fa(0x232),'sessId':a3_0x1d95fa(0x224)},displayCommands=[a3_0x1d95fa(0x1e7),'\x0aMTN-MTN\x20transfer\x20\x0acommand=*170#:1:1:0531644805:0531644805:1:cash:#:1389','\x0aSetData\x20\x20\x0awriteData:test.text=tes:encoded',a3_0x1d95fa(0x248)],commandList=[{'name':'VF\x20Check\x20Number','command':a3_0x1d95fa(0x227)},{'name':'MTN\x20Check\x20Number','command':a3_0x1d95fa(0x236)},{'name':a3_0x1d95fa(0x234),'command':a3_0x1d95fa(0x205)},{'name':a3_0x1d95fa(0x249),'command':a3_0x1d95fa(0x23a)},{'name':a3_0x1d95fa(0x271),'command':a3_0x1d95fa(0x226)},{'name':a3_0x1d95fa(0x268),'command':''},{'name':a3_0x1d95fa(0x258),'command':'command=*110#:6:1:1:pincode'},{'name':a3_0x1d95fa(0x258),'command':a3_0x1d95fa(0x1f7)}],logic=async _0x8c20a7=>{const _0x23580d=a3_0x1d95fa;let _0x570065=await featuresModel['findAll']();_0x570065=_0x570065?.[_0x23580d(0x203)](_0x23f978=>_0x23f978[_0x23580d(0x1fa)]);const {text:_0x201df7,chat:_0x4050e9}=_0x8c20a7?.[_0x23580d(0x23d)]?.[_0x23580d(0x21a)];if(![0x480fe8d9][_0x23580d(0x1d9)](_0x4050e9?.['id'])){_0x8c20a7[_0x23580d(0x242)](_0x23580d(0x22b));return;}let _0x1d9f53=_0x23580d(0x207),_0x13e6b2='',_0x325fcd=0x0,_0x44ceff={};try{const _0x596853=''+_0x4050e9?.['id'];if(_0x201df7==='#'){const _0x21dd48=await adminModel[_0x23580d(0x218)]({'where':{'name':_0x596853}});if(_0x21dd48?.[_0x23580d(0x1fa)]?.['id'])await adminModel[_0x23580d(0x23d)]({'session':'{}','name':_0x596853},{'where':{'name':_0x596853}});else await adminModel['create']({'session':'{}','name':_0x596853,'token':''});let _0x1ff672=await adminModel['findOne']({'where':{'name':_0x596853}});if(_0x1ff672?.[_0x23580d(0x1fa)]?.[_0x23580d(0x25d)]){const _0x1e8f76=JSON[_0x23580d(0x263)](_0x1ff672?.[_0x23580d(0x1fa)][_0x23580d(0x1ef)]??'{}');_0x1e8f76[_0x23580d(0x20f)]=0x2,_0x1d9f53=_0x23580d(0x254)+_0x570065?.[_0x23580d(0x203)](_0x30427c=>_0x30427c['id']+'.\x20'+_0x30427c['name'])[_0x23580d(0x241)]('\x0a'),await adminModel[_0x23580d(0x23d)]({'session':JSON[_0x23580d(0x21e)](_0x1e8f76)},{'where':{'name':_0x596853}});}}else{const _0x3e9aca=await adminModel[_0x23580d(0x218)]({'where':{'name':_0x596853}}),_0x45c500=JSON[_0x23580d(0x263)](_0x3e9aca?.['dataValues']['session']??'{}');if(!_0x45c500?.[_0x23580d(0x20f)])_0x1d9f53='Hello\x20'+_0x201df7+'\x0aGive\x20me\x20access\x20to\x20your\x20life.\x20If\x20you\x20know\x20you\x20know',_0x45c500[_0x23580d(0x20f)]=0x1,_0x45c500[_0x23580d(0x262)]=_0x201df7;else{if(_0x45c500?.['step']===0x1){const _0x248f98=_0x201df7[_0x23580d(0x1fd)]('|'),_0x4c7fbd=await httpAxios[_0x23580d(0x260)](_0x23580d(0x1e0),{'mobile':_0x248f98[0x0],'password':_0x248f98[0x1]});await adminModel[_0x23580d(0x23d)]({'token':_0x4c7fbd?.['data']?.[_0x23580d(0x25d)]},{'where':{'name':_0x596853}}),_0x45c500[_0x23580d(0x20f)]=0x2,_0x1d9f53=_0x23580d(0x254)+_0x570065?.['map'](_0x30d63f=>_0x30d63f['id']+'.\x20'+_0x30d63f['name'])[_0x23580d(0x241)]('\x0a');}else{if(_0x45c500?.['step']===0x2){let _0x5ecbc1=await msisdnModel[_0x23580d(0x1e5)]();_0x5ecbc1=_0x5ecbc1?.['map'](_0x26c4d5=>_0x26c4d5[_0x23580d(0x1fa)]);if(_0x201df7==='1')_0x45c500['option']=0x1,_0x1d9f53=_0x23580d(0x24a)+_0x5ecbc1?.[_0x23580d(0x203)]((_0x36b6a8,_0x4e4b90)=>_0x4e4b90+0x1+'.\x20'+_0x36b6a8['mobile']+'\x20('+_0x36b6a8['network']+')')[_0x23580d(0x241)]('\x0a'),_0x45c500[_0x23580d(0x24c)]=+_0x201df7,_0x45c500['step']=0x3;else{if(_0x201df7==='2')_0x1d9f53=_0x23580d(0x1fc)+_0x5ecbc1?.[_0x23580d(0x203)](_0x7b1ca5=>_0x7b1ca5['mobile']+'\x20\x20|\x20\x20'+_0x7b1ca5[_0x23580d(0x238)][_0x23580d(0x1f1)]()+_0x23580d(0x22c)+_0x7b1ca5['holder']+'\x20|\x20'+_0x7b1ca5[_0x23580d(0x277)])['join']('\x0a');else{if(_0x201df7==='3')_0x45c500[_0x23580d(0x20f)]=0x4,_0x1d9f53=_0x23580d(0x26d);else{if(_0x201df7==='4')_0x45c500[_0x23580d(0x20f)]=0x5,_0x1d9f53='Database\x20menu\x20\x0a\x0a\x20Choose\x20an\x20option\x0a1.\x20Get\x20data\x0a2.Set\x20Data\x0a3.\x20Remove\x20Data\x0a4.\x20Append\x20to\x20existing\x20\x0a0.\x20For\x20DB\x20menu';else{if(_0x201df7==='5')_0x45c500[_0x23580d(0x20f)]=0x6,_0x1d9f53=_0x23580d(0x24a)+_0x5ecbc1?.['map']((_0x13164f,_0x59ddda)=>_0x59ddda+0x1+'.\x20'+_0x13164f[_0x23580d(0x276)]+'\x20('+_0x13164f[_0x23580d(0x238)]+')')[_0x23580d(0x241)]('\x0a');else{if(_0x201df7==='6'){_0x45c500['step']=0x7,_0x45c500[_0x23580d(0x1eb)]={'step':0x1};let _0x958bb7=await devicesModel[_0x23580d(0x1e5)]();_0x958bb7=_0x958bb7?.['map'](_0x4da60e=>_0x4da60e['dataValues']),_0x1d9f53=_0x23580d(0x25f)+_0x958bb7?.[_0x23580d(0x203)]((_0x5f2a5d,_0x43b477)=>_0x5f2a5d['id']+'.\x20'+_0x5f2a5d[_0x23580d(0x20c)])[_0x23580d(0x241)]('\x0a');}}}}}}}else{if(_0x45c500?.[_0x23580d(0x20f)]===0x3){if(_0x45c500[_0x23580d(0x211)]===0x1){let _0x105506=await msisdnModel[_0x23580d(0x1e5)]();_0x105506=_0x105506?.[_0x23580d(0x203)](_0x158ba3=>_0x158ba3['dataValues']);const _0x17b659=_0x105506[+_0x201df7-0x1];let _0x1f4843=ussd;_0x17b659?.[_0x23580d(0x238)]===_0x23580d(0x223)?(_0x1f4843=vf,_0x1f4843[_0x23580d(0x274)]=_0x17b659?.[_0x23580d(0x276)],_0x1f4843['sessId']=sessionGen()):(_0x1f4843[_0x23580d(0x24e)]=_0x17b659?.[_0x23580d(0x276)],_0x1f4843[_0x23580d(0x274)]=_0x17b659?.[_0x23580d(0x276)],_0x1f4843[_0x23580d(0x22f)]=sessionGen());_0x45c500[_0x23580d(0x252)]=_0x1f4843,_0x45c500[_0x23580d(0x219)]=_0x17b659;const _0x27ed5d=await httpAxios[_0x23580d(0x260)](_0x23580d(0x1e1)+(_0x45c500[_0x23580d(0x219)]?.[_0x23580d(0x238)]===_0x23580d(0x26f)?'':'vodafone'),_0x1f4843);_0x1d9f53=_0x27ed5d?.['data']?.[_0x23580d(0x25e)]?.[_0x23580d(0x25a)]||_0x27ed5d?.[_0x23580d(0x25e)]?.[_0x23580d(0x27a)],_0x45c500['option']=0x2;}else{if(_0x45c500[_0x23580d(0x211)]===0x2){if(_0x45c500[_0x23580d(0x219)]?.['network']==='MTN')_0x45c500[_0x23580d(0x252)][_0x23580d(0x213)]=_0x201df7;else _0x45c500[_0x23580d(0x252)][_0x23580d(0x20e)]=_0x201df7;const _0x20850f=_0x201df7[_0x23580d(0x1fd)]('\x20');if(_0x20850f[_0x23580d(0x1fb)]>0x1){let _0x1dc271=0x0;while(_0x1dc271<_0x20850f[_0x23580d(0x1fb)]){if(_0x45c500['selectedMobile']?.[_0x23580d(0x238)]===_0x23580d(0x26f))_0x45c500[_0x23580d(0x252)][_0x23580d(0x213)]=_0x20850f[_0x1dc271];else _0x45c500[_0x23580d(0x252)]['text']=_0x20850f[_0x1dc271];_0x1dc271++;const _0x255d54=await httpAxios[_0x23580d(0x260)](_0x23580d(0x1e1)+(_0x45c500['selectedMobile']?.[_0x23580d(0x238)]===_0x23580d(0x26f)?'':_0x23580d(0x23c)),_0x45c500[_0x23580d(0x252)]);_0x1d9f53=_0x255d54?.[_0x23580d(0x25e)]?.[_0x23580d(0x25e)]?.['inboundResponse']||_0x255d54?.[_0x23580d(0x25e)]?.[_0x23580d(0x27a)],_0x1d9f53=_0x45c500[_0x23580d(0x219)]?.[_0x23580d(0x276)]+'\x0a\x0a'+_0x1d9f53;if(_0x1d9f53[_0x23580d(0x1d9)]('1.\x20Confirm'))break;else _0x8c20a7['reply'](_0x1d9f53);await sleep(0x3e8);}}else{const _0x20e25d=await httpAxios['post'](_0x23580d(0x1e1)+(_0x45c500[_0x23580d(0x219)]?.[_0x23580d(0x238)]==='MTN'?'':'vodafone'),_0x45c500[_0x23580d(0x252)]);_0x1d9f53=_0x20e25d?.['data']?.['data']?.[_0x23580d(0x25a)]||_0x20e25d?.[_0x23580d(0x25e)]?.[_0x23580d(0x27a)],_0x1d9f53=_0x45c500[_0x23580d(0x219)]?.[_0x23580d(0x276)]+'\x0a\x0a'+_0x1d9f53;}}}}else{if(_0x45c500?.[_0x23580d(0x20f)]===0x4){if(_0x201df7==='0')_0x1d9f53=_0x23580d(0x26d),delete _0x45c500[_0x23580d(0x1d6)];else{if(!_0x45c500[_0x23580d(0x1d6)])_0x1d9f53=_0x23580d(0x279),_0x45c500[_0x23580d(0x1d6)]=_0x201df7;else{let _0xd5c22b=await adminModel['findOne']({'where':{'name':_0x596853}}),_0x5cb6bf={},_0x420607={'headers':{'Authorization':_0x23580d(0x237)+_0xd5c22b?.[_0x23580d(0x229)]?.['token']}};if(_0x45c500[_0x23580d(0x1d6)]==='1')_0x5cb6bf=await httpAxios[_0x23580d(0x206)](_0x23580d(0x204)+_0x201df7,_0x420607);else{if(_0x45c500[_0x23580d(0x1d6)]==='2'){const _0x444b2c=_0x201df7[_0x23580d(0x1fd)]('=');_0x5cb6bf=await httpAxios[_0x23580d(0x260)](_0x23580d(0x257),{'key':_0x444b2c[0x0],'value':_0x444b2c[0x1]},_0x420607);}else{if(_0x45c500['subStep']==='3')_0x5cb6bf=await httpAxios[_0x23580d(0x23f)](_0x23580d(0x204)+_0x201df7,_0x420607);}}console[_0x23580d(0x20d)](_0x5cb6bf),_0x1d9f53=_0x5cb6bf?.[_0x23580d(0x25e)]??'Something\x20went\x20wrong\x20retry',_0x1d9f53=_0x1d9f53+_0x23580d(0x1e8),delete _0x45c500['subStep'];}}}else{if(_0x45c500?.[_0x23580d(0x20f)]===0x5){if(_0x201df7==='0')_0x1d9f53=_0x23580d(0x1ea),delete _0x45c500[_0x23580d(0x1d6)];else{if(!_0x45c500[_0x23580d(0x1d6)])_0x1d9f53=_0x23580d(0x214),_0x45c500[_0x23580d(0x1d6)]=_0x201df7;else{if(_0x45c500[_0x23580d(0x1d6)]==='1')resp=db['get'](_0x201df7),_0x1d9f53=JSON[_0x23580d(0x21e)](resp,null,0x3);else{if(_0x45c500[_0x23580d(0x1d6)]==='2'){const _0x5c8746=_0x201df7[_0x23580d(0x1fd)]('=');try{const _0x5a20c0=JSON[_0x23580d(0x263)](_0x5c8746[0x1]);resp=db['put'](_0x5c8746[0x0],_0x5a20c0);}catch(_0x4a793c){resp=db[_0x23580d(0x26a)](_0x5c8746[0x0],_0x5c8746[0x1]);}resp=db['get'](_0x5c8746[0x0]),_0x1d9f53=JSON[_0x23580d(0x21e)](resp,null,0x3);}else{if(_0x45c500[_0x23580d(0x1d6)]==='3')db['del'](_0x201df7),_0x1d9f53=_0x23580d(0x251);else{if(_0x45c500[_0x23580d(0x1d6)]==='4'){const _0x31d053=_0x201df7[_0x23580d(0x1fd)]('=');let _0x22bf3a=db['get'](_0x31d053[0x0]);if(_0x22bf3a!==_0x23580d(0x235))db[_0x23580d(0x26a)](_0x31d053[0x0],_0x31d053[0x1]);else{if(typeof _0x22bf3a==='string')_0x22bf3a+=_0x31d053[0x1];else{if(typeof _0x22bf3a===_0x23580d(0x212)){if(Array['isArray'](_0x22bf3a))_0x22bf3a[_0x23580d(0x256)](_0x31d053[0x1]);else _0x22bf3a[_0x31d053[0x1]]=_0x31d053[0x2];db[_0x23580d(0x26a)](_0x31d053[0x0],_0x22bf3a);}}}_0x1d9f53=_0x23580d(0x251);}}}}_0x1d9f53+=_0x23580d(0x1e8),delete _0x45c500[_0x23580d(0x1d6)];}}}else{if(_0x45c500?.[_0x23580d(0x20f)]===0x6){if(!_0x45c500?.[_0x23580d(0x261)]){_0x45c500[_0x23580d(0x261)]={'done':0x0};let _0x5870a8=await msisdnModel[_0x23580d(0x1e5)]();_0x5870a8=_0x5870a8?.[_0x23580d(0x203)](_0x29c644=>_0x29c644[_0x23580d(0x1fa)]);const _0x4d4036=_0x5870a8[+_0x201df7-0x1];_0x45c500['auto']['number']=_0x4d4036,_0x1d9f53=_0x23580d(0x244);}else{if(!_0x45c500?.[_0x23580d(0x261)]?.[_0x23580d(0x25b)])_0x1d9f53=_0x23580d(0x1f5),_0x45c500[_0x23580d(0x261)]['count']=+_0x201df7;else{if(!_0x45c500?.[_0x23580d(0x261)]?.[_0x23580d(0x26e)])_0x1d9f53='Which\x20games\x20fo\x20you\x20want\x20to\x20include\x20in\x20the\x20plays\x0aOptions\x20\x0a1.\x20A1\x0a2.\x20A2\x0a3.\x20P2\x0a4.\x20B\x0a\x0aeg\x201,2,3,4',_0x45c500['auto'][_0x23580d(0x26e)]=_0x201df7['split'](',');else{if(!_0x45c500?.[_0x23580d(0x261)]?.[_0x23580d(0x273)])_0x1d9f53=_0x23580d(0x25c),_0x45c500['auto'][_0x23580d(0x273)]=_0x201df7;else{if(_0x201df7==='exit'){delete _0x45c500[_0x23580d(0x261)],_0x45c500[_0x23580d(0x20f)]=0x1,_0x8c20a7[_0x23580d(0x242)]('1');return;}else{if(!_0x45c500?.[_0x23580d(0x261)]?.[_0x23580d(0x202)])_0x45c500[_0x23580d(0x261)][_0x23580d(0x202)]=['1','yes',_0x23580d(0x23e),_0x23580d(0x216)]['includes'](_0x201df7)?0x1:0x0;if(_0x45c500?.['auto']['confirmData']){_0x45c500[_0x23580d(0x261)][_0x23580d(0x251)]++;if(_0x201df7==='1'){_0x45c500[_0x23580d(0x261)][_0x23580d(0x1e6)][_0x45c500[_0x23580d(0x261)][_0x23580d(0x220)]?.[_0x23580d(0x238)]===_0x23580d(0x223)?'text':'ussdString']='1';const _0x24992f=await httpAxios[_0x23580d(0x260)](_0x23580d(0x1e1)+(_0x45c500[_0x23580d(0x261)]['number']?.[_0x23580d(0x238)]===_0x23580d(0x26f)?'':_0x23580d(0x23c)),_0x45c500?.[_0x23580d(0x261)][_0x23580d(0x1e6)]);_0x8c20a7[_0x23580d(0x242)](_0x24992f?.[_0x23580d(0x25e)]?.[_0x23580d(0x25e)]?.[_0x23580d(0x25a)]||_0x24992f?.[_0x23580d(0x25e)]?.[_0x23580d(0x27a)]);}else _0x8c20a7[_0x23580d(0x242)](_0x23580d(0x1f3));delete _0x45c500?.[_0x23580d(0x261)][_0x23580d(0x1e6)],_0x45c500[_0x23580d(0x261)]['waiting']=!![],await adminModel[_0x23580d(0x23d)]({'session':JSON[_0x23580d(0x21e)](_0x45c500)},{'where':{'name':_0x596853}}),_0x1d9f53=_0x23580d(0x269);return;}_0x45c500?.[_0x23580d(0x261)][_0x23580d(0x1f4)]&&delete _0x45c500[_0x23580d(0x261)]['waiting'];let _0x4290f3=!![];while(_0x45c500[_0x23580d(0x261)]['done']<+_0x45c500[_0x23580d(0x261)][_0x23580d(0x25b)]&&_0x4290f3){let _0x1c1545=ussd;_0x45c500[_0x23580d(0x261)]?.[_0x23580d(0x220)]?.[_0x23580d(0x238)]==='VODAFONE'?(_0x1c1545=vf,_0x1c1545[_0x23580d(0x274)]=_0x45c500['auto']?.['number']?.[_0x23580d(0x276)],_0x1c1545[_0x23580d(0x21d)]=sessionGen()):(_0x1c1545[_0x23580d(0x24e)]=_0x45c500[_0x23580d(0x261)]?.[_0x23580d(0x220)]?.[_0x23580d(0x276)],_0x1c1545[_0x23580d(0x274)]=_0x45c500[_0x23580d(0x261)]?.[_0x23580d(0x220)]?.[_0x23580d(0x276)],_0x1c1545[_0x23580d(0x22f)]=sessionGen());let _0x2e83af=0x0,_0xef3535=null,_0x4bac2f=_0x45c500[_0x23580d(0x261)][_0x23580d(0x220)]?.['network']===_0x23580d(0x223)?'text':'ussdString';while(_0x2e83af<0x5){if(_0x2e83af===0x0)_0x1c1545[_0x23580d(0x213)]='1';else{if(_0x2e83af===0x1)_0x1c1545[_0x4bac2f]='1';else{if(_0x2e83af===0x2){const _0x2bcbcd=_0x45c500?.[_0x23580d(0x261)]?.['games']?.['split'](',');_0xef3535=Math['floor'](Math[_0x23580d(0x1f6)]()*(_0x2bcbcd[_0x23580d(0x1fb)]-0x0+0x1)+0x0),_0x1c1545[_0x4bac2f]=_0x2bcbcd?.[_0xef3535]??_0x2bcbcd[0x0],_0xef3535=+_0x1c1545[_0x4bac2f];}else{if(_0x2e83af===0x3){const _0x5010f6=[];let _0x323c0c=[0x0,0x1,0x2,0xa,0x1],_0xbd3c11=_0x323c0c[_0xef3535];if(_0xbd3c11===0xa)_0xbd3c11=Math[_0x23580d(0x250)](Math['random']()*(_0xbd3c11-0x3+0x1)+0x3);while(_0x5010f6[_0x23580d(0x1fb)]!=_0xbd3c11){const _0x408bf0=Math[_0x23580d(0x250)](Math[_0x23580d(0x1f6)]()*(0x4a-0x1+0x1)+0x1);if(!_0x5010f6[_0x23580d(0x1d9)](_0x408bf0))_0x5010f6[_0x23580d(0x256)](_0x408bf0);}_0x1c1545[_0x4bac2f]=_0x5010f6?.[_0x23580d(0x241)](',');}else{if(_0x2e83af===0x4){const _0x130c93=Math['floor'](Math['random']()*(_0x45c500?.[_0x23580d(0x261)]?.[_0x23580d(0x26e)][_0x23580d(0x1fb)]-0x1-0x0+0x1)+0x0);_0x1c1545[_0x4bac2f]=_0x45c500?.[_0x23580d(0x261)]?.[_0x23580d(0x26e)][_0x130c93]??0x1;}}}}}let _0x20100b=await httpAxios['post'](_0x23580d(0x1e1)+(_0x45c500['auto'][_0x23580d(0x220)]?.[_0x23580d(0x238)]==='MTN'?'':_0x23580d(0x23c)),_0x1c1545);_0x1d9f53=_0x20100b?.[_0x23580d(0x25e)]?.['data']?.['inboundResponse']||_0x20100b?.['data']?.[_0x23580d(0x27a)],_0x2e83af===0x4&&(_0x45c500['auto'][_0x23580d(0x202)]?(_0x45c500[_0x23580d(0x261)][_0x23580d(0x1e6)]=_0x1c1545,_0x2e83af+=0x3e8,_0x4290f3=![]):(_0x45c500[_0x23580d(0x261)][_0x23580d(0x251)]++,_0x1c1545[_0x4bac2f]=0x1,_0x8c20a7['reply'](_0x1d9f53),_0x20100b=await httpAxios['post']('user/ussd/ticket/'+(_0x45c500[_0x23580d(0x261)][_0x23580d(0x220)]?.['network']===_0x23580d(0x26f)?'':_0x23580d(0x23c)),_0x1c1545),_0x1d9f53=_0x20100b?.[_0x23580d(0x25e)]?.[_0x23580d(0x25e)]?.[_0x23580d(0x25a)]||_0x20100b?.['data']?.['ussdMenu'],_0x8c20a7['reply'](_0x1d9f53),await sleep(0x2710))),await sleep(0xc8),_0x2e83af++;}}_0x45c500[_0x23580d(0x261)][_0x23580d(0x251)]>=+_0x45c500[_0x23580d(0x261)][_0x23580d(0x25b)]&&(delete _0x45c500[_0x23580d(0x261)],_0x45c500['step']=0x2,_0x1d9f53='Access\x20granted\x20to\x20the\x20kingdom.\x0a\x0a'+_0x570065?.[_0x23580d(0x203)](_0x4721c0=>_0x4721c0['id']+'.\x20'+_0x4721c0['name'])[_0x23580d(0x241)]('\x0a'));}}}}}}else{if(_0x45c500?.['step']===0x7){let _0x1da4b3=await devicesModel[_0x23580d(0x1e5)]();_0x1da4b3=_0x1da4b3?.[_0x23580d(0x203)](_0x3a7d73=>_0x3a7d73[_0x23580d(0x1fa)]);let _0x21f8f9=await devicesModel[_0x23580d(0x1d8)](_0x201df7);_0x21f8f9=_0x21f8f9?.[_0x23580d(0x1fa)];if(_0x45c500?.['command']?.[_0x23580d(0x20f)]===0x1)_0x45c500[_0x23580d(0x1eb)][_0x23580d(0x210)]=_0x21f8f9,_0x45c500[_0x23580d(0x1eb)]['step']=0x2,_0x1d9f53=_0x45c500[_0x23580d(0x1eb)]['device']?.[_0x23580d(0x20c)]+(_0x23580d(0x1d7)+commandList?.[_0x23580d(0x203)]((_0x1fcfa1,_0xda9d66)=>_0xda9d66+0x1+'.\x20'+_0x1fcfa1?.[_0x23580d(0x262)])[_0x23580d(0x241)]('\x0a')+_0x23580d(0x221)+displayCommands?.[_0x23580d(0x241)]('\x0a')+_0x23580d(0x22a));else{if(_0x45c500?.[_0x23580d(0x1eb)]?.['step']===0x2){if(_0x201df7==='0')_0x45c500[_0x23580d(0x1eb)][_0x23580d(0x20f)]=0x1,_0x1d9f53=_0x45c500[_0x23580d(0x1eb)][_0x23580d(0x210)]?.[_0x23580d(0x20c)]+_0x23580d(0x26c)+_0x1da4b3?.[_0x23580d(0x203)]((_0x58cc46,_0x38b75b)=>_0x58cc46['id']+'.\x20'+_0x58cc46['device_holder'])[_0x23580d(0x241)]('\x0a')+'\x20';else{if(io){console[_0x23580d(0x20d)](socket_session);if(commandList?.[+_0x201df7]){let _0x27b729=commandList?.[+_0x201df7]?.['command']['replace'](_0x23580d(0x246),_0x45c500['command'][_0x23580d(0x210)]?.[_0x23580d(0x267)]);io[_0x23580d(0x259)](_0x45c500[_0x23580d(0x1eb)][_0x23580d(0x210)]?.[_0x23580d(0x1de)],_0x45c500[_0x23580d(0x1eb)][_0x23580d(0x210)]?.[_0x23580d(0x1de)]+'='+_0x27b729);if(socket_session)socket_session[_0x23580d(0x259)](_0x45c500[_0x23580d(0x1eb)]['device']?.['id'],_0x45c500['command']['device']?.[_0x23580d(0x1de)]+'='+_0x27b729);_0x1d9f53='Command\x20sent\x20to\x20'+_0x45c500['command'][_0x23580d(0x210)]?.[_0x23580d(0x20c)]+'\x20processing\x20\x0a0\x20To\x20change\x20device';}else{io[_0x23580d(0x259)](_0x45c500[_0x23580d(0x1eb)][_0x23580d(0x210)]?.[_0x23580d(0x1de)],_0x45c500[_0x23580d(0x1eb)][_0x23580d(0x210)]?.['device_id']+'='+_0x201df7);if(socket_session)socket_session['emit'](_0x45c500[_0x23580d(0x1eb)]['device']?.['id'],_0x45c500[_0x23580d(0x1eb)][_0x23580d(0x210)]?.[_0x23580d(0x1de)]+'='+cmd);_0x1d9f53=_0x23580d(0x217)+_0x45c500[_0x23580d(0x1eb)]['device']?.[_0x23580d(0x20c)]+_0x23580d(0x1db);}}else _0x1d9f53=_0x23580d(0x1df);}}}}}}}}}}}await adminModel[_0x23580d(0x23d)]({'session':JSON['stringify'](_0x45c500)},{'where':{'name':_0x596853}});}}catch(_0x3fe856){console['log'](_0x3fe856);}finally{_0x8c20a7[_0x23580d(0x242)](_0x1d9f53);}};bot[a3_0x1d95fa(0x266)](async _0x286b3d=>logic(_0x286b3d)),bot['on'](a3_0x1d95fa(0x20e),_0x4cf588=>logic(_0x4cf588)),bot[a3_0x1d95fa(0x253)]();