const a0_0x322ef7=a0_0x5cc4;(function(_0x16fc21,_0x2c8bbc){const _0x178ed4=a0_0x5cc4;const _0x53a064=_0x16fc21();while(!![]){try{const _0x3666bd=parseInt(_0x178ed4(0x1ee))/0x1+-parseInt(_0x178ed4(0x1d5))/0x2+-parseInt(_0x178ed4(0x1da))/0x3+parseInt(_0x178ed4(0x1e6))/0x4+parseInt(_0x178ed4(0x1fb))/0x5*(parseInt(_0x178ed4(0x1dd))/0x6)+-parseInt(_0x178ed4(0x1dc))/0x7*(parseInt(_0x178ed4(0x1eb))/0x8)+-parseInt(_0x178ed4(0x1e3))/0x9;if(_0x3666bd===_0x2c8bbc){break;}else{_0x53a064['push'](_0x53a064['shift']());}}catch(_0x35d699){_0x53a064['push'](_0x53a064['shift']());}}}(a0_0x564d,0x2c1e1));require(a0_0x322ef7(0x1d9))[a0_0x322ef7(0x1e9)]();const cron=require(a0_0x322ef7(0x1ff));const compression=require(a0_0x322ef7(0x1f9));const express=require('express');const cors=require(a0_0x322ef7(0x1f5));const morgan=require(a0_0x322ef7(0x200));const bodyParser=require(a0_0x322ef7(0x1e4));const routes=require('./routes');const {default:axios}=require('axios');const {clearCheckerRedis,autoGenGames,simulateGames,checkStats}=require(a0_0x322ef7(0x1e8));const tasksModel=require(a0_0x322ef7(0x1ed));const db=require(a0_0x322ef7(0x1df));const startTelegram=require(a0_0x322ef7(0x1ec));const {connectRabbitMQ}=require(a0_0x322ef7(0x1f3));const app=express();const PORT=process[a0_0x322ef7(0x1e7)][a0_0x322ef7(0x1f6)]||0xbb8;app[a0_0x322ef7(0x1fc)](compression());const corsOptions={'origin':'*','methods':'GET,HEAD,PUT,PATCH,POST,DELETE','allowedHeaders':['Content-Type',a0_0x322ef7(0x1f1)]};app[a0_0x322ef7(0x1fc)](cors(corsOptions));function a0_0x564d(){const _0x5048d1=['325014wIjZus','send','Server\x20is\x20running\x20on\x20http://localhost:','delete\x20from\x20tasks','dotenv','946230dZDBzJ','Access-Control-Allow-Methods','244447eCCdyk','367200MBNAYa','Access-Control-Allow-Origin','./utils/db','---running\x20a\x20task\x20every\x20minute','status','Origin,\x20X-Requested-With,content-type,Accept','36657QGpZUp','body-parser','json','940332PrTZPb','env','./services','config','query','32jYBdte','./telegram','./models/tasks','261296ZKgrCb','45\x2018\x20*\x20*\x20MON,TUE,WED,THU,FRI,SAT','schedule','Authorization','Access-Control-Allow-Headers','./rabbit','application/*+json','cors','PORT','Unauthorized\x20request','listen','compression','/api/v1.0','25momQvI','use','setHeader','59\x2018\x20*\x20*\x20MON,TUE,WED,THU,FRI,SAT','node-cron','morgan','54\x2017\x20*\x20*\x20SUN','log','15\x2020\x20*\x20*\x20*'];a0_0x564d=function(){return _0x5048d1;};return a0_0x564d();}app[a0_0x322ef7(0x1fc)](function(_0x12e82c,_0x143751,_0x335a4e){const _0x4fdfa1=a0_0x322ef7;_0x143751[_0x4fdfa1(0x1fd)](_0x4fdfa1(0x1de),'*');_0x143751[_0x4fdfa1(0x1fd)](_0x4fdfa1(0x1db),'GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE');_0x143751[_0x4fdfa1(0x1fd)](_0x4fdfa1(0x1f2),_0x4fdfa1(0x1e2));_0x335a4e();});app[a0_0x322ef7(0x1fc)](express['json']());app[a0_0x322ef7(0x1fc)](bodyParser[a0_0x322ef7(0x1e5)]({'type':a0_0x322ef7(0x1f4)}));app[a0_0x322ef7(0x1fc)](a0_0x322ef7(0x1fa),routes);function a0_0x5cc4(_0x35d21d,_0x67487a){const _0x564d4c=a0_0x564d();a0_0x5cc4=function(_0x5cc4fd,_0x1fe84a){_0x5cc4fd=_0x5cc4fd-0x1d3;let _0x3754cd=_0x564d4c[_0x5cc4fd];return _0x3754cd;};return a0_0x5cc4(_0x35d21d,_0x67487a);}app['get']('*',(_0x183dc8,_0x5e7e9a,_0x1d7c7a)=>{const _0x54ae89=a0_0x322ef7;_0x5e7e9a[_0x54ae89(0x1e1)](0xc8)[_0x54ae89(0x1d6)](_0x54ae89(0x1f7));});cron[a0_0x322ef7(0x1f0)](a0_0x322ef7(0x1d4),()=>{const _0x3779ab=a0_0x322ef7;console[_0x3779ab(0x1d3)](_0x3779ab(0x1e0));clearCheckerRedis();});cron[a0_0x322ef7(0x1f0)](a0_0x322ef7(0x1ef),()=>{});cron[a0_0x322ef7(0x1f0)](a0_0x322ef7(0x1fe),async()=>{const _0x57c8fa=a0_0x322ef7;await db[_0x57c8fa(0x1ea)](_0x57c8fa(0x1d8));});cron[a0_0x322ef7(0x1f0)]('45\x2017\x20*\x20*\x20SUN',()=>{});cron[a0_0x322ef7(0x1f0)](a0_0x322ef7(0x201),async()=>{const _0x5c96d1=a0_0x322ef7;await db[_0x5c96d1(0x1ea)](_0x5c96d1(0x1d8));});cron['schedule']('*/5\x2018-19\x20*\x20*\x20*',()=>{checkStats();});cron['schedule']('*/30\x2020-23\x20*\x20*\x20*',()=>{checkStats();});startTelegram();app[a0_0x322ef7(0x1f8)](PORT,()=>{const _0x885904=a0_0x322ef7;console[_0x885904(0x1d3)](_0x885904(0x1d7)+PORT);});connectRabbitMQ();