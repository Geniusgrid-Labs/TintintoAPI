const a10_0x2c0451=a10_0x338c;(function(_0xcbf5e,_0x48d811){const _0x48f127=a10_0x338c;const _0x5e9b15=_0xcbf5e();while(!![]){try{const _0x36a55e=-parseInt(_0x48f127(0x1a7))/0x1+-parseInt(_0x48f127(0x136))/0x2*(parseInt(_0x48f127(0x154))/0x3)+-parseInt(_0x48f127(0x18e))/0x4+-parseInt(_0x48f127(0x111))/0x5*(-parseInt(_0x48f127(0x15d))/0x6)+parseInt(_0x48f127(0x184))/0x7+parseInt(_0x48f127(0x179))/0x8+-parseInt(_0x48f127(0x12d))/0x9;if(_0x36a55e===_0x48d811){break;}else{_0x5e9b15['push'](_0x5e9b15['shift']());}}catch(_0xffe139){_0x5e9b15['push'](_0x5e9b15['shift']());}}}(a10_0x18be,0xeaf4d));const tasksModel=require(a10_0x2c0451(0x140));const devicesModel=require('./models/devices');const {numberCheck,balanceCheck}=require('./utils/helper');const msisdnModel=require(a10_0x2c0451(0x16d));const commandListModel=require(a10_0x2c0451(0x113));const gamesModel=require(a10_0x2c0451(0x177));const {default:axios}=require(a10_0x2c0451(0x137));const adminModel=require('./models/admin');const jwt=require(a10_0x2c0451(0x125));const moment=require(a10_0x2c0451(0x128));const TelegramBot=require('node-telegram-bot-api');const bot2=new TelegramBot(process['env']['telegram_bot'],{'polling':![]});const db=require(a10_0x2c0451(0x11c));const logsModel=require(a10_0x2c0451(0x151));const telegram=async(_0x10365d,_0x2c0e93=0x1f8c)=>{const _0x30c4e2=a10_0x2c0451;if(_0x10365d)bot2[_0x30c4e2(0x143)](_0x30c4e2(0x12a),_0x10365d,{'message_thread_id':_0x2c0e93});};const httpInstance=axios[a10_0x2c0451(0x14f)]({'baseURL':process[a10_0x2c0451(0x132)][a10_0x2c0451(0x116)]});const adminAuth=(_0x2d6e46,_0x35785e,_0xccebbc)=>{const _0x526b9a=a10_0x2c0451;if(!_0x2d6e46['headers']['authorization'])return _0x35785e[_0x526b9a(0x191)](0x191)[_0x526b9a(0x12c)](_0x526b9a(0x150));const _0xf36883=_0x2d6e46[_0x526b9a(0x14b)]['authorization'];const _0x38704e=_0xf36883&&_0xf36883[_0x526b9a(0x13f)]('\x20')[0x1];jwt[_0x526b9a(0x19e)](_0x38704e,process['env'][_0x526b9a(0x114)],async(_0xe952ba,_0x2412ba)=>{const _0x4b4430=_0x526b9a;if(_0xe952ba)return _0x35785e['status'](0x191)[_0x4b4430(0x12c)](_0x4b4430(0x150));_0x2d6e46[_0x4b4430(0x1a1)]=_0x2412ba;_0xccebbc();});};const pollingService=async(_0x4cd27a,_0x4bb98c,_0x25253f)=>{const _0x4bd9f2=a10_0x2c0451;const _0x6910a1=await tasksModel['findOne']({'where':{'device_id':_0x4cd27a?.[_0x4bd9f2(0x188)]?.['id']||''}});_0x4bb98c['json'](_0x6910a1?.[_0x4bd9f2(0x198)]||{});};function a10_0x338c(_0x258029,_0x5b6b7d){const _0x18be75=a10_0x18be();a10_0x338c=function(_0x338c19,_0x16675a){_0x338c19=_0x338c19-0x109;let _0x39ff7f=_0x18be75[_0x338c19];return _0x39ff7f;};return a10_0x338c(_0x258029,_0x5b6b7d);}const deletePollingService=async(_0x4e539e,_0x13f641,_0xb1fdcd)=>{const _0x169c2a=a10_0x2c0451;const _0x197c40=await tasksModel[_0x169c2a(0x12f)]({'where':{'id':_0x4e539e?.['params']?.['id']||''}});_0x13f641[_0x169c2a(0x191)](0xcc)[_0x169c2a(0x12c)](_0x169c2a(0x165));};const deviceLog=async(_0x105bc3,_0x29b6ee,_0x215c01)=>{const _0x4eec8b=a10_0x2c0451;console[_0x4eec8b(0x10e)](_0x4eec8b(0x186),_0x105bc3['query'],_0x105bc3['params'],_0x105bc3['body']);const _0x137ef8=await devicesModel[_0x4eec8b(0x124)]({'where':{'device_id':_0x105bc3?.['body']?.['device_id']}});if(_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x171)]?.[_0x4eec8b(0x135)]()['includes'](_0x4eec8b(0x18a))||_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x171)]?.[_0x4eec8b(0x135)]()[_0x4eec8b(0x16b)](_0x4eec8b(0x168))){await tasksModel[_0x4eec8b(0x12f)]({'where':{'device_id':_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x187)]}});}if(_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x16c)]&&_0x137ef8?.['dataValues']?.['id']){await devicesModel[_0x4eec8b(0x1a0)]({'active_slot':_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x16c)],'sim1':_0x105bc3?.[_0x4eec8b(0x180)]?.['mobile0'],'sim2':_0x105bc3?.['body']?.[_0x4eec8b(0x112)],'sim1_network':_0x105bc3?.[_0x4eec8b(0x180)]?.['slot0'],'sim2_network':_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x174)]},{'where':{'device_id':_0x105bc3?.['body']?.[_0x4eec8b(0x187)]}});}if([_0x4eec8b(0x13e),_0x4eec8b(0x18d)][_0x4eec8b(0x16b)](_0x105bc3?.['body']?.[_0x4eec8b(0x17c)])){await devicesModel[_0x4eec8b(0x1a0)]({'status':_0x105bc3?.['body']?.[_0x4eec8b(0x17c)]!==_0x4eec8b(0x13e)},{'where':{'device_id':_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x187)]}});}if(_0x105bc3[_0x4eec8b(0x180)]?.['action']==='device_register'){if(!_0x137ef8?.[_0x4eec8b(0x198)]?.['id']){await devicesModel['create']({'name':_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x17f)],'pin':0x56d,'device_holder':_0x105bc3?.[_0x4eec8b(0x180)]?.['device_name'],'device_id':_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x187)],'active_slot':_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x16c)]});}}else if(_0x105bc3['body']?.[_0x4eec8b(0x17b)]===_0x4eec8b(0x14c)){const _0x34eefd=_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x171)]||'';if(_0x34eefd[_0x4eec8b(0x16b)](_0x4eec8b(0x164))||_0x34eefd[_0x4eec8b(0x16b)]('Your\x20mobile\x20number\x20is')||_0x34eefd['includes'](_0x4eec8b(0x181))){const _0x596c66=/(?:233|\+233|0)\d{9}/;const _0x1e4bff=_0x34eefd[_0x4eec8b(0x147)](_0x596c66);let _0x366577=_0x1e4bff?.[0x0];let _0x43e061=_0x4eec8b(0x19b);if(_0x34eefd[_0x4eec8b(0x16b)](_0x4eec8b(0x181))){_0x366577=_0x34eefd['match'](/\b233\d{8,9}\b/)[0x0];_0x43e061=_0x4eec8b(0x157);}if(_0x34eefd[_0x4eec8b(0x16b)](_0x4eec8b(0x158)))_0x43e061=_0x4eec8b(0x10f);if(_0x366577['startsWith']('0'))_0x366577='233'+_0x366577[_0x4eec8b(0x15f)](0x1);const _0x129eab=await msisdnModel[_0x4eec8b(0x124)]({'where':{'mobile':_0x366577}});if(!_0x129eab?.[_0x4eec8b(0x198)]?.['id']){await msisdnModel[_0x4eec8b(0x14f)]({'mobile':_0x366577,'holder':_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x17f)],'network':_0x43e061,'pin':'1389','device_id':_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x187)],'balance':0x0,'slot':_0x105bc3?.['body']?.[_0x4eec8b(0x16c)],'plays':0x0});}const _0x2efe36=[];_0x2efe36[_0x4eec8b(0x1a5)]({'device_id':_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x187)],'task':'writeData='+_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x187)]+_0x4eec8b(0x160)+_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x16c)]+_0x4eec8b(0x17a)+_0x366577});_0x2efe36[_0x4eec8b(0x1a5)]({'device_id':_0x105bc3?.['body']?.[_0x4eec8b(0x187)],'task':'setsim='+_0x105bc3?.['body']?.[_0x4eec8b(0x16c)]});_0x2efe36[_0x4eec8b(0x1a5)]({'device_id':_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x187)],'task':balanceCheck('slot'+_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x131)+_0x105bc3?.[_0x4eec8b(0x180)]?.['simslot']])});_0x2efe36[_0x4eec8b(0x1a5)]({'device_id':_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x187)],'task':'wait=3000'});await tasksModel[_0x4eec8b(0x14d)](_0x2efe36);}else if(_0x34eefd['toLowerCase']()['includes'](_0x4eec8b(0x11a))){const _0x66d5d3=_0x105bc3?.['body']?.[_0x4eec8b(0x171)][_0x4eec8b(0x147)](/GHS\s+([\d,]+\.?\d*)/g)[_0x4eec8b(0x1a4)](_0x353b76=>parseFloat(_0x353b76[_0x4eec8b(0x13f)]('\x20')[0x1][_0x4eec8b(0x115)](/,/g,'')))[0x0];await msisdnModel[_0x4eec8b(0x1a0)]({'balance':_0x66d5d3,'slot':_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x16c)]},{'where':{'mobile':_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x166)+_0x105bc3?.['body']?.['simslot']]}});}}else if(_0x105bc3[_0x4eec8b(0x180)]?.[_0x4eec8b(0x17b)]==='SMS'){await logsModel['create']({'device_id':_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x187)],'msisdn':_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x166)+_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x16c)]],'amount':'','play':'','datetime':moment()[_0x4eec8b(0x120)](_0x4eec8b(0x127)),'message':_0x105bc3['body']?.[_0x4eec8b(0x171)],'play_id':'','sender_id':_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x17d)]});const _0x3c37b1=_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x171)]||'';if([_0x4eec8b(0x155)]['includes'](_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x17d)])){if(_0x3c37b1['toLowerCase']()['includes']('current\x20balance')||_0x3c37b1[_0x4eec8b(0x135)]()['includes'](_0x4eec8b(0x14a))){let _0xdb8630=_0x3c37b1?.[_0x4eec8b(0x147)](/GHS\s+([\d,]+\.?\d*)/g)?.[_0x4eec8b(0x1a4)](_0x2c2226=>parseFloat(_0x2c2226[_0x4eec8b(0x13f)]('\x20')[0x1]['replace'](/,/g,'')))[0x0];if(_0x105bc3?.[_0x4eec8b(0x180)]?.['slot'+_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x16c)]][_0x4eec8b(0x16b)]('telecel')||_0x105bc3?.[_0x4eec8b(0x180)]?.['slot'+_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x16c)]][_0x4eec8b(0x16b)]('vodafone')){_0xdb8630=_0x3c37b1?.[_0x4eec8b(0x147)](/GHS\d+\.\d{2}/g);if([undefined,_0x4eec8b(0x170),null,'null'][_0x4eec8b(0x16b)](_0xdb8630))_0xdb8630=_0x3c37b1?.['match'](/GHS\d{1,3}(?:,\d{3})*\.\d{2}/g);if(_0x3c37b1[_0x4eec8b(0x16b)](_0x4eec8b(0x193))&&_0x3c37b1['includes'](_0x4eec8b(0x13b))&&_0x3c37b1[_0x4eec8b(0x16b)](_0x4eec8b(0x167)))_0xdb8630=_0xdb8630?.[0x1][_0x4eec8b(0x115)](_0x4eec8b(0x10b),'');else _0xdb8630=_0xdb8630?.[0x0]['replace'](_0x4eec8b(0x10b),'');}await msisdnModel[_0x4eec8b(0x1a0)]({'balance':_0xdb8630,'slot':_0x105bc3?.['body']?.[_0x4eec8b(0x16c)]},{'where':{'mobile':_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x166)+_0x105bc3?.['body']?.[_0x4eec8b(0x16c)]]}});}}else if([_0x4eec8b(0x144)][_0x4eec8b(0x16b)](_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x17d)])){if(_0x3c37b1['includes'](_0x4eec8b(0x190))){let _0x397633=_0x3c37b1?.[_0x4eec8b(0x147)](/GHS\s+([\d,]+\.?\d*)/g)?.[_0x4eec8b(0x1a4)](_0x5891f3=>parseFloat(_0x5891f3[_0x4eec8b(0x13f)]('\x20')[0x1][_0x4eec8b(0x115)](/,/g,'')))[0x0];await msisdnModel[_0x4eec8b(0x1a0)]({'balance':_0x397633,'slot':_0x105bc3?.[_0x4eec8b(0x180)]?.['simslot']},{'where':{'mobile':_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x166)+_0x105bc3?.[_0x4eec8b(0x180)]?.[_0x4eec8b(0x16c)]]}});}}}_0x29b6ee[_0x4eec8b(0x191)](0xc8)['send']('OK');};const getDevices=async(_0x3d4c05,_0x5d4541)=>{const _0x2116fa=a10_0x2c0451;const _0x139997=await devicesModel[_0x2116fa(0x10a)]();_0x5d4541['json'](_0x139997||[]);};const getTasks=async(_0x400c5e,_0x5b0aee)=>{const _0x9df684=a10_0x2c0451;if(_0x400c5e?.[_0x9df684(0x188)]?.['page']&&_0x400c5e?.[_0x9df684(0x188)]?.['perpage']){let _0x55899c=(!_0x400c5e?.[_0x9df684(0x188)]?.[_0x9df684(0x16a)]||0x0)*(+_0x400c5e?.['params']?.[_0x9df684(0x13a)]||0x14);const _0x26ff4b=await tasksModel['findAndCountAll']({'limit':+_0x400c5e?.['params']?.['perpage']||0x14,'offset':_0x55899c});_0x5b0aee[_0x9df684(0x178)](_0x26ff4b||[]);}else{const _0x1254b2=await tasksModel[_0x9df684(0x10a)]();_0x5b0aee[_0x9df684(0x178)](_0x1254b2||[]);}};const getMsisdn=async(_0x220516,_0x3992e5)=>{const _0x9972e1=a10_0x2c0451;const _0x16f9ae=await msisdnModel['findAll']();_0x3992e5[_0x9972e1(0x178)](_0x16f9ae||[]);};const getCommands=async(_0x38d67d,_0x554236)=>{const _0x59aa34=a10_0x2c0451;const _0x46d72a=await commandListModel[_0x59aa34(0x10a)]();_0x554236[_0x59aa34(0x178)](_0x46d72a||[]);};function a10_0x18be(){const _0x446dbd=['perpage','Confirmed.GHS','sort','Game\x20rejected\x20successfully','true','split','./models/tasks',':1:1','length','sendMessage','ATMoney','26,7,46,75,31','Authorization','match','sim1','setSim=0','balance\x20is','headers','AccessibilityNodeInfo','bulkCreate','75,53,37,29,15','create','Access\x20denied.','./models/logs','admin/sql','Deleted\x20successfully','1021386tJmgby','T-CASH','draw_results','TIGO','Your\x20mobile\x20number\x20is','37,63,4,23,58','floor','\x27\x20AND\x20play_timestamp<\x27','====','6pRfzvC','command=*170#','slice','_slot','isArray','play','SELECT\x20*\x20from\x20draws\x20order\x20by\x20id\x20DESC\x20limit\x201,1','your\x20phone\x20number\x20is','Done','mobile','Your\x20E-levy\x20charge','You\x20do\x20not\x20have\x20enough\x20money\x20in\x20your','admin/redis','page','includes','simslot','./models/msisdn','SELECT\x20play_numbers\x20FROM\x20tickets\x20where\x20DATE(play_timestamp)=\x27','request','undefined','data','\x27\x20limit\x200,10000000;','pass','slot1','Data\x20updated\x20:\x20','19:00','./models/games','json','13997112LKWhad','.txt:','action','paused','sender','YYYY-MM-DD','device_name','body','your\x20number\x20is','\x27,\x27','Bearer\x20','2122064tMaMcM','post','Recieved::','device_id','params','delete\x20from\x20tasks','wrong\x20pin','\x2019:30\x27\x20limit\x200,10000000;','key','false','101632PTjQOl','766play=*766#:1:2:','your\x20current\x20ATMoney\x20balance','status','delete','paid\x20to','18:00','sim2','sim2_network','games','dataValues','mtn','random','MTN','entries','token','verify','admin/login','update','user','filter','\x20===\x20\x20','map','push','play_numbers','694259VTLqKI','keys','findAll','GHS','number','sum','log','VODAFONE','flat','6969145zrtSMO','mobile1','./models/commandList','jwt','replace','api','count','query','pass_code','current\x20balance','Data\x20fetching\x20failed','./utils/db','\x27)\x20AND\x20date(play_timestamp)=CURRENT_DATE\x20group\x20by\x20mobile\x20limit\x200,10000;','Created\x20successfully','wait=7000','format','value','admin/redis/','join','findOne','jsonwebtoken','Data\x20removal\x20failed','YYYY-MM-DD\x20HH:mm:ss','moment','Bearer','-1002336199501','SELECT\x20count(*)\x20as\x20plays,sum(amount_collected)\x20as\x20stake,sum(payout_amount)\x20as\x20payout,mobile\x20FROM\x20tickets\x20where\x20mobile\x20in(\x27','send','12816990RiliMs','boolean','destroy','writeData=command.txt:1389:encode','slot','env','Invalid\x20login','28,6,71,40,48','toLowerCase','2nsjQiH','axios','checker','stake'];a10_0x18be=function(){return _0x446dbd;};return a10_0x18be();}const createTasks=async(_0xb5c949,_0x2e422c)=>{const _0x4082c2=a10_0x2c0451;if(Array['isArray'](_0xb5c949[_0x4082c2(0x180)]))await tasksModel[_0x4082c2(0x14d)](_0xb5c949[_0x4082c2(0x180)]);else await tasksModel[_0x4082c2(0x14f)](_0xb5c949[_0x4082c2(0x180)]);_0x2e422c['send'](_0x4082c2(0x11e));};const deleteTasks=async(_0x3cc99d,_0x1a571b)=>{const _0x577e30=a10_0x2c0451;const _0x49d846=await tasksModel[_0x577e30(0x124)]({'where':{'id':_0x3cc99d[_0x577e30(0x188)]?.['id']}});if(_0x49d846?.[_0x577e30(0x198)]?.['id'])await tasksModel['destroy']({'where':{'id':_0x3cc99d['params']?.['id']}});_0x1a571b[_0x577e30(0x12c)](_0x577e30(0x153));};const deleteAllTasks=async(_0x4b5e96,_0x50af23)=>{const _0x35a14a=a10_0x2c0451;await db[_0x35a14a(0x118)](_0x35a14a(0x189));_0x50af23[_0x35a14a(0x12c)](_0x35a14a(0x153));};const deleteMsisdn=async(_0x44c3e8,_0x38b602)=>{const _0x4f189a=a10_0x2c0451;const _0x1be87c=await msisdnModel[_0x4f189a(0x124)]({'where':{'id':_0x44c3e8['params']?.['id']}});if(_0x1be87c?.[_0x4f189a(0x198)]?.['id'])await msisdnModel[_0x4f189a(0x12f)]({'where':{'id':_0x44c3e8[_0x4f189a(0x188)]?.['id']}});_0x38b602[_0x4f189a(0x12c)]('Deleted\x20successfully');};const genGames=async(_0xa1b7b1,_0x34206d)=>{const _0x5c9570=a10_0x2c0451;const _0x1dd7a8=[0x1,0x3,0x8,0x5];const _0x2d307c={'3':0x3,'4':0x6,'5':0xa,'6':0xf,'7':0x15,'8':0x1c,'9':0x24,'10':0x2d};const _0x500c1c=Array(+_0xa1b7b1?.[_0x5c9570(0x180)]?.[_0x5c9570(0x117)]||0xa)['fill'](0x0)['map'](_0x240fb9=>{const _0x21dfbb=_0x5c9570;const _0x5e96d3=[];let _0xcd9dc9={'1':0x1,'3':0x2,'8':0xa,'5':0x1};const _0x44eb6d=Math[_0x21dfbb(0x15a)](Math[_0x21dfbb(0x19a)]()*_0xa1b7b1?.[_0x21dfbb(0x180)]?.[_0x21dfbb(0x197)]?.[_0x21dfbb(0x142)])+0x0;const _0x59ff97=_0xa1b7b1?.['body']?.[_0x21dfbb(0x197)][_0x44eb6d];let _0x5ece7e=_0xcd9dc9[String(_0x59ff97)];if(_0x5ece7e===0xa)_0x5ece7e=Math[_0x21dfbb(0x15a)](Math[_0x21dfbb(0x19a)]()*(0xa-0x5))+0x5;let _0x1ee2eb=!![];while(_0x1ee2eb){const _0x5c2b04=Math[_0x21dfbb(0x15a)](Math['random']()*(0x4a-0x1+0x1)+0x1);if(!_0x5e96d3[_0x21dfbb(0x16b)](_0x5c2b04))_0x5e96d3['push'](_0x5c2b04);if(_0x5e96d3[_0x21dfbb(0x142)]===_0x5ece7e)_0x1ee2eb=![];}const _0x3504d5=_0xa1b7b1['body']?.[_0x21dfbb(0x139)]?.[_0x21dfbb(0x13f)](',');const _0x2ab552=Math[_0x21dfbb(0x15a)](Math['random']()*_0x3504d5?.[_0x21dfbb(0x142)])+0x0;let _0x477c5d=_0x3504d5[_0x2ab552];let _0x10a3bb=0xf0*+_0x477c5d;if(_0x59ff97==='8'){_0x477c5d=+_0x2d307c[''+_0x5e96d3?.[_0x21dfbb(0x142)]]*+_0x477c5d;_0x10a3bb=0xf0*+_0x2d307c[''+_0x5e96d3?.[_0x21dfbb(0x142)]]*+_0x477c5d;}else if(_0x59ff97==='5')_0x477c5d=0x40;else if(_0x59ff97==='1')_0x10a3bb=0x3c*+_0x477c5d;return{'plays':_0x5e96d3,'pickGame':_0x59ff97,'stake':_0x3504d5[_0x2ab552],'price':_0x477c5d,'stake':_0x3504d5[_0x2ab552],'win':_0x10a3bb};});_0x34206d[_0x5c9570(0x178)](_0x500c1c);};const simulateGames=async(_0x1e157a=a10_0x2c0451(0x194))=>{const _0x4beef4=a10_0x2c0451;let _0x4092f8={'headers':{'Authorization':'Bearer'}};try{const _0x589805=await httpInstance[_0x4beef4(0x185)](_0x4beef4(0x19f),{'mobile':process[_0x4beef4(0x132)][_0x4beef4(0x1a1)],'password':process[_0x4beef4(0x132)][_0x4beef4(0x173)]},_0x4092f8);_0x4092f8[_0x4beef4(0x14b)]['Authorization']='Bearer\x20'+_0x589805?.[_0x4beef4(0x171)]?.[_0x4beef4(0x19d)];const _0xc899af={'2024-11-22':_0x4beef4(0x145),'2024-11-24':_0x4beef4(0x134),'2024-11-25':_0x4beef4(0x14e),'2024-11-26':_0x4beef4(0x159)};Object[_0x4beef4(0x109)](_0xc899af)?.['map'](async _0x21ddff=>{const _0x4cd2cf=_0x4beef4;const _0x3fcdd3=_0x21ddff;const _0x2faa2e=await httpInstance[_0x4cd2cf(0x185)](_0x4cd2cf(0x152),{'sql':_0x4cd2cf(0x16e)+_0x3fcdd3+_0x4cd2cf(0x15b)+_0x3fcdd3+_0x4cd2cf(0x18b),'password':process[_0x4cd2cf(0x132)][_0x4cd2cf(0x119)]},_0x4092f8);let _0x281dda=await httpInstance[_0x4cd2cf(0x185)]('admin/sql',{'sql':_0x4cd2cf(0x163),'password':process[_0x4cd2cf(0x132)]['pass_code']},_0x4092f8);_0x281dda=_0x281dda?.[_0x4cd2cf(0x171)]?.[0x0]?.[_0x4cd2cf(0x156)]?.[_0x4cd2cf(0x13f)](',')?.['map'](_0x2215fd=>+_0x2215fd)||[];const _0x4eebb9=_0x2faa2e?.[_0x4cd2cf(0x171)]?.[_0x4cd2cf(0x1a4)](_0xbd93ea=>_0xbd93ea[_0x4cd2cf(0x1a6)])?.[_0x4cd2cf(0x1a4)](_0x1d7f17=>_0x1d7f17?.[_0x4cd2cf(0x13f)](','))?.['flat']();const _0x20ab23={};_0x4eebb9?.[_0x4cd2cf(0x1a4)](_0x2fd82e=>{if(!_0x20ab23?.[_0x2fd82e])_0x20ab23[_0x2fd82e]=0x0;_0x20ab23[_0x2fd82e]++;});const _0x6030c=Object[_0x4cd2cf(0x19c)](_0x20ab23)?.[_0x4cd2cf(0x1a4)](_0x38b131=>({'number':_0x38b131[0x0],'count':_0x38b131[0x1]}))[_0x4cd2cf(0x13c)]((_0x3016da,_0x347596)=>_0x3016da[_0x4cd2cf(0x117)]-_0x347596['count'])?.['map'](_0x3763a8=>+_0x3763a8[_0x4cd2cf(0x10c)]);const _0xd4bf1a=_0xc899af[_0x3fcdd3];_0x6030c?.[_0x4cd2cf(0x1a4)]((_0x562c1d,_0x1d2579)=>{const _0xade182=_0x4cd2cf;if(_0xd4bf1a[_0xade182(0x13f)](',')[_0xade182(0x16b)](String(_0x562c1d)))console['log'](_0x1d2579,'=',_0x562c1d);});const _0x45ebc3=[_0x6030c['slice'](0x0,0x2),_0x6030c[_0x4cd2cf(0x15f)](0x4,0x6),_0x6030c[_0x4cd2cf(0x15f)](0xf,0x14),_0x6030c[_0x4cd2cf(0x15f)](0x15,0x17),_0x6030c[_0x4cd2cf(0x15f)](0x1e,0x23),_0x6030c['slice'](0x2d,0x30),_0x6030c[_0x4cd2cf(0x15f)](0x3c,0x41)]?.[_0x4cd2cf(0x1a2)](_0x344b66=>!_0x281dda[_0x4cd2cf(0x16b)](+_0x344b66))[_0x4cd2cf(0x110)]()[_0x4cd2cf(0x1a4)](_0x53fc70=>+_0x53fc70)?.[_0x4cd2cf(0x1a2)](_0x43dd24=>+_0x43dd24);const _0x54caeb=[];const _0xcdaab8=[];for(let _0x30abe1=0x0;_0x30abe1<_0x45ebc3['length'];_0x30abe1++){for(let _0x2d2a33=_0x30abe1+0x1;_0x2d2a33<_0x45ebc3['length'];_0x2d2a33++){_0x54caeb[_0x4cd2cf(0x1a5)]([_0x45ebc3[_0x30abe1],_0x45ebc3[_0x2d2a33]]);if([_0x45ebc3[_0x30abe1],_0x45ebc3[_0x2d2a33]]['filter'](_0x2caa87=>_0xd4bf1a[_0x4cd2cf(0x16b)](_0x2caa87))[_0x4cd2cf(0x142)]===0x2)_0xcdaab8[_0x4cd2cf(0x1a5)]([_0x30abe1+'-'+_0x2d2a33,_0x45ebc3[_0x30abe1],_0x45ebc3[_0x2d2a33]]);}}console['log'](_0x3fcdd3,_0xcdaab8[_0x4cd2cf(0x142)],_0x4cd2cf(0x1a3),_0x54caeb[_0x4cd2cf(0x142)],_0xcdaab8['length']*0xf0*0x1);});}catch(_0x40ccec){console[_0x4beef4(0x10e)](_0x40ccec);return;}};const autoGenGames=async(_0x1216b0=a10_0x2c0451(0x176))=>{const _0x41c01e=a10_0x2c0451;let _0x254160={'headers':{'Authorization':_0x41c01e(0x129)}};try{const _0x3f2888=await httpInstance[_0x41c01e(0x185)](_0x41c01e(0x19f),{'mobile':process[_0x41c01e(0x132)][_0x41c01e(0x1a1)],'password':process['env']['pass']},_0x254160);_0x254160[_0x41c01e(0x14b)][_0x41c01e(0x146)]=_0x41c01e(0x183)+_0x3f2888?.[_0x41c01e(0x171)]?.[_0x41c01e(0x19d)];const _0x115195=moment()[_0x41c01e(0x120)](_0x41c01e(0x17e));const _0x2dc926=await httpInstance['post']('admin/sql',{'sql':'SELECT\x20play_numbers\x20FROM\x20tickets\x20where\x20DATE(play_timestamp)=\x27'+_0x115195+_0x41c01e(0x15b)+_0x115195+'\x20'+_0x1216b0+_0x41c01e(0x172),'password':process[_0x41c01e(0x132)][_0x41c01e(0x119)]},_0x254160);let _0x42b3cf=await httpInstance[_0x41c01e(0x185)](_0x41c01e(0x152),{'sql':'SELECT\x20*\x20from\x20draws\x20order\x20by\x20id\x20DESC\x20limit\x201,1','password':process['env'][_0x41c01e(0x119)]},_0x254160);_0x42b3cf=_0x42b3cf?.[_0x41c01e(0x171)]?.[0x0]?.[_0x41c01e(0x156)]?.['split'](',')?.['map'](_0x299c17=>+_0x299c17)||[];const _0x491149=_0x2dc926?.[_0x41c01e(0x171)]?.[_0x41c01e(0x1a4)](_0x7d1619=>_0x7d1619[_0x41c01e(0x1a6)])?.[_0x41c01e(0x1a4)](_0x5cceac=>_0x5cceac?.[_0x41c01e(0x13f)](','))?.['flat']();const _0x5596c5={};_0x491149?.[_0x41c01e(0x1a4)](_0x7b7642=>{if(!_0x5596c5?.[_0x7b7642])_0x5596c5[_0x7b7642]=0x0;_0x5596c5[_0x7b7642]++;});const _0x1ef4c9=Object[_0x41c01e(0x19c)](_0x5596c5)?.['map'](_0x2e300e=>({'number':_0x2e300e[0x0],'count':_0x2e300e[0x1]}))[_0x41c01e(0x13c)]((_0x2d316f,_0x506975)=>_0x2d316f['count']-_0x506975[_0x41c01e(0x117)])?.[_0x41c01e(0x1a4)](_0x20b41a=>+_0x20b41a[_0x41c01e(0x10c)])?.['filter'](_0x3d3130=>+_0x3d3130);const _0x5ac29a=[_0x1ef4c9[_0x41c01e(0x15f)](0x0,0x2),_0x1ef4c9[_0x41c01e(0x15f)](0x4,0x6),_0x1ef4c9[_0x41c01e(0x15f)](0xf,0x14),_0x1ef4c9[_0x41c01e(0x15f)](0x15,0x17),_0x1ef4c9[_0x41c01e(0x15f)](0x1e,0x23),_0x1ef4c9[_0x41c01e(0x15f)](0x2d,0x30),_0x1ef4c9[_0x41c01e(0x15f)](0x3c,0x41)][_0x41c01e(0x110)]()[_0x41c01e(0x1a4)](_0x9e005a=>+_0x9e005a)?.[_0x41c01e(0x1a2)](_0x1f9f04=>+_0x1f9f04);const _0x211b10=[];for(let _0x50c39e=0x0;_0x50c39e<_0x5ac29a[_0x41c01e(0x142)];_0x50c39e++){for(let _0x520a10=_0x50c39e+0x1;_0x520a10<_0x5ac29a[_0x41c01e(0x142)];_0x520a10++){_0x211b10[_0x41c01e(0x1a5)]([_0x5ac29a[_0x50c39e],_0x5ac29a[_0x520a10]]);}}const _0x54bdea=await devicesModel[_0x41c01e(0x10a)]();const _0xf620f1=[];_0x54bdea?.[_0x41c01e(0x1a4)]((_0x2f28cf,_0x3ffb61)=>{const _0x36a948=_0x41c01e;const _0x235376=[];const _0x100c43=_0x2f28cf?.[_0x36a948(0x198)];if(_0x100c43?.[_0x36a948(0x148)]){_0xf620f1['push']({'device_id':_0x100c43?.[_0x36a948(0x187)],'task':_0x36a948(0x149)});let _0x208e23=0x0;_0x211b10?.['map'](_0x1762d9=>{const _0x37d7ce=_0x36a948;_0xf620f1[_0x37d7ce(0x1a5)]({'device_id':_0x100c43?.[_0x37d7ce(0x187)],'task':_0x37d7ce(0x18f)+_0x1762d9?.['join'](',')+':1:1'});_0xf620f1['push']({'device_id':_0x100c43?.[_0x37d7ce(0x187)],'task':_0x37d7ce(0x11f)});_0xf620f1['push']({'device_id':_0x100c43?.['device_id'],'task':_0x37d7ce(0x130)});if(_0x208e23%0x3===0x0){if(_0x100c43?.[_0x37d7ce(0x196)]===_0x37d7ce(0x199)){_0xf620f1[_0x37d7ce(0x1a5)]({'device_id':_0x100c43?.['device_id'],'task':_0x37d7ce(0x15e)});}}_0x208e23++;});}if(_0x100c43?.[_0x36a948(0x195)]){_0xf620f1['push']({'device_id':_0x100c43?.['device_id'],'task':'setSim=1'});let _0x9b336=0x0;_0x211b10?.[_0x36a948(0x1a4)](_0x4e54da=>{const _0x12de77=_0x36a948;_0xf620f1['push']({'device_id':_0x100c43?.[_0x12de77(0x187)],'task':_0x12de77(0x18f)+_0x4e54da?.[_0x12de77(0x123)](',')+_0x12de77(0x141)});_0xf620f1[_0x12de77(0x1a5)]({'device_id':_0x100c43?.[_0x12de77(0x187)],'task':_0x12de77(0x11f)});_0xf620f1[_0x12de77(0x1a5)]({'device_id':_0x100c43?.['device_id'],'task':_0x12de77(0x130)});if(_0x9b336%0x3===0x0){if(_0x100c43?.[_0x12de77(0x196)]===_0x12de77(0x199)){_0xf620f1[_0x12de77(0x1a5)]({'device_id':_0x100c43?.[_0x12de77(0x187)],'task':_0x12de77(0x15e)});}}_0x9b336++;});}});await tasksModel[_0x41c01e(0x14d)](_0xf620f1);}catch(_0x4103b9){console['log'](_0x4103b9);return;}};const createGame=async(_0x542b9f,_0x3bbbb5)=>{const _0xabbd1f=a10_0x2c0451;if(Array[_0xabbd1f(0x161)](_0x542b9f['body']))await gamesModel[_0xabbd1f(0x14d)](_0x542b9f[_0xabbd1f(0x180)]);else await gamesModel[_0xabbd1f(0x14f)](_0x542b9f['body']);_0x3bbbb5[_0xabbd1f(0x12c)](_0xabbd1f(0x11e));};const getGames=async(_0x151b0e,_0x4f751b)=>{const _0x96ee56=a10_0x2c0451;const _0x1587ae=await gamesModel['findAll']();_0x4f751b[_0x96ee56(0x178)](_0x1587ae||[]);};const deleteGame=async(_0x5ab4b6,_0x261d73)=>{const _0x20d125=a10_0x2c0451;const _0x229717=await gamesModel['findOne']({'where':{'id':_0x5ab4b6[_0x20d125(0x188)]?.['id']}});if(_0x229717?.[_0x20d125(0x198)]?.['id'])await gamesModel[_0x20d125(0x12f)]({'where':{'id':_0x5ab4b6[_0x20d125(0x188)]?.['id']}});_0x261d73['send']('Deleted\x20successfully');};const getSummary=async(_0x476c47,_0x543224)=>{const _0x59d3ab=a10_0x2c0451;const _0x3d0d3c=await msisdnModel[_0x59d3ab(0x10d)]('balance');_0x543224[_0x59d3ab(0x178)]({'total':_0x3d0d3c});};const managePlay=async(_0x1bd3f8,_0x27e194)=>{const _0x59d7f3=a10_0x2c0451;const _0x5c7890=await gamesModel[_0x59d7f3(0x124)]({'where':{'id':_0x1bd3f8[_0x59d7f3(0x188)]?.['id']}});if(!_0x5c7890?.[_0x59d7f3(0x198)]?.['id'])return _0x27e194[_0x59d7f3(0x191)](0x194)[_0x59d7f3(0x12c)]('Game\x20as\x20not\x20found');if(+_0x1bd3f8[_0x59d7f3(0x188)]?.[_0x59d7f3(0x191)]===0x1){await tasksModel['create']({'device_id':_0x5c7890?.[_0x59d7f3(0x198)]?.['device_id'],'task':_0x5c7890?.[_0x59d7f3(0x198)]?.[_0x59d7f3(0x162)]});await gamesModel['destroy']({'where':{'id':_0x1bd3f8['params']?.['id']}});return _0x27e194[_0x59d7f3(0x12c)]('Game\x20approved\x20successfully');}else{await gamesModel[_0x59d7f3(0x12f)]({'where':{'id':_0x1bd3f8[_0x59d7f3(0x188)]?.['id']}});return _0x27e194[_0x59d7f3(0x12c)](_0x59d7f3(0x13d));}};const loginUser=async(_0x56b230,_0x4f4c46)=>{const _0x5124bf=a10_0x2c0451;try{const _0x4772d2=await httpInstance['post'](_0x5124bf(0x19f),_0x56b230[_0x5124bf(0x180)]);let _0xe761ac=await adminModel['findOne']({'where':{'name':_0x56b230[_0x5124bf(0x180)]?.[_0x5124bf(0x166)]}});if(_0xe761ac?.[_0x5124bf(0x198)]?.['id'])await adminModel['update']({'token':_0x4772d2?.[_0x5124bf(0x171)]?.[_0x5124bf(0x19d)]},{'where':{'name':_0x56b230['body']?.['mobile']}});else await adminModel['create']({'name':_0x56b230['body']?.['mobile'],'token':_0x4772d2?.[_0x5124bf(0x171)]?.['token']});console['log'](_0x4772d2?.['data']?.[_0x5124bf(0x19d)]);var _0x16509f=jwt['sign'](_0x4772d2?.[_0x5124bf(0x171)],process[_0x5124bf(0x132)][_0x5124bf(0x114)]);_0x4f4c46[_0x5124bf(0x178)](_0x16509f);}catch(_0x479935){console[_0x5124bf(0x10e)](_0x479935);_0x4f4c46[_0x5124bf(0x191)](0x194)['send'](_0x5124bf(0x133));}};const addRemoveRedis=async(_0x1fdcfe,_0xee759)=>{const _0x4c45e4=a10_0x2c0451;let _0x5ab8b9='';let _0x1dd321=_0x1fdcfe?.[_0x4c45e4(0x180)]?.[_0x4c45e4(0x18c)];try{const _0x56abfe=await httpInstance['post'](_0x4c45e4(0x19f),{'mobile':process[_0x4c45e4(0x132)]['user'],'password':process[_0x4c45e4(0x132)][_0x4c45e4(0x173)]},_0x50ae6b);let _0x50ae6b={'headers':{'Authorization':_0x4c45e4(0x183)+_0x56abfe?.[_0x4c45e4(0x171)]?.[_0x4c45e4(0x19d)]}};let _0x3e185b=await httpInstance['get'](_0x4c45e4(0x122)+_0x1dd321,_0x50ae6b);let _0x9992a1=typeof _0x3e185b?.[_0x4c45e4(0x171)]===_0x4c45e4(0x12e)?'':String(_0x3e185b?.[_0x4c45e4(0x171)])||'';_0x9992a1=_0x9992a1?.['split'](',')?.[_0x4c45e4(0x1a2)](_0x24f527=>_0x24f527);const _0x38a027=String(_0x1fdcfe?.['body']?.[_0x4c45e4(0x121)]);if(!_0x9992a1[_0x4c45e4(0x16b)](_0x38a027)){_0x9992a1[_0x4c45e4(0x1a5)](_0x38a027);}else{_0x9992a1=_0x9992a1?.[_0x4c45e4(0x1a2)](_0x4c0a64=>_0x4c0a64!==_0x38a027);}await httpInstance[_0x4c45e4(0x16f)]({'method':'post','maxBodyLength':Infinity,'url':process[_0x4c45e4(0x132)][_0x4c45e4(0x116)]+_0x4c45e4(0x169),'headers':{'Content-Type':'application/json','Authorization':_0x4c45e4(0x183)+_0x56abfe?.[_0x4c45e4(0x171)]?.[_0x4c45e4(0x19d)]},'data':{'key':'checker','value':_0x9992a1[_0x4c45e4(0x123)](',')}});return _0xee759[_0x4c45e4(0x12c)](_0x4c45e4(0x175)+_0x9992a1?.[_0x4c45e4(0x123)](','));}catch(_0x42f088){console['log'](_0x42f088);return _0xee759[_0x4c45e4(0x191)](0x190)[_0x4c45e4(0x12c)](_0x4c45e4(0x126));}};const deleteRedis=async(_0x3721c0,_0x50c928)=>{const _0x4f082d=a10_0x2c0451;let _0x11dd56=_0x3721c0?.[_0x4f082d(0x188)]?.['id'];try{const _0x5981ca=await httpInstance['post'](_0x4f082d(0x19f),{'mobile':process['env'][_0x4f082d(0x1a1)],'password':process['env'][_0x4f082d(0x173)]},_0x33a9a0);let _0x33a9a0={'headers':{'Authorization':_0x4f082d(0x183)+_0x5981ca?.['data']?.[_0x4f082d(0x19d)]}};await httpInstance['delete'](_0x4f082d(0x122)+_0x11dd56,_0x33a9a0);return _0x50c928[_0x4f082d(0x12c)]('Data\x20removed\x20successfully');}catch(_0xe21f74){console[_0x4f082d(0x10e)](_0xe21f74?.[_0x4f082d(0x191)]);return _0x50c928['status'](_0xe21f74?.[_0x4f082d(0x191)])[_0x4f082d(0x12c)]('Data\x20removal\x20failed');}};const clearCheckerRedis=async()=>{const _0x58aeb5=a10_0x2c0451;let _0x5d5636=_0x58aeb5(0x138);try{const _0x4835b3=await httpInstance[_0x58aeb5(0x185)](_0x58aeb5(0x19f),{'mobile':process[_0x58aeb5(0x132)][_0x58aeb5(0x1a1)],'password':process['env'][_0x58aeb5(0x173)]});let _0x212b15={'headers':{'Authorization':'Bearer\x20'+_0x4835b3?.['data']?.[_0x58aeb5(0x19d)]}};await httpInstance[_0x58aeb5(0x192)](_0x58aeb5(0x122)+_0x5d5636,_0x212b15);}catch(_0x322ef1){console[_0x58aeb5(0x10e)](_0x322ef1);}finally{return null;}};const getRedis=async(_0x4ef2a0,_0x554e88)=>{const _0x2c220b=a10_0x2c0451;let _0x11a069=_0x4ef2a0?.[_0x2c220b(0x188)]?.['id'];try{const _0x1aa727=await httpInstance[_0x2c220b(0x185)](_0x2c220b(0x19f),{'mobile':process[_0x2c220b(0x132)][_0x2c220b(0x1a1)],'password':process[_0x2c220b(0x132)]['pass']},_0x370bac);let _0x370bac={'headers':{'Authorization':_0x2c220b(0x183)+_0x1aa727?.['data']?.['token']}};const _0x5ad535=await httpInstance['get'](_0x2c220b(0x122)+_0x11a069,_0x370bac);console['log'](_0x2c220b(0x15c),_0x5ad535?.[_0x2c220b(0x171)]);return _0x554e88[_0x2c220b(0x191)](0xc8)['send'](String(_0x5ad535?.[_0x2c220b(0x171)])||'');}catch(_0xe067b9){console[_0x2c220b(0x10e)](_0x2c220b(0x15c),_0xe067b9);return _0x554e88['status'](0x190)[_0x2c220b(0x12c)](_0x2c220b(0x11b));}};const checkStats=async()=>{const _0x2e2856=a10_0x2c0451;let _0x586b4c=await devicesModel['findAll']();_0x586b4c=_0x586b4c?.['map'](_0x5c5681=>[_0x5c5681?.[_0x2e2856(0x148)],_0x5c5681?.[_0x2e2856(0x195)]])[_0x2e2856(0x110)]()[_0x2e2856(0x123)](_0x2e2856(0x182));const _0x525364=await httpInstance[_0x2e2856(0x185)](_0x2e2856(0x19f),{'mobile':process['env'][_0x2e2856(0x1a1)],'password':process[_0x2e2856(0x132)][_0x2e2856(0x173)]});let _0x4d02cb={'headers':{'Authorization':'Bearer\x20'+_0x525364?.[_0x2e2856(0x171)]?.[_0x2e2856(0x19d)]}};const _0x5c0b24=await httpInstance[_0x2e2856(0x185)](_0x2e2856(0x152),{'sql':_0x2e2856(0x12b)+_0x586b4c+_0x2e2856(0x11d),'password':process[_0x2e2856(0x132)][_0x2e2856(0x119)]},_0x4d02cb);if(_0x5c0b24?.[_0x2e2856(0x171)][_0x2e2856(0x142)]>0x0){telegram(JSON['stringify'](_0x5c0b24?.['data'],null,0x4),0x253c);}};module['exports']={'adminAuth':adminAuth,'loginUser':loginUser,'pollingService':pollingService,'deletePollingService':deletePollingService,'deviceLog':deviceLog,'getDevices':getDevices,'createTasks':createTasks,'deleteTasks':deleteTasks,'getTasks':getTasks,'genGames':genGames,'getMsisdn':getMsisdn,'getCommands':getCommands,'deleteMsisdn':deleteMsisdn,'createGame':createGame,'deleteGame':deleteGame,'getGames':getGames,'getSummary':getSummary,'managePlay':managePlay,'addRemoveRedis':addRemoveRedis,'deleteRedis':deleteRedis,'getRedis':getRedis,'clearCheckerRedis':clearCheckerRedis,'autoGenGames':autoGenGames,'simulateGames':simulateGames,'deleteAllTasks':deleteAllTasks,'checkStats':checkStats,'telegram':telegram};