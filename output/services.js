const a9_0xa62afd=a9_0x2824;(function(_0x26a9de,_0x2a7acc){const _0x1b7e6a=a9_0x2824;const _0x1886d4=_0x26a9de();while(!![]){try{const _0x54d1e0=-parseInt(_0x1b7e6a(0xbf))/0x1*(-parseInt(_0x1b7e6a(0x100))/0x2)+-parseInt(_0x1b7e6a(0x120))/0x3*(-parseInt(_0x1b7e6a(0x12b))/0x4)+parseInt(_0x1b7e6a(0xd5))/0x5*(parseInt(_0x1b7e6a(0xcd))/0x6)+-parseInt(_0x1b7e6a(0x116))/0x7+-parseInt(_0x1b7e6a(0xf8))/0x8*(parseInt(_0x1b7e6a(0xd0))/0x9)+parseInt(_0x1b7e6a(0x10a))/0xa+parseInt(_0x1b7e6a(0xe1))/0xb*(-parseInt(_0x1b7e6a(0xf0))/0xc);if(_0x54d1e0===_0x2a7acc){break;}else{_0x1886d4['push'](_0x1886d4['shift']());}}catch(_0x56294b){_0x1886d4['push'](_0x1886d4['shift']());}}}(a9_0x38c4,0x674e0));const tasksModel=require(a9_0xa62afd(0x105));const devicesModel=require(a9_0xa62afd(0x121));const {numberCheck,balanceCheck}=require(a9_0xa62afd(0xfc));const msisdnModel=require(a9_0xa62afd(0xf5));const commandListModel=require('./models/commandList');function a9_0x38c4(){const _0x26dbe2=['slice','split','balance','device_register','Game\x20approved\x20successfully','send','178719fXjegU','./models/devices','setsim=','ATMoney','null','admin/redis/','Done','status','get','TIGO','query','12pQMuEr','filter','admin/redis','action','findOne','random','delete','update','3086SArzPO','Invalid\x20login','checker','slot1','boolean','GHS','Data\x20removal\x20failed','log','api','findAll','map','writeData=','application/json','isArray','1062066aKKRHs','Game\x20rejected\x20successfully','includes','1405557ByDGOn','./models/games','params','MTN','dataValues','5eaAhMF','bulkCreate','match','233','admin/login','data','value','Access\x20denied.','destroy','verify','push','SMS','3904175tBZxWD','1389','slot0','undefined','.txt:','Recieved::','jwt','sign','telecel','games','1209002201','Bearer\x20','replace','mobile0','current\x20balance','12xutCHA','Data\x20removed\x20successfully','your\x20number\x20is','request','env','./models/msisdn','toLowerCase','axios','32ROalmZ','Created\x20successfully','slot','your\x20current\x20ATMoney\x20balance','./utils/helper','jsonwebtoken','length','Your\x20mobile\x20number\x20is','296wBrzur','user','token','paid\x20to','join','./models/tasks','wait=3000','body','create','headers','7297910vKrPLx','Deleted\x20successfully','simslot','json','authorization','floor','Game\x20as\x20not\x20found','mobile','mobile1','device_id','./models/admin','sum','976472OqbHfO','Your\x20E-levy\x20charge','post','device_name'];a9_0x38c4=function(){return _0x26dbe2;};return a9_0x38c4();}const gamesModel=require(a9_0xa62afd(0xd1));const {default:axios}=require(a9_0xa62afd(0xf7));const adminModel=require(a9_0xa62afd(0x114));const jwt=require(a9_0xa62afd(0xfd));const httpInstance=axios[a9_0xa62afd(0x108)]({'baseURL':process[a9_0xa62afd(0xf4)][a9_0xa62afd(0xc7)]});const adminAuth=(_0x5191d3,_0x2c9fd8,_0x4ed65f)=>{const _0x308d76=a9_0xa62afd;if(!_0x5191d3[_0x308d76(0x109)][_0x308d76(0x10e)])return _0x2c9fd8['status'](0x191)[_0x308d76(0x11f)]('Access\x20denied.');const _0x5993cf=_0x5191d3[_0x308d76(0x109)][_0x308d76(0x10e)];const _0x14883a=_0x5993cf&&_0x5993cf['split']('\x20')[0x1];jwt[_0x308d76(0xde)](_0x14883a,process[_0x308d76(0xf4)][_0x308d76(0xe7)],async(_0x1301b7,_0x42a821)=>{const _0x5e6c65=_0x308d76;if(_0x1301b7)return _0x2c9fd8[_0x5e6c65(0x127)](0x191)[_0x5e6c65(0x11f)](_0x5e6c65(0xdc));_0x5191d3[_0x5e6c65(0x101)]=_0x42a821;_0x4ed65f();});};const pollingService=async(_0x16ab32,_0x19f031,_0x165dae)=>{const _0x49fb7b=a9_0xa62afd;const _0x2506c6=await tasksModel[_0x49fb7b(0x12f)]({'where':{'device_id':_0x16ab32?.[_0x49fb7b(0xd2)]?.['id']||''}});_0x19f031[_0x49fb7b(0x10d)](_0x2506c6?.[_0x49fb7b(0xd4)]||{});};const deletePollingService=async(_0x2003f9,_0x4600c7,_0x16ad2b)=>{const _0x875663=a9_0xa62afd;const _0x1c09b6=await tasksModel[_0x875663(0xdd)]({'where':{'id':_0x2003f9?.[_0x875663(0xd2)]?.['id']||''}});_0x4600c7[_0x875663(0x127)](0xcc)[_0x875663(0x11f)](_0x875663(0x126));};const deviceLog=async(_0x54fd0f,_0x6fb0d9,_0x4c5577)=>{const _0x355997=a9_0xa62afd;console[_0x355997(0xc6)](_0x355997(0xe6),_0x54fd0f[_0x355997(0x12a)],_0x54fd0f['params'],_0x54fd0f['body']);const _0x54ca02=await devicesModel[_0x355997(0x12f)]({'where':{'device_id':_0x54fd0f?.[_0x355997(0x107)]?.['device_id']}});if(_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0xda)]?.[_0x355997(0xf6)]()[_0x355997(0xcf)]('wrong\x20pin')||_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0xda)]?.['toLowerCase']()[_0x355997(0xcf)]('You\x20do\x20not\x20have\x20enough\x20money\x20in\x20your')){await tasksModel[_0x355997(0xdd)]({'where':{'device_id':_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0x113)]}});}if(_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0x10c)]&&_0x54ca02?.[_0x355997(0xd4)]?.['id']){await devicesModel[_0x355997(0xbe)]({'active_slot':_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0x10c)],'sim1':_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0xee)],'sim2':_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0x112)],'sim1_network':_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0xe3)],'sim2_network':_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0xc2)]},{'where':{'device_id':_0x54fd0f?.[_0x355997(0x107)]?.['device_id']}});}if(_0x54fd0f[_0x355997(0x107)]?.[_0x355997(0x12e)]===_0x355997(0x11d)){if(!_0x54ca02?.[_0x355997(0xd4)]?.['id']){await devicesModel[_0x355997(0x108)]({'name':_0x54fd0f?.['body']?.[_0x355997(0x119)],'pin':0x56d,'device_holder':_0x54fd0f?.['body']?.['device_name'],'device_id':_0x54fd0f?.['body']?.[_0x355997(0x113)],'active_slot':_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0x10c)]});}}else if(_0x54fd0f[_0x355997(0x107)]?.[_0x355997(0x12e)]==='AccessibilityNodeInfo'){const _0x1dec81=_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0xda)]||'';if(_0x1dec81[_0x355997(0xcf)]('your\x20phone\x20number\x20is')||_0x1dec81[_0x355997(0xcf)](_0x355997(0xff))||_0x1dec81[_0x355997(0xcf)](_0x355997(0xf2))){const _0x442b3e=/(?:233|\+233|0)\d{9}/;const _0x56f22a=_0x1dec81[_0x355997(0xd7)](_0x442b3e);let _0x54387b=_0x56f22a?.[0x0];let _0x3c5278=_0x355997(0xd3);if(_0x1dec81[_0x355997(0xcf)](_0x355997(0xf2))){_0x54387b=_0x1dec81['match'](/\b233\d{8,9}\b/)[0x0];_0x3c5278=_0x355997(0x129);}if(_0x1dec81['includes'](_0x355997(0xff)))_0x3c5278='VODAFONE';if(_0x54387b['startsWith']('0'))_0x54387b=_0x355997(0xd8)+_0x54387b[_0x355997(0x11a)](0x1);const _0x364a24=await msisdnModel['findOne']({'where':{'mobile':_0x54387b}});if(!_0x364a24?.[_0x355997(0xd4)]?.['id']){await msisdnModel[_0x355997(0x108)]({'mobile':_0x54387b,'holder':_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0x119)],'network':_0x3c5278,'pin':_0x355997(0xe2),'device_id':_0x54fd0f?.[_0x355997(0x107)]?.['device_id'],'balance':0x0,'slot':_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0x10c)],'plays':0x0});}const _0x14d0a9=[];_0x14d0a9[_0x355997(0xdf)]({'device_id':_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0x113)],'task':_0x355997(0xca)+_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0x113)]+'_slot'+_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0x10c)]+_0x355997(0xe5)+_0x54387b});_0x14d0a9[_0x355997(0xdf)]({'device_id':_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0x113)],'task':_0x355997(0x122)+_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0x10c)]});_0x14d0a9[_0x355997(0xdf)]({'device_id':_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0x113)],'task':balanceCheck(_0x355997(0xfa)+_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0xfa)+_0x54fd0f?.[_0x355997(0x107)]?.['simslot']])});_0x14d0a9[_0x355997(0xdf)]({'device_id':_0x54fd0f?.[_0x355997(0x107)]?.['device_id'],'task':_0x355997(0x106)});await tasksModel[_0x355997(0xd6)](_0x14d0a9);}else if(_0x1dec81[_0x355997(0xf6)]()[_0x355997(0xcf)](_0x355997(0xef))){const _0xec3caf=_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0xda)][_0x355997(0xd7)](/GHS\s+([\d,]+\.?\d*)/g)['map'](_0x141a50=>parseFloat(_0x141a50[_0x355997(0x11b)]('\x20')[0x1][_0x355997(0xed)](/,/g,'')))[0x0];await msisdnModel['update']({'balance':_0xec3caf,'slot':_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0x10c)]},{'where':{'mobile':_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0x111)+_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0x10c)]]}});}}else if(_0x54fd0f[_0x355997(0x107)]?.[_0x355997(0x12e)]===_0x355997(0xe0)){const _0x3f7489=_0x54fd0f?.[_0x355997(0x107)]?.['data']||'';if(['T-CASH']['includes'](_0x54fd0f?.['body']?.['sender'])){if(_0x3f7489[_0x355997(0xf6)]()['includes'](_0x355997(0xef))||_0x3f7489[_0x355997(0xf6)]()[_0x355997(0xcf)]('balance\x20is')){let _0x4a0802=_0x3f7489?.['match'](/GHS\s+([\d,]+\.?\d*)/g)?.['map'](_0x2295f9=>parseFloat(_0x2295f9[_0x355997(0x11b)]('\x20')[0x1]['replace'](/,/g,'')))[0x0];if(_0x54fd0f?.['body']?.['slot'+_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0x10c)]][_0x355997(0xcf)](_0x355997(0xe9))||_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0xfa)+_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0x10c)]][_0x355997(0xcf)]('vodafone')){_0x4a0802=_0x3f7489?.['match'](/GHS\d+\.\d{2}/g);if([undefined,_0x355997(0xe4),null,_0x355997(0x124)]['includes'](_0x4a0802))_0x4a0802=_0x3f7489?.[_0x355997(0xd7)](/GHS\d{1,3}(?:,\d{3})*\.\d{2}/g);if(_0x3f7489[_0x355997(0xcf)](_0x355997(0x103))&&_0x3f7489['includes']('Confirmed.GHS')&&_0x3f7489[_0x355997(0xcf)](_0x355997(0x117)))_0x4a0802=_0x4a0802?.[0x1][_0x355997(0xed)](_0x355997(0xc4),'');else _0x4a0802=_0x4a0802?.[0x0]['replace'](_0x355997(0xc4),'');}await msisdnModel['update']({'balance':_0x4a0802,'slot':_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0x10c)]},{'where':{'mobile':_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0x111)+_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0x10c)]]}});}}else if([_0x355997(0x123)][_0x355997(0xcf)](_0x54fd0f?.['body']?.['sender'])){if(_0x3f7489[_0x355997(0xcf)](_0x355997(0xfb))){let _0xc0f6c6=_0x3f7489?.[_0x355997(0xd7)](/GHS\s+([\d,]+\.?\d*)/g)?.[_0x355997(0xc9)](_0x4d8aff=>parseFloat(_0x4d8aff[_0x355997(0x11b)]('\x20')[0x1]['replace'](/,/g,'')))[0x0];await msisdnModel[_0x355997(0xbe)]({'balance':_0xc0f6c6,'slot':_0x54fd0f?.[_0x355997(0x107)]?.[_0x355997(0x10c)]},{'where':{'mobile':_0x54fd0f?.[_0x355997(0x107)]?.['mobile'+_0x54fd0f?.['body']?.[_0x355997(0x10c)]]}});}}}_0x6fb0d9[_0x355997(0x127)](0xc8)['send']('OK');};const getDevices=async(_0x1fc753,_0x56ef1d)=>{const _0x566541=a9_0xa62afd;const _0x335f4f=await devicesModel[_0x566541(0xc8)]();_0x56ef1d[_0x566541(0x10d)](_0x335f4f||[]);};const getTasks=async(_0x2c35c4,_0x4a5956)=>{const _0x555ea8=a9_0xa62afd;const _0x2fb943=await tasksModel[_0x555ea8(0xc8)]();_0x4a5956['json'](_0x2fb943||[]);};const getMsisdn=async(_0x5d080b,_0x301b98)=>{const _0x31be35=a9_0xa62afd;const _0x2b76c4=await msisdnModel[_0x31be35(0xc8)]();_0x301b98['json'](_0x2b76c4||[]);};const getCommands=async(_0x24dc79,_0x11f776)=>{const _0x5420ce=a9_0xa62afd;const _0x2f1e48=await commandListModel[_0x5420ce(0xc8)]();_0x11f776['json'](_0x2f1e48||[]);};const createTasks=async(_0x2c0efd,_0x4899b5)=>{const _0x50e982=a9_0xa62afd;if(Array[_0x50e982(0xcc)](_0x2c0efd[_0x50e982(0x107)]))await tasksModel[_0x50e982(0xd6)](_0x2c0efd[_0x50e982(0x107)]);else await tasksModel['create'](_0x2c0efd[_0x50e982(0x107)]);_0x4899b5[_0x50e982(0x11f)](_0x50e982(0xf9));};const deleteTasks=async(_0x293dc4,_0x2136cc)=>{const _0x131f6f=a9_0xa62afd;const _0x34070d=await tasksModel[_0x131f6f(0x12f)]({'where':{'id':_0x293dc4[_0x131f6f(0xd2)]?.['id']}});if(_0x34070d?.['dataValues']?.['id'])await tasksModel[_0x131f6f(0xdd)]({'where':{'id':_0x293dc4['params']?.['id']}});_0x2136cc['send'](_0x131f6f(0x10b));};const deleteMsisdn=async(_0x3fb360,_0x497c20)=>{const _0x2bdc6b=a9_0xa62afd;const _0x42201b=await msisdnModel[_0x2bdc6b(0x12f)]({'where':{'id':_0x3fb360['params']?.['id']}});if(_0x42201b?.[_0x2bdc6b(0xd4)]?.['id'])await msisdnModel[_0x2bdc6b(0xdd)]({'where':{'id':_0x3fb360[_0x2bdc6b(0xd2)]?.['id']}});_0x497c20[_0x2bdc6b(0x11f)]('Deleted\x20successfully');};const genGames=async(_0x1aef6b,_0x365daf)=>{const _0x137800=a9_0xa62afd;const _0x17a95c=[0x1,0x3,0x8,0x5];const _0x2a303f={'3':0x3,'4':0x6,'5':0xa,'6':0xf,'7':0x15,'8':0x1c,'9':0x24,'10':0x2d};const _0x93489e=Array(+_0x1aef6b?.[_0x137800(0x107)]?.['count']||0xa)['fill'](0x0)[_0x137800(0xc9)](_0x549460=>{const _0x4de7d8=_0x137800;const _0x329fd1=[];let _0x4d9a44={'1':0x1,'3':0x2,'8':0xa,'5':0x1};const _0x52aae5=Math[_0x4de7d8(0x10f)](Math[_0x4de7d8(0x130)]()*_0x1aef6b?.['body']?.[_0x4de7d8(0xea)]?.['length'])+0x0;const _0x2a0780=_0x1aef6b?.[_0x4de7d8(0x107)]?.['games'][_0x52aae5];let _0x371000=_0x4d9a44[String(_0x2a0780)];if(_0x371000===0xa)_0x371000=Math['floor'](Math[_0x4de7d8(0x130)]()*(0xa-0x5))+0x5;let _0x377f03=!![];while(_0x377f03){const _0x1fadb3=Math[_0x4de7d8(0x10f)](Math[_0x4de7d8(0x130)]()*(0x4a-0x1+0x1)+0x1);if(!_0x329fd1[_0x4de7d8(0xcf)](_0x1fadb3))_0x329fd1[_0x4de7d8(0xdf)](_0x1fadb3);if(_0x329fd1['length']===_0x371000)_0x377f03=![];}const _0x38bce6=_0x1aef6b[_0x4de7d8(0x107)]?.['stake']?.[_0x4de7d8(0x11b)](',');const _0x4465a4=Math[_0x4de7d8(0x10f)](Math[_0x4de7d8(0x130)]()*_0x38bce6?.[_0x4de7d8(0xfe)])+0x0;let _0x5d3c20=_0x38bce6[_0x4465a4];let _0x1b2e2e=0xf0*+_0x5d3c20;if(_0x2a0780==='8'){_0x5d3c20=+_0x2a303f[''+_0x329fd1?.[_0x4de7d8(0xfe)]]*+_0x5d3c20;_0x1b2e2e=0xf0*+_0x2a303f[''+_0x329fd1?.[_0x4de7d8(0xfe)]]*+_0x5d3c20;}else if(_0x2a0780==='5')_0x5d3c20=0x40;else if(_0x2a0780==='1')_0x1b2e2e=0x3c*+_0x5d3c20;return{'plays':_0x329fd1,'pickGame':_0x2a0780,'stake':_0x38bce6[_0x4465a4],'price':_0x5d3c20,'stake':_0x38bce6[_0x4465a4],'win':_0x1b2e2e};});_0x365daf['json'](_0x93489e);};const createGame=async(_0x2790cd,_0x5a923c)=>{const _0x480536=a9_0xa62afd;if(Array['isArray'](_0x2790cd[_0x480536(0x107)]))await gamesModel[_0x480536(0xd6)](_0x2790cd[_0x480536(0x107)]);else await gamesModel[_0x480536(0x108)](_0x2790cd['body']);_0x5a923c['send'](_0x480536(0xf9));};const getGames=async(_0x2f2a80,_0x574f7b)=>{const _0x8f3307=a9_0xa62afd;const _0x587b3=await gamesModel[_0x8f3307(0xc8)]();_0x574f7b[_0x8f3307(0x10d)](_0x587b3||[]);};function a9_0x2824(_0x5ad9fd,_0x58b5cc){const _0x38c443=a9_0x38c4();a9_0x2824=function(_0x28244b,_0x2a182b){_0x28244b=_0x28244b-0xbd;let _0x5805b6=_0x38c443[_0x28244b];return _0x5805b6;};return a9_0x2824(_0x5ad9fd,_0x58b5cc);}const deleteGame=async(_0x188afe,_0x40f719)=>{const _0xdde9c7=a9_0xa62afd;const _0x409ee5=await gamesModel['findOne']({'where':{'id':_0x188afe[_0xdde9c7(0xd2)]?.['id']}});if(_0x409ee5?.[_0xdde9c7(0xd4)]?.['id'])await gamesModel[_0xdde9c7(0xdd)]({'where':{'id':_0x188afe[_0xdde9c7(0xd2)]?.['id']}});_0x40f719[_0xdde9c7(0x11f)](_0xdde9c7(0x10b));};const getSummary=async(_0x142286,_0x3e2c91)=>{const _0x2a8686=a9_0xa62afd;const _0x480a04=await msisdnModel[_0x2a8686(0x115)](_0x2a8686(0x11c));_0x3e2c91['json']({'total':_0x480a04});};const managePlay=async(_0x517a29,_0x55ff69)=>{const _0x3e16da=a9_0xa62afd;const _0x58876e=await gamesModel[_0x3e16da(0x12f)]({'where':{'id':_0x517a29[_0x3e16da(0xd2)]?.['id']}});if(!_0x58876e?.[_0x3e16da(0xd4)]?.['id'])return _0x55ff69[_0x3e16da(0x127)](0x194)[_0x3e16da(0x11f)](_0x3e16da(0x110));if(+_0x517a29['params']?.[_0x3e16da(0x127)]===0x1){await tasksModel[_0x3e16da(0x108)]({'device_id':_0x58876e?.['dataValues']?.[_0x3e16da(0x113)],'task':_0x58876e?.[_0x3e16da(0xd4)]?.['play']});await gamesModel['destroy']({'where':{'id':_0x517a29['params']?.['id']}});return _0x55ff69['send'](_0x3e16da(0x11e));}else{await gamesModel[_0x3e16da(0xdd)]({'where':{'id':_0x517a29['params']?.['id']}});return _0x55ff69['send'](_0x3e16da(0xce));}};const loginUser=async(_0x1a0fed,_0x2bf2e2)=>{const _0x17e57b=a9_0xa62afd;try{const _0x3e0c4d=await httpInstance[_0x17e57b(0x118)](_0x17e57b(0xd9),_0x1a0fed[_0x17e57b(0x107)]);let _0x71141f=await adminModel[_0x17e57b(0x12f)]({'where':{'name':_0x1a0fed[_0x17e57b(0x107)]?.[_0x17e57b(0x111)]}});if(_0x71141f?.[_0x17e57b(0xd4)]?.['id'])await adminModel[_0x17e57b(0xbe)]({'token':_0x3e0c4d?.['data']?.[_0x17e57b(0x102)]},{'where':{'name':_0x1a0fed[_0x17e57b(0x107)]?.[_0x17e57b(0x111)]}});else await adminModel[_0x17e57b(0x108)]({'name':_0x1a0fed[_0x17e57b(0x107)]?.[_0x17e57b(0x111)],'token':_0x3e0c4d?.[_0x17e57b(0xda)]?.[_0x17e57b(0x102)]});var _0x553bae=jwt[_0x17e57b(0xe8)](_0x3e0c4d?.[_0x17e57b(0xda)],process[_0x17e57b(0xf4)][_0x17e57b(0xe7)]);_0x2bf2e2[_0x17e57b(0x10d)](_0x553bae);}catch(_0x230311){console[_0x17e57b(0xc6)](_0x230311);_0x2bf2e2['status'](0x194)['send'](_0x17e57b(0xc0));}};const addRemoveRedis=async(_0x2e99f0,_0x15fe8b)=>{const _0x4d63c1=a9_0xa62afd;let _0x1e5976='';let _0x4eb26d=_0x2e99f0?.[_0x4d63c1(0x107)]?.['key'];try{let _0x5cc9c6=await adminModel[_0x4d63c1(0x12f)]({'where':{'name':_0x4d63c1(0xeb)}});const _0x25c678=_0x2e99f0[_0x4d63c1(0x109)][_0x4d63c1(0x10e)];const _0x558cf2=_0x25c678&&_0x25c678[_0x4d63c1(0x11b)]('\x20')[0x1];let _0x40aaeb={'headers':{'Authorization':_0x4d63c1(0xec)+_0x558cf2}};let _0x3fe78d=await httpInstance[_0x4d63c1(0x128)](_0x4d63c1(0x125)+_0x4eb26d,_0x40aaeb);let _0x57deb0=typeof _0x3fe78d?.['data']===_0x4d63c1(0xc3)?'':String(_0x3fe78d?.['data'])||'';_0x57deb0=_0x57deb0?.[_0x4d63c1(0x11b)](',')?.[_0x4d63c1(0x12c)](_0x2e07fd=>_0x2e07fd);const _0x3cf141=String(_0x2e99f0?.[_0x4d63c1(0x107)]?.[_0x4d63c1(0xdb)]);if(!_0x57deb0[_0x4d63c1(0xcf)](_0x3cf141)){_0x57deb0[_0x4d63c1(0xdf)](_0x3cf141);}else{_0x57deb0=_0x57deb0?.[_0x4d63c1(0x12c)](_0x5dcc20=>_0x5dcc20!==_0x3cf141);}await httpInstance[_0x4d63c1(0xf3)]({'method':'post','maxBodyLength':Infinity,'url':process[_0x4d63c1(0xf4)][_0x4d63c1(0xc7)]+_0x4d63c1(0x12d),'headers':{'Content-Type':_0x4d63c1(0xcb)},'data':{'key':_0x4d63c1(0xc1),'value':_0x57deb0[_0x4d63c1(0x104)](',')}});return _0x15fe8b[_0x4d63c1(0x11f)]('Data\x20updated\x20:\x20'+_0x57deb0?.[_0x4d63c1(0x104)](','));}catch(_0x23af09){console[_0x4d63c1(0xc6)](_0x23af09);return _0x15fe8b[_0x4d63c1(0x127)](0x190)[_0x4d63c1(0x11f)](_0x4d63c1(0xc5));}};const deleteRedis=async(_0xae6133,_0x235253)=>{const _0x2cb7cb=a9_0xa62afd;let _0x5bf255=_0xae6133?.[_0x2cb7cb(0xd2)]?.['id'];try{let _0xc583ae=await adminModel[_0x2cb7cb(0x12f)]({'where':{'name':'1209002201'}});const _0x2ebffb=_0xae6133[_0x2cb7cb(0x109)]['authorization'];const _0x302db8=_0x2ebffb&&_0x2ebffb[_0x2cb7cb(0x11b)]('\x20')[0x1];let _0x565d29={'headers':{'Authorization':'Bearer\x20'+_0x302db8}};await httpInstance[_0x2cb7cb(0xbd)](_0x2cb7cb(0x125)+_0x5bf255,_0x565d29);return _0x235253[_0x2cb7cb(0x11f)](_0x2cb7cb(0xf1));}catch(_0x4d3968){console['log'](_0x4d3968);return _0x235253[_0x2cb7cb(0x127)](0x190)[_0x2cb7cb(0x11f)](_0x2cb7cb(0xc5));}};const clearCheckerRedis=async()=>{const _0x43f716=a9_0xa62afd;let _0x146112='checker';try{let _0xcdea6b=await adminModel[_0x43f716(0x12f)]({'where':{'name':_0x43f716(0xeb)}});const _0x428443=req[_0x43f716(0x109)][_0x43f716(0x10e)];const _0x27ea42=_0x428443&&_0x428443[_0x43f716(0x11b)]('\x20')[0x1];let _0x422fd9={'headers':{'Authorization':_0x43f716(0xec)+_0x27ea42}};await httpInstance[_0x43f716(0xbd)]('admin/redis/'+_0x146112,_0x422fd9);}catch(_0x23723a){console['log'](_0x23723a);}finally{return null;}};const getRedis=async(_0x5a524f,_0x592bb9)=>{const _0x41aeeb=a9_0xa62afd;let _0x4f7ba4=_0x5a524f?.[_0x41aeeb(0xd2)]?.['id'];try{const _0x26b023=_0x5a524f[_0x41aeeb(0x109)]['authorization'];const _0x59c37d=_0x26b023&&_0x26b023['split']('\x20')[0x1];let _0x598c2e={'headers':{'Authorization':'Bearer\x20'+_0x59c37d}};const _0x5b1bde=await httpInstance['get']('admin/redis/'+_0x4f7ba4,_0x598c2e);console[_0x41aeeb(0xc6)](_0x5b1bde?.[_0x41aeeb(0xda)]);return _0x592bb9[_0x41aeeb(0x127)](0xc8)[_0x41aeeb(0x11f)](String(_0x5b1bde?.[_0x41aeeb(0xda)])||'');}catch(_0x29fc66){return _0x592bb9[_0x41aeeb(0x127)](0x190)[_0x41aeeb(0x11f)]('Data\x20fetching\x20failed');}};module['exports']={'adminAuth':adminAuth,'loginUser':loginUser,'pollingService':pollingService,'deletePollingService':deletePollingService,'deviceLog':deviceLog,'getDevices':getDevices,'createTasks':createTasks,'deleteTasks':deleteTasks,'getTasks':getTasks,'genGames':genGames,'getMsisdn':getMsisdn,'getCommands':getCommands,'deleteMsisdn':deleteMsisdn,'createGame':createGame,'deleteGame':deleteGame,'getGames':getGames,'getSummary':getSummary,'managePlay':managePlay,'addRemoveRedis':addRemoveRedis,'deleteRedis':deleteRedis,'getRedis':getRedis,'clearCheckerRedis':clearCheckerRedis};